import{r as t,c as n,h as e,g as i}from"./p-2c62b073.js";import{e as o}from"./p-0b63bcd7.js";import{g as a,T as s,E as u,t as l,a as h,b as c,m as d,c as f,d as v,e as p}from"./p-7a8c3349.js";var m,y;!function(t){t[t.Unpaid=0]="Unpaid",t[t.Paid=1]="Paid"}(m||(m={})),function(t){t.bookings="bookings",t.amount="amount",t.expenses="expenses"}(y||(y={}));const M=class{constructor(e){t(this,e),this.showBooking=n(this,"showBooking",7)}isPaid(t){return this.isBookingPaid(t.currentBooking||t.futureBooking)}isBookingPaid(t){return t&&m[t.status]===m[m.Paid]}isExpiring(t){return!!t.expiringBooking}getStatusClass(t){let n="";return t.currentBooking?(n+=" red",t.currentBooking.checkedIn&&(n+=" checked-in")):t.futureBooking&&(n+=" yellow"),t.currentBooking||t.futureBooking||(n+=" green"),n}renderBookingDate(t){return t?e("span",{class:"date-info"},`${a(t.checkInTime)} - ${a(t.checkOutTime)}`):""}renderExpiringIcon(t){if(this.isExpiring(t)){const n=this.isBookingPaid(t.expiringBooking)?"info":"warning";return e("i",{onClick:n=>this.showBooking.emit({booking:t.expiringBooking,currentEvent:n}),class:"material-icons pull-right expiring"},n)}return""}render(){return e("div",{class:"rooms-wrapper"},e("div",{class:"row"},this.rooms.map(t=>e("div",{class:"col-xs-6 col-sm-4 col-md-3 col-lg-2"},e("div",{onClick:()=>this.showBooking.emit({room:t.room,booking:t.currentBooking}),class:"room "+this.getStatusClass(t)},this.isPaid(t)?e("i",{class:"material-icons pull-right paid"},"check"):"",this.renderExpiringIcon(t),e("span",{class:"info"},t.room.name,"-",t.room.seatsCount),this.renderBookingDate(t.currentBooking||t.futureBooking))))))}};class w{static isLoggedIn(){return!!localStorage.getItem(s)&&1e3*this.getPayload().exp>Date.now()}static login(t){localStorage.setItem(s,t)}static logout(){localStorage.removeItem(s)}static getUser(){return this.getPayload()}static getAccessToken(){return localStorage.getItem(s)}static getPayload(){var t=localStorage.getItem(s).split(".")[1];return t=atob(t),JSON.parse(t)}}class k{static send(t,n,e){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"viewApp",category:t,action:n,userId:e||""})}}const x=class{constructor(e){t(this,e),this.onLogin=n(this,"onLogin",7)}componentDidLoad(){k.send("app","view change password",w.getUser().sub)}async changePassword(){try{if(this.hasPasswordLengthError=(this.newPassword||"").length<6,this.hasDoesNotMatchError=this.newPassword!==this.confirmPassword,this.hasPasswordLengthError||this.hasDoesNotMatchError)return;this.loading=!0;const t=await fetch(`${o().API_BASE_URL}/account/changepassword`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${w.getAccessToken()}`},body:JSON.stringify({oldPassword:this.currentPassword,newPassword:this.newPassword,confirmPassword:this.confirmPassword})});if(!t.ok)throw"Failed to process your request";{const n=await t.json();if(!n.access_token)throw"invalid login attempt";w.login(n.access_token),k.send("app","password changed",w.getUser().sub),this.onLogin.emit()}}catch(t){this.hasFailed=!0}this.loading=!1}render(){return e("div",{class:"loginwrapper"},e("div",{class:"alert alert-warning text-center"},"გთხოვთ შეცვალოთ პაროლი"),this.hasFailed?e("div",{class:"alert alert-danger text-center"},e("strong",null," დაფიქსირდა შეცდომა. ")):"",e("div",{class:"loader-wrapper"},this.loading?e("app-loader",null):""),e("input",{type:"password",class:"form-control",placeholder:"ახალი პაროლი",onKeyDown:async t=>13===t.keyCode?await this.changePassword():()=>{},value:this.newPassword,onInput:t=>this.newPassword=t.target.value}),this.hasPasswordLengthError?e("p",{class:"text-error"},"პაროლი უნდა იყოს მინიმუმ 6 სიმბოლო"):"",e("br",null),e("input",{type:"password",class:"form-control",placeholder:"გაიმეორეთ პაროლი",onKeyDown:async t=>13===t.keyCode?await this.changePassword():()=>{},value:this.confirmPassword,onInput:t=>this.confirmPassword=t.target.value}),this.hasDoesNotMatchError?e("p",{class:"text-error"},"პაროლი არ ემთხვევა"):"",e("br",null),e("a",{onClick:async()=>await this.changePassword(),class:"btn btn-primary loginbutton"},"დადასტურება"))}};x.style=".loginwrapper{width:270px;margin:0 auto;margin-top:150px}.loginbutton{width:100%;border-radius:15px !important}.text-error{color:#f00}";const D=class{constructor(n){t(this,n)}render(){return[e("div",{class:"dark-bg"}),e("div",{class:"modal show",role:"dialog"},e("div",{class:"modal-dialog"},e("div",{class:"modal-content"},e("div",{class:"modal-header"},e("button",{type:"button",class:"close",onClick:()=>this.onClose()},"×"),e("h4",{class:"modal-title"},"გთხოვთ დაადასტუროთ")),e("div",{class:"modal-body"},e("div",{class:"alert alert-danger"},"ნამდვილად გსურთ ჩანაწერის წაშლა?")),e("div",{class:"modal-footer"},e("button",{type:"button",class:"btn btn-default",onClick:()=>this.onClose()},"უკან დაბრუნება"),e("button",{type:"button",class:"btn btn-primary",onClick:()=>this.onApprove()},"დადასტურება")))))]}};D.style="app-confirm .dark-bg{width:100vh;height:100vh;background-color:#000;opacity:.95;position:absolute;top:0;left:0;z-index:9999}app-confirm .modal{z-index:9999}";const S=class{constructor(n){t(this,n)}render(){return[e("label",null,this.label),e("div",{class:"input-group date",id:this.elementId,"data-horizontal-position":this.horizontalPosition},e("input",{type:"text",class:"form-control",readonly:"readonly",value:this.value}),e("span",{class:"input-group-addon"},e("span",{class:"glyphicon glyphicon-calendar"})))]}};class Y{constructor(){this.items=[],this._selectedIndex=-1}setIndex(t){this._selectedIndex=t,this._callback()}set loading(t){this._loading=t,this._callback()}set showConfirm(t){this._showConfirm=t,this._callback()}subscribe(t){this._callback=t}setItems(t){this.items=[...t]}showConfirmation(t){this._itemToRemoveId=t,this.showConfirm=!0}render(){return[e("div",{id:this.getWrapperId(),class:"modal fade common-editor",role:"dialog"},e("div",{class:"modal-dialog"},e("div",{class:"modal-content"},e("div",{class:"modal-header"},e("button",{type:"button",class:"close","data-dismiss":"modal"},"×"),e("a",{style:{opacity:this._selectedIndex<0?"1":"0.5"},onClick:()=>this.createNew(),class:"btn btn-link"},this.getCreateNewTitle())),e("div",{class:"modal-body"},this._loading?e("app-loader",null):"",e("div",{class:"table-wrapper"},e("table",{class:"table"},e("thead",null,this.renderTableHeader()),e("tbody",null,this.items.map((t,n)=>this._selectedIndex!==n?e("tr",null,this.renderViewMode(t),e("td",null,e("i",{onClick:()=>{this.setIndex(n),this.lastSelectedItem=Object.assign({},this.items[this._selectedIndex])},class:"material-icons"},"edit"),e("i",{onClick:()=>this.showConfirmation(t.id),class:"material-icons"},"delete"))):e("tr",null,this.renderEditMode(t),e("td",null,e("i",{onClick:async()=>await this.save(t),class:"material-icons check"},"check"),e("i",{onClick:()=>this.handleCancel(t),class:"material-icons cancel"},"cancel")))))))),e("div",null,e("div",{class:"modal-footer"},e("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"დახურვა")))))),this._showConfirm&&e("app-confirm",{onApprove:async()=>await this.remove(this._itemToRemoveId),onClose:()=>this.showConfirm=!1})]}async save(t){try{if(this.setIndex(-1),this.loading=!0,!(await fetch(`${o().API_BASE_URL}/property/${w.getUser().properties}${this.getPath()}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${w.getAccessToken()}`},body:JSON.stringify(t)})).ok)throw"Failed to process your request";this.stateChanged.emit()}catch(n){this.showMessage.emit("დაფიქსირდა შეცდომა. ჩანაწერის შენახვა ვერ მოხერხდა.")}this.loading=!1}async remove(t){this.showConfirm=!1;try{if(this.loading=!0,!(await fetch(`${o().API_BASE_URL}/property/${w.getUser().properties}${this.getPath()}/delete/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${w.getAccessToken()}`}})).ok)throw"Failed to process your request";this.stateChanged.emit()}catch(n){this.showMessage.emit("დაფიქსირდა შეცდომა. ჩნაწერის წაშლა ვერ მოხერხდა.")}this.loading=!1}handleCancel(t){t.id!==u&&(this.items[this._selectedIndex]=Object.assign({},this.lastSelectedItem)),this.setIndex(-1),this.items=[...this.items.filter(t=>t.id!==u)]}createNew(){this._selectedIndex<0&&(this.items=[...this.items,this.createDefaultItem()],this.setIndex(this.items.length-1))}}const C=class{constructor(e){t(this,e),this.expenses=[],this.showMessage=n(this,"showMessage",7),this.stateChanged=n(this,"stateChanged",7)}componentWillLoad(){this.editor=new N([],this.stateChanged,this.showMessage,this.date),this.editor.subscribe(()=>this.state=!this.state)}watchHandler(t){this.editor.setItems(t)}dateHandler(t){this.editor.setDate(t)}render(){return this.editor?this.editor.render():e("div",null)}static get watchers(){return{expenses:["watchHandler"],date:["dateHandler"]}}};class N extends Y{constructor(t,n,e,r){super(),this.items=t,this.stateChanged=n,this.showMessage=e,this.selectedDate=r}setDate(t){this.selectedDate=t}createDefaultItem(){let t=new Date(l(this.selectedDate));return t.setHours(12),{id:u,name:"",price:0,date:t,propertyId:w.getUser().properties,isActive:!0}}getPath(){return"/expenses"}getWrapperId(){return"expenses-editor-modal"}getCreateNewTitle(){return"დამატება"}renderTableHeader(){return e("tr",null,e("th",null,"თარიღი"),e("th",null,"დასახელება"),e("th",null,"ფასი"),e("th",{style:{"min-width":"65px"}}))}renderViewMode(t){return[e("td",null,h(t.date,"/")),e("td",null,t.name),e("td",null,t.price)]}renderEditMode(t){return[e("td",null,h(t.date,"/")),e("td",null,e("input",{type:"text",onInput:n=>t.name=n.target.value,class:"form-control",value:t.name})),e("td",null,e("input",{type:"number",onInput:n=>t.price=+n.target.value,class:"form-control",value:t.price}))]}}const T=class{constructor(e){t(this,e),this.rooms=[],this.searched=!1,this.bookNow=n(this,"bookNow",7),this.showMessage=n(this,"showMessage",7)}book(t){$("#filter-modal").modal("hide"),setTimeout(()=>{const n=this.createBooking(t,l(this.checkInDate),l(this.checkOutDate));this.bookNow.emit(n)},500)}createBooking(t,n,e){return{id:u,seatsCount:t.seatsCount,guestName:"",guestLastName:"",phone:"",email:"",amount:t.price,roomName:t.name,checkInTime:new Date(n),checkOutTime:new Date(e),status:0,comment:"",checkedIn:!1}}get checkInDate(){return document.querySelector("#filterCheckInDate input").value}get checkOutDate(){return document.querySelector("#filterCheckOutDate input").value}search(){this.searched=!1;const t=document.querySelector("#filterSeatsCount").value,n=document.querySelector("#filterRoomName").value,e=`from=${this.checkInDate}&to=${this.checkOutDate}&seatsCount=${t}&roomName=${n}`;fetch(`${o().API_BASE_URL}/property/${w.getUser().properties}/rooms/find?${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${w.getAccessToken()}`}}).then(t=>t.json()).then(t=>{this.searched=!0,this.rooms=[...t]}).catch(t=>{console.log("error: ",t),this.showMessage.emit("დაფიქსირდა შეცდომა.")})}render(){return e("div",{id:"filter-modal",class:"modal fade",role:"dialog"},e("div",{class:"modal-dialog"},e("div",{class:"modal-content"},e("div",{class:"modal-header"},e("button",{type:"button",class:"close","data-dismiss":"modal"},"×"),e("h4",{class:"modal-title"},"ოთახის ძებნა")),e("div",{class:"modal-body"},e("form",{action:""},e("div",{class:"row"},e("div",{class:"form-group col-sm-6"},e("app-date-selector",{label:"შემოსვლის დრო",elementId:"filterCheckInDate"})),e("div",{class:"form-group col-sm-6"},e("app-date-selector",{label:"გამოსვლის დრო",value:h(c(),"/"),elementId:"filterCheckOutDate"}))),e("div",{class:"row"},e("div",{class:"form-group col-xs-6"},e("label",null,"ადგილი"),e("input",{type:"number",id:"filterSeatsCount",class:"form-control"})),e("div",{class:"form-group col-xs-6"},e("label",null,"ნომერი")," ",e("input",{type:"text",id:"filterRoomName",class:"form-control"}))))),e("div",null,e("div",{id:"filter-result-wrapper"},0===this.rooms.length&&this.searched?e("div",{class:"alert alert-danger text-center"},e("p",null,"თავისუფალი ოთახი არ მოიძებნა")):e("div",null),0===this.rooms.length?e("div",null):e("table",{class:"table"},e("thead",null,e("tr",null,e("th",null,"ოთახი"),e("th",null,"ადგილები"),e("th",null,"დაჯავშნა"))),e("tbody",null,this.rooms.map(t=>e("tr",null,e("td",null,t.name),e("td",null,t.seatsCount),e("td",null,e("a",{class:"btn-book",onClick:()=>this.book(t)},"დაჯავშნა"))))))),e("div",{class:"modal-footer"},e("button",{type:"button",class:"btn btn-primary",onClick:()=>this.search()},"ძებნა"),e("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"დახურვა"))))))}};var A,_;function I(){return A.apply(null,arguments)}function F(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function L(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function O(t){return void 0===t}function W(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function j(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function E(t,n){var e,r=[];for(e=0;e<t.length;++e)r.push(n(t[e],e));return r}function H(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function z(t,n){for(var e in n)H(n,e)&&(t[e]=n[e]);return H(n,"toString")&&(t.toString=n.toString),H(n,"valueOf")&&(t.valueOf=n.valueOf),t}function P(t,n,e,r){return te(t,n,e,r,!0).utc()}function B(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function R(t){if(null==t._isValid){var n=B(t),e=_.call(n.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&e);if(t._strict&&(r=r&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function G(t){var n=P(NaN);return null!=t?z(B(n),t):B(n).userInvalidated=!0,n}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,_=Array.prototype.some?Array.prototype.some:function(t){for(var n=Object(this),e=n.length>>>0,r=0;r<e;r++)if(r in n&&t.call(this,n[r],r,n))return!0;return!1};var U=I.momentProperties=[];function q(t,n){var e,r,i;if(O(n._isAMomentObject)||(t._isAMomentObject=n._isAMomentObject),O(n._i)||(t._i=n._i),O(n._f)||(t._f=n._f),O(n._l)||(t._l=n._l),O(n._strict)||(t._strict=n._strict),O(n._tzm)||(t._tzm=n._tzm),O(n._isUTC)||(t._isUTC=n._isUTC),O(n._offset)||(t._offset=n._offset),O(n._pf)||(t._pf=B(n)),O(n._locale)||(t._locale=n._locale),U.length>0)for(e=0;e<U.length;e++)O(i=n[r=U[e]])||(t[r]=i);return t}var V=!1;function Z(t){q(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===V&&(V=!0,I.updateOffset(this),V=!1)}function J(t){return t instanceof Z||null!=t&&null!=t._isAMomentObject}function Q(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function X(t){var n=+t,e=0;return 0!==n&&isFinite(n)&&(e=Q(n)),e}function K(t,n,e){var r,i=Math.min(t.length,n.length),o=Math.abs(t.length-n.length),a=0;for(r=0;r<i;r++)(e&&t[r]!==n[r]||!e&&X(t[r])!==X(n[r]))&&a++;return a+o}function tt(t){!1===I.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function nt(t,n){var e=!0;return z((function(){if(null!=I.deprecationHandler&&I.deprecationHandler(null,t),e){for(var r,i=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];i.push(r)}tt(t+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),e=!1}return n.apply(this,arguments)}),n)}var et,rt={};function it(t,n){null!=I.deprecationHandler&&I.deprecationHandler(t,n),rt[t]||(tt(n),rt[t]=!0)}function ot(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function at(t,n){var e,r=z({},t);for(e in n)H(n,e)&&(L(t[e])&&L(n[e])?(r[e]={},z(r[e],t[e]),z(r[e],n[e])):null!=n[e]?r[e]=n[e]:delete r[e]);for(e in t)H(t,e)&&!H(n,e)&&L(t[e])&&(r[e]=z({},r[e]));return r}function st(t){null!=t&&this.set(t)}I.suppressDeprecationWarnings=!1,I.deprecationHandler=null,et=Object.keys?Object.keys:function(t){var n,e=[];for(n in t)H(t,n)&&e.push(n);return e};var ut={};function lt(t,n){var e=t.toLowerCase();ut[e]=ut[e+"s"]=ut[n]=t}function ht(t){return"string"==typeof t?ut[t]||ut[t.toLowerCase()]:void 0}function ct(t){var n,e,r={};for(e in t)H(t,e)&&(n=ht(e))&&(r[n]=t[e]);return r}var dt={};function ft(t,n){dt[t]=n}function vt(t,n,e){var r=""+Math.abs(t);return(t>=0?e?"+":"":"-")+Math.pow(10,Math.max(0,n-r.length)).toString().substr(1)+r}var pt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,mt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,gt={},bt={};function yt(t,n,e,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(bt[t]=i),n&&(bt[n[0]]=function(){return vt(i.apply(this,arguments),n[1],n[2])}),e&&(bt[e]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Mt(t,n){return t.isValid()?(n=wt(n,t.localeData()),gt[n]=gt[n]||function(t){var n,e,r,i=t.match(pt);for(n=0,e=i.length;n<e;n++)i[n]=bt[i[n]]?bt[i[n]]:(r=i[n]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(n){var r,o="";for(r=0;r<e;r++)o+=ot(i[r])?i[r].call(n,t):i[r];return o}}(n),gt[n](t)):t.localeData().invalidDate()}function wt(t,n){var e=5;function r(t){return n.longDateFormat(t)||t}for(mt.lastIndex=0;e>=0&&mt.test(t);)t=t.replace(mt,r),mt.lastIndex=0,e-=1;return t}var kt=/\d/,xt=/\d\d/,Dt=/\d{3}/,St=/\d{4}/,Yt=/[+-]?\d{6}/,Ct=/\d\d?/,Nt=/\d\d\d\d?/,Tt=/\d\d\d\d\d\d?/,At=/\d{1,3}/,_t=/\d{1,4}/,It=/[+-]?\d{1,6}/,Ft=/\d+/,Lt=/[+-]?\d+/,Ot=/Z|[+-]\d\d:?\d\d/gi,Wt=/Z|[+-]\d\d(?::?\d\d)?/gi,jt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Et={};function Ht(t,n,e){Et[t]=ot(n)?n:function(t){return t&&e?e:n}}function zt(t,n){return H(Et,t)?Et[t](n._strict,n._locale):new RegExp(Pt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,n,e,r,i){return n||e||r||i}))))}function Pt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Bt={};function Rt(t,n){var e,r=n;for("string"==typeof t&&(t=[t]),W(n)&&(r=function(t,e){e[n]=X(t)}),e=0;e<t.length;e++)Bt[t[e]]=r}function Gt(t,n){Rt(t,(function(t,e,r,i){r._w=r._w||{},n(t,r._w,r,i)}))}function $t(t,n,e){null!=n&&H(Bt,t)&&Bt[t](n,e._a,e,t)}function Ut(t){return qt(t)?366:365}function qt(t){return t%4==0&&t%100!=0||t%400==0}yt("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),yt(0,["YY",2],0,(function(){return this.year()%100})),yt(0,["YYYY",4],0,"year"),yt(0,["YYYYY",5],0,"year"),yt(0,["YYYYYY",6,!0],0,"year"),lt("year","y"),ft("year",1),Ht("Y",Lt),Ht("YY",Ct,xt),Ht("YYYY",_t,St),Ht("YYYYY",It,Yt),Ht("YYYYYY",It,Yt),Rt(["YYYYY","YYYYYY"],0),Rt("YYYY",(function(t,n){n[0]=2===t.length?I.parseTwoDigitYear(t):X(t)})),Rt("YY",(function(t,n){n[0]=I.parseTwoDigitYear(t)})),Rt("Y",(function(t,n){n[0]=parseInt(t,10)})),I.parseTwoDigitYear=function(t){return X(t)+(X(t)>68?1900:2e3)};var Vt,Zt=Jt("FullYear",!0);function Jt(t,n){return function(e){return null!=e?(Xt(this,t,e),I.updateOffset(this,n),this):Qt(this,t)}}function Qt(t,n){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+n]():NaN}function Xt(t,n,e){t.isValid()&&!isNaN(e)&&("FullYear"===n&&qt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+n](e,t.month(),Kt(e,t.month())):t._d["set"+(t._isUTC?"UTC":"")+n](e))}function Kt(t,n){if(isNaN(t)||isNaN(n))return NaN;var e=(n%12+12)%12;return t+=(n-e)/12,1===e?qt(t)?29:28:31-e%7%2}Vt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var n;for(n=0;n<this.length;++n)if(this[n]===t)return n;return-1},yt("M",["MM",2],"Mo",(function(){return this.month()+1})),yt("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),yt("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),lt("month","M"),ft("month",8),Ht("M",Ct),Ht("MM",Ct,xt),Ht("MMM",(function(t,n){return n.monthsShortRegex(t)})),Ht("MMMM",(function(t,n){return n.monthsRegex(t)})),Rt(["M","MM"],(function(t,n){n[1]=X(t)-1})),Rt(["MMM","MMMM"],(function(t,n,e,r){var i=e._locale.monthsParse(t,r,e._strict);null!=i?n[1]=i:B(e).invalidMonth=t}));var tn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),en="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function rn(t,n,e){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=P([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return e?"MMM"===n?-1!==(i=Vt.call(this._shortMonthsParse,a))?i:null:-1!==(i=Vt.call(this._longMonthsParse,a))?i:null:"MMM"===n?-1!==(i=Vt.call(this._shortMonthsParse,a))||-1!==(i=Vt.call(this._longMonthsParse,a))?i:null:-1!==(i=Vt.call(this._longMonthsParse,a))||-1!==(i=Vt.call(this._shortMonthsParse,a))?i:null}function on(t,n){var e;if(!t.isValid())return t;if("string"==typeof n)if(/^\d+$/.test(n))n=X(n);else if(!W(n=t.localeData().monthsParse(n)))return t;return e=Math.min(t.date(),Kt(t.year(),n)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](n,e),t}function an(t){return null!=t?(on(this,t),I.updateOffset(this,!0),this):Qt(this,"Month")}var sn=jt,un=jt;function ln(){function t(t,n){return n.length-t.length}var n,e,r=[],i=[],o=[];for(n=0;n<12;n++)e=P([2e3,n]),r.push(this.monthsShort(e,"")),i.push(this.months(e,"")),o.push(this.months(e,"")),o.push(this.monthsShort(e,""));for(r.sort(t),i.sort(t),o.sort(t),n=0;n<12;n++)r[n]=Pt(r[n]),i[n]=Pt(i[n]);for(n=0;n<24;n++)o[n]=Pt(o[n]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function hn(t,n,e,r,i,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,n,e,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,n,e,r,i,o,a),s}function cn(t){var n;if(t<100&&t>=0){var e=Array.prototype.slice.call(arguments);e[0]=t+400,n=new Date(Date.UTC.apply(null,e)),isFinite(n.getUTCFullYear())&&n.setUTCFullYear(t)}else n=new Date(Date.UTC.apply(null,arguments));return n}function dn(t,n,e){var r=7+n-e;return-(7+cn(t,0,r).getUTCDay()-n)%7+r-1}function fn(t,n,e,r,i){var o,a,s=1+7*(n-1)+(7+e-r)%7+dn(t,r,i);return s<=0?a=Ut(o=t-1)+s:s>Ut(t)?(o=t+1,a=s-Ut(t)):(o=t,a=s),{year:o,dayOfYear:a}}function vn(t,n,e){var r,i,o=dn(t.year(),n,e),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+pn(i=t.year()-1,n,e):a>pn(t.year(),n,e)?(r=a-pn(t.year(),n,e),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function pn(t,n,e){var r=dn(t,n,e),i=dn(t+1,n,e);return(Ut(t)-r+i)/7}function mn(t,n){return t.slice(n,7).concat(t.slice(0,n))}yt("w",["ww",2],"wo","week"),yt("W",["WW",2],"Wo","isoWeek"),lt("week","w"),lt("isoWeek","W"),ft("week",5),ft("isoWeek",5),Ht("w",Ct),Ht("ww",Ct,xt),Ht("W",Ct),Ht("WW",Ct,xt),Gt(["w","ww","W","WW"],(function(t,n,e,r){n[r.substr(0,1)]=X(t)})),yt("d",0,"do","day"),yt("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),yt("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),yt("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),yt("e",0,0,"weekday"),yt("E",0,0,"isoWeekday"),lt("day","d"),lt("weekday","e"),lt("isoWeekday","E"),ft("day",11),ft("weekday",11),ft("isoWeekday",11),Ht("d",Ct),Ht("e",Ct),Ht("E",Ct),Ht("dd",(function(t,n){return n.weekdaysMinRegex(t)})),Ht("ddd",(function(t,n){return n.weekdaysShortRegex(t)})),Ht("dddd",(function(t,n){return n.weekdaysRegex(t)})),Gt(["dd","ddd","dddd"],(function(t,n,e,r){var i=e._locale.weekdaysParse(t,r,e._strict);null!=i?n.d=i:B(e).invalidWeekday=t})),Gt(["d","e","E"],(function(t,n,e,r){n[r]=X(t)}));var gn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yn="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Mn(t,n,e){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=P([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return e?"dddd"===n?-1!==(i=Vt.call(this._weekdaysParse,a))?i:null:"ddd"===n?-1!==(i=Vt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Vt.call(this._minWeekdaysParse,a))?i:null:"dddd"===n?-1!==(i=Vt.call(this._weekdaysParse,a))||-1!==(i=Vt.call(this._shortWeekdaysParse,a))||-1!==(i=Vt.call(this._minWeekdaysParse,a))?i:null:"ddd"===n?-1!==(i=Vt.call(this._shortWeekdaysParse,a))||-1!==(i=Vt.call(this._weekdaysParse,a))||-1!==(i=Vt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Vt.call(this._minWeekdaysParse,a))||-1!==(i=Vt.call(this._weekdaysParse,a))||-1!==(i=Vt.call(this._shortWeekdaysParse,a))?i:null}var wn=jt,kn=jt,xn=jt;function Dn(){function t(t,n){return n.length-t.length}var n,e,r,i,o,a=[],s=[],u=[],l=[];for(n=0;n<7;n++)e=P([2e3,1]).day(n),r=this.weekdaysMin(e,""),i=this.weekdaysShort(e,""),o=this.weekdays(e,""),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(t),s.sort(t),u.sort(t),l.sort(t),n=0;n<7;n++)s[n]=Pt(s[n]),u[n]=Pt(u[n]),l[n]=Pt(l[n]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Sn(){return this.hours()%12||12}function Yn(t,n){yt(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),n)}))}function Cn(t,n){return n._meridiemParse}yt("H",["HH",2],0,"hour"),yt("h",["hh",2],0,Sn),yt("k",["kk",2],0,(function(){return this.hours()||24})),yt("hmm",0,0,(function(){return""+Sn.apply(this)+vt(this.minutes(),2)})),yt("hmmss",0,0,(function(){return""+Sn.apply(this)+vt(this.minutes(),2)+vt(this.seconds(),2)})),yt("Hmm",0,0,(function(){return""+this.hours()+vt(this.minutes(),2)})),yt("Hmmss",0,0,(function(){return""+this.hours()+vt(this.minutes(),2)+vt(this.seconds(),2)})),Yn("a",!0),Yn("A",!1),lt("hour","h"),ft("hour",13),Ht("a",Cn),Ht("A",Cn),Ht("H",Ct),Ht("h",Ct),Ht("k",Ct),Ht("HH",Ct,xt),Ht("hh",Ct,xt),Ht("kk",Ct,xt),Ht("hmm",Nt),Ht("hmmss",Tt),Ht("Hmm",Nt),Ht("Hmmss",Tt),Rt(["H","HH"],3),Rt(["k","kk"],(function(t,n){var e=X(t);n[3]=24===e?0:e})),Rt(["a","A"],(function(t,n,e){e._isPm=e._locale.isPM(t),e._meridiem=t})),Rt(["h","hh"],(function(t,n,e){n[3]=X(t),B(e).bigHour=!0})),Rt("hmm",(function(t,n,e){var r=t.length-2;n[3]=X(t.substr(0,r)),n[4]=X(t.substr(r)),B(e).bigHour=!0})),Rt("hmmss",(function(t,n,e){var r=t.length-4,i=t.length-2;n[3]=X(t.substr(0,r)),n[4]=X(t.substr(r,2)),n[5]=X(t.substr(i)),B(e).bigHour=!0})),Rt("Hmm",(function(t,n){var e=t.length-2;n[3]=X(t.substr(0,e)),n[4]=X(t.substr(e))})),Rt("Hmmss",(function(t,n){var e=t.length-4,r=t.length-2;n[3]=X(t.substr(0,e)),n[4]=X(t.substr(e,2)),n[5]=X(t.substr(r))}));var Nn,Tn=Jt("Hours",!0),An={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:nn,monthsShort:en,week:{dow:0,doy:6},weekdays:gn,weekdaysMin:yn,weekdaysShort:bn,meridiemParse:/[ap]\.?m?\.?/i},_n={},In={};function Fn(t){return t?t.toLowerCase().replace("_","-"):t}function Ln(t){var n=null;if(!_n[t]&&"undefined"!=typeof module&&module&&module.exports)try{n=Nn._abbr,require("./locale/"+t),On(n)}catch(e){}return _n[t]}function On(t,n){var e;return t&&((e=O(n)?jn(t):Wn(t,n))?Nn=e:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Nn._abbr}function Wn(t,n){if(null!==n){var e,r=An;if(n.abbr=t,null!=_n[t])it("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=_n[t]._config;else if(null!=n.parentLocale)if(null!=_n[n.parentLocale])r=_n[n.parentLocale]._config;else{if(null==(e=Ln(n.parentLocale)))return In[n.parentLocale]||(In[n.parentLocale]=[]),In[n.parentLocale].push({name:t,config:n}),null;r=e._config}return _n[t]=new st(at(r,n)),In[t]&&In[t].forEach((function(t){Wn(t.name,t.config)})),On(t),_n[t]}return delete _n[t],null}function jn(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Nn;if(!F(t)){if(n=Ln(t))return n;t=[t]}return function(t){for(var n,e,r,i,o=0;o<t.length;){for(n=(i=Fn(t[o]).split("-")).length,e=(e=Fn(t[o+1]))?e.split("-"):null;n>0;){if(r=Ln(i.slice(0,n).join("-")))return r;if(e&&e.length>=n&&K(i,e,!0)>=n-1)break;n--}o++}return Nn}(t)}function En(t){var n,e=t._a;return e&&-2===B(t).overflow&&(n=e[1]<0||e[1]>11?1:e[2]<1||e[2]>Kt(e[0],e[1])?2:e[3]<0||e[3]>24||24===e[3]&&(0!==e[4]||0!==e[5]||0!==e[6])?3:e[4]<0||e[4]>59?4:e[5]<0||e[5]>59?5:e[6]<0||e[6]>999?6:-1,B(t)._overflowDayOfYear&&(n<0||n>2)&&(n=2),B(t)._overflowWeeks&&-1===n&&(n=7),B(t)._overflowWeekday&&-1===n&&(n=8),B(t).overflow=n),t}function Hn(t,n,e){return null!=t?t:null!=n?n:e}function zn(t){var n,e,r,i,o,a=[];if(!t._d){for(r=function(t){var n=new Date(I.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var n,e,r,i,o,a,s,u;if(null!=(n=t._w).GG||null!=n.W||null!=n.E)o=1,a=4,e=Hn(n.GG,t._a[0],vn(ne(),1,4).year),r=Hn(n.W,1),((i=Hn(n.E,1))<1||i>7)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var l=vn(ne(),o,a);e=Hn(n.gg,t._a[0],l.year),r=Hn(n.w,l.week),null!=n.d?((i=n.d)<0||i>6)&&(u=!0):null!=n.e?(i=n.e+o,(n.e<0||n.e>6)&&(u=!0)):i=o}r<1||r>pn(e,o,a)?B(t)._overflowWeeks=!0:null!=u?B(t)._overflowWeekday=!0:(s=fn(e,r,i,o,a),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=Hn(t._a[0],r[0]),(t._dayOfYear>Ut(o)||0===t._dayOfYear)&&(B(t)._overflowDayOfYear=!0),e=cn(o,0,t._dayOfYear),t._a[1]=e.getUTCMonth(),t._a[2]=e.getUTCDate()),n=0;n<3&&null==t._a[n];++n)t._a[n]=a[n]=r[n];for(;n<7;n++)t._a[n]=a[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?cn:hn).apply(null,a),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(B(t).weekdayMismatch=!0)}}var Pn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rn=/Z|[+-]\d\d(?::?\d\d)?/,Gn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],$n=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Un=/^\/?Date\((\-?\d+)/i;function qn(t){var n,e,r,i,o,a,s=t._i,u=Pn.exec(s)||Bn.exec(s);if(u){for(B(t).iso=!0,n=0,e=Gn.length;n<e;n++)if(Gn[n][1].exec(u[1])){i=Gn[n][0],r=!1!==Gn[n][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(n=0,e=$n.length;n<e;n++)if($n[n][1].exec(u[3])){o=(u[2]||" ")+$n[n][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!Rn.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Xn(t)}else t._isValid=!1}var Vn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Zn(t){var n=parseInt(t,10);return n<=49?2e3+n:n<=999?1900+n:n}var Jn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Qn(t){var n,e,r,i,o,a,s=Vn.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(s){var u=(n=s[3],e=s[2],r=s[5],i=s[6],o=s[7],a=[Zn(s[4]),en.indexOf(n),parseInt(e,10),parseInt(r,10),parseInt(i,10)],o&&a.push(parseInt(o,10)),a);if(!function(t,n,e){return!t||bn.indexOf(t)===new Date(n[0],n[1],n[2]).getDay()||(B(e).weekdayMismatch=!0,e._isValid=!1,!1)}(s[1],u,t))return;t._a=u,t._tzm=function(t,n,e){if(t)return Jn[t];if(n)return 0;var r=parseInt(e,10),i=r%100;return(r-i)/100*60+i}(s[8],s[9],s[10]),t._d=cn.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),B(t).rfc2822=!0}else t._isValid=!1}function Xn(t){if(t._f!==I.ISO_8601)if(t._f!==I.RFC_2822){t._a=[],B(t).empty=!0;var n,e,r,i,o,a=""+t._i,s=a.length,u=0;for(r=wt(t._f,t._locale).match(pt)||[],n=0;n<r.length;n++)(e=(a.match(zt(i=r[n],t))||[])[0])&&((o=a.substr(0,a.indexOf(e))).length>0&&B(t).unusedInput.push(o),a=a.slice(a.indexOf(e)+e.length),u+=e.length),bt[i]?(e?B(t).empty=!1:B(t).unusedTokens.push(i),$t(i,e,t)):t._strict&&!e&&B(t).unusedTokens.push(i);B(t).charsLeftOver=s-u,a.length>0&&B(t).unusedInput.push(a),t._a[3]<=12&&!0===B(t).bigHour&&t._a[3]>0&&(B(t).bigHour=void 0),B(t).parsedDateParts=t._a.slice(0),B(t).meridiem=t._meridiem,t._a[3]=function(t,n,e){var r;return null==e?n:null!=t.meridiemHour?t.meridiemHour(n,e):null!=t.isPM?((r=t.isPM(e))&&n<12&&(n+=12),r||12!==n||(n=0),n):n}(t._locale,t._a[3],t._meridiem),zn(t),En(t)}else Qn(t);else qn(t)}function Kn(t){var n=t._i,e=t._f;return t._locale=t._locale||jn(t._l),null===n||void 0===e&&""===n?G({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),J(n)?new Z(En(n)):(j(n)?t._d=n:F(e)?function(t){var n,e,r,i,o;if(0===t._f.length)return B(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,n=q({},t),null!=t._useUTC&&(n._useUTC=t._useUTC),n._f=t._f[i],Xn(n),R(n)&&(o+=B(n).charsLeftOver,o+=10*B(n).unusedTokens.length,B(n).score=o,(null==r||o<r)&&(r=o,e=n));z(t,e||n)}(t):e?Xn(t):function(t){var n=t._i;O(n)?t._d=new Date(I.now()):j(n)?t._d=new Date(n.valueOf()):"string"==typeof n?function(t){var n=Un.exec(t._i);null===n?(qn(t),!1===t._isValid&&(delete t._isValid,Qn(t),!1===t._isValid&&(delete t._isValid,I.createFromInputFallback(t)))):t._d=new Date(+n[1])}(t):F(n)?(t._a=E(n.slice(0),(function(t){return parseInt(t,10)})),zn(t)):L(n)?function(t){if(!t._d){var n=ct(t._i);t._a=E([n.year,n.month,n.day||n.date,n.hour,n.minute,n.second,n.millisecond],(function(t){return t&&parseInt(t,10)})),zn(t)}}(t):W(n)?t._d=new Date(n):I.createFromInputFallback(t)}(t),R(t)||(t._d=null),t))}function te(t,n,e,r,i){var o,a={};return!0!==e&&!1!==e||(r=e,e=void 0),(L(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var n;for(n in t)if(t.hasOwnProperty(n))return!1;return!0}(t)||F(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=e,a._i=t,a._f=n,a._strict=r,(o=new Z(En(Kn(a))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function ne(t,n,e,r){return te(t,n,e,r,!1)}I.createFromInputFallback=nt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),I.ISO_8601=function(){},I.RFC_2822=function(){};var ee=nt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=ne.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:G()})),re=nt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=ne.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:G()}));function ie(t,n){var e,r;if(1===n.length&&F(n[0])&&(n=n[0]),!n.length)return ne();for(e=n[0],r=1;r<n.length;++r)n[r].isValid()&&!n[r][t](e)||(e=n[r]);return e}var oe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ae(t){var n=ct(t),e=n.year||0,r=n.quarter||0,i=n.month||0,o=n.week||n.isoWeek||0,a=n.day||0,s=n.hour||0,u=n.minute||0,l=n.second||0,h=n.millisecond||0;this._isValid=function(t){for(var n in t)if(-1===Vt.call(oe,n)||null!=t[n]&&isNaN(t[n]))return!1;for(var e=!1,r=0;r<oe.length;++r)if(t[oe[r]]){if(e)return!1;parseFloat(t[oe[r]])!==X(t[oe[r]])&&(e=!0)}return!0}(n),this._milliseconds=+h+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*e,this._data={},this._locale=jn(),this._bubble()}function se(t){return t instanceof ae}function ue(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function le(t,n){yt(t,0,0,(function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+vt(~~(t/60),2)+n+vt(~~t%60,2)}))}le("Z",":"),le("ZZ",""),Ht("Z",Wt),Ht("ZZ",Wt),Rt(["Z","ZZ"],(function(t,n,e){e._useUTC=!0,e._tzm=ce(Wt,t)}));var he=/([\+\-]|\d\d)/gi;function ce(t,n){var e=(n||"").match(t);if(null===e)return null;var r=((e[e.length-1]||[])+"").match(he)||["-",0,0],i=60*r[1]+X(r[2]);return 0===i?0:"+"===r[0]?i:-i}function de(t,n){var e,r;return n._isUTC?(e=n.clone(),r=(J(t)||j(t)?t.valueOf():ne(t).valueOf())-e.valueOf(),e._d.setTime(e._d.valueOf()+r),I.updateOffset(e,!1),e):ne(t).local()}function fe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function ve(){return!!this.isValid()&&this._isUTC&&0===this._offset}I.updateOffset=function(){};var pe=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,me=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ge(t,n){var e,r,i,o,a,s,u=t,l=null;return se(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:W(t)?(u={},n?u[n]=t:u.milliseconds=t):(l=pe.exec(t))?(e="-"===l[1]?-1:1,u={y:0,d:X(l[2])*e,h:X(l[3])*e,m:X(l[4])*e,s:X(l[5])*e,ms:X(ue(1e3*l[6]))*e}):(l=me.exec(t))?u={y:be(l[2],e="-"===l[1]?-1:1),M:be(l[3],e),w:be(l[4],e),d:be(l[5],e),h:be(l[6],e),m:be(l[7],e),s:be(l[8],e)}:null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(o=ne(u.from),a=ne(u.to),i=o.isValid()&&a.isValid()?(a=de(a,o),o.isBefore(a)?s=ye(o,a):((s=ye(a,o)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),r=new ae(u),se(t)&&H(t,"_locale")&&(r._locale=t._locale),r}function be(t,n){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n}function ye(t,n){var e={};return e.months=n.month()-t.month()+12*(n.year()-t.year()),t.clone().add(e.months,"M").isAfter(n)&&--e.months,e.milliseconds=+n-+t.clone().add(e.months,"M"),e}function Me(t,n){return function(e,r){var i;return null===r||isNaN(+r)||(it(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=e,e=r,r=i),we(this,ge(e="string"==typeof e?+e:e,r),t),this}}function we(t,n,e,r){var i=n._milliseconds,o=ue(n._days),a=ue(n._months);t.isValid()&&(r=null==r||r,a&&on(t,Qt(t,"Month")+a*e),o&&Xt(t,"Date",Qt(t,"Date")+o*e),i&&t._d.setTime(t._d.valueOf()+i*e),r&&I.updateOffset(t,o||a))}ge.fn=ae.prototype,ge.invalid=function(){return ge(NaN)};var ke=Me(1,"add"),xe=Me(-1,"subtract");function De(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,"months");return-(e+(n-r<0?(n-r)/(r-t.clone().add(e-1,"months")):(n-r)/(t.clone().add(e+1,"months")-r)))||0}function Se(t){var n;return void 0===t?this._locale._abbr:(null!=(n=jn(t))&&(this._locale=n),this)}I.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",I.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ye=nt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Ce(){return this._locale}function Ne(t,n){return(t%n+n)%n}function Te(t,n,e){return t<100&&t>=0?new Date(t+400,n,e)-126227808e5:new Date(t,n,e).valueOf()}function Ae(t,n,e){return t<100&&t>=0?Date.UTC(t+400,n,e)-126227808e5:Date.UTC(t,n,e)}function _e(t,n){yt(0,[t,t.length],0,n)}function Ie(t,n,e,r,i){var o;return null==t?vn(this,r,i).year:(n>(o=pn(t,r,i))&&(n=o),Fe.call(this,t,n,e,r,i))}function Fe(t,n,e,r,i){var o=fn(t,n,e,r,i),a=cn(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}yt(0,["gg",2],0,(function(){return this.weekYear()%100})),yt(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),_e("gggg","weekYear"),_e("ggggg","weekYear"),_e("GGGG","isoWeekYear"),_e("GGGGG","isoWeekYear"),lt("weekYear","gg"),lt("isoWeekYear","GG"),ft("weekYear",1),ft("isoWeekYear",1),Ht("G",Lt),Ht("g",Lt),Ht("GG",Ct,xt),Ht("gg",Ct,xt),Ht("GGGG",_t,St),Ht("gggg",_t,St),Ht("GGGGG",It,Yt),Ht("ggggg",It,Yt),Gt(["gggg","ggggg","GGGG","GGGGG"],(function(t,n,e,r){n[r.substr(0,2)]=X(t)})),Gt(["gg","GG"],(function(t,n,e,r){n[r]=I.parseTwoDigitYear(t)})),yt("Q",0,"Qo","quarter"),lt("quarter","Q"),ft("quarter",7),Ht("Q",kt),Rt("Q",(function(t,n){n[1]=3*(X(t)-1)})),yt("D",["DD",2],"Do","date"),lt("date","D"),ft("date",9),Ht("D",Ct),Ht("DD",Ct,xt),Ht("Do",(function(t,n){return t?n._dayOfMonthOrdinalParse||n._ordinalParse:n._dayOfMonthOrdinalParseLenient})),Rt(["D","DD"],2),Rt("Do",(function(t,n){n[2]=X(t.match(Ct)[0])}));var Le=Jt("Date",!0);yt("DDD",["DDDD",3],"DDDo","dayOfYear"),lt("dayOfYear","DDD"),ft("dayOfYear",4),Ht("DDD",At),Ht("DDDD",Dt),Rt(["DDD","DDDD"],(function(t,n,e){e._dayOfYear=X(t)})),yt("m",["mm",2],0,"minute"),lt("minute","m"),ft("minute",14),Ht("m",Ct),Ht("mm",Ct,xt),Rt(["m","mm"],4);var Oe=Jt("Minutes",!1);yt("s",["ss",2],0,"second"),lt("second","s"),ft("second",15),Ht("s",Ct),Ht("ss",Ct,xt),Rt(["s","ss"],5);var We,je=Jt("Seconds",!1);for(yt("S",0,0,(function(){return~~(this.millisecond()/100)})),yt(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),yt(0,["SSS",3],0,"millisecond"),yt(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),yt(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),yt(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),yt(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),yt(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),yt(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),lt("millisecond","ms"),ft("millisecond",16),Ht("S",At,kt),Ht("SS",At,xt),Ht("SSS",At,Dt),We="SSSS";We.length<=9;We+="S")Ht(We,Ft);function Ee(t,n){n[6]=X(1e3*("0."+t))}for(We="S";We.length<=9;We+="S")Rt(We,Ee);var He=Jt("Milliseconds",!1);yt("z",0,0,"zoneAbbr"),yt("zz",0,0,"zoneName");var ze=Z.prototype;function Pe(t){return t}ze.add=ke,ze.calendar=function(t,n){var e=t||ne(),r=de(e,this).startOf("day"),i=I.calendarFormat(this,r)||"sameElse",o=n&&(ot(n[i])?n[i].call(this,e):n[i]);return this.format(o||this.localeData().calendar(i,this,ne(e)))},ze.clone=function(){return new Z(this)},ze.diff=function(t,n,e){var r,i,o;if(!this.isValid())return NaN;if(!(r=de(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),n=ht(n)){case"year":o=De(this,r)/12;break;case"month":o=De(this,r);break;case"quarter":o=De(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return e?o:Q(o)},ze.endOf=function(t){var n;if(void 0===(t=ht(t))||"millisecond"===t||!this.isValid())return this;var e=this._isUTC?Ae:Te;switch(t){case"year":n=e(this.year()+1,0,1)-1;break;case"quarter":n=e(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=e(this.year(),this.month()+1,1)-1;break;case"week":n=e(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=e(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=36e5-Ne(n+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":n=this._d.valueOf(),n+=6e4-Ne(n,6e4)-1;break;case"second":n=this._d.valueOf(),n+=1e3-Ne(n,1e3)-1}return this._d.setTime(n),I.updateOffset(this,!0),this},ze.format=function(t){t||(t=this.isUtc()?I.defaultFormatUtc:I.defaultFormat);var n=Mt(this,t);return this.localeData().postformat(n)},ze.from=function(t,n){return this.isValid()&&(J(t)&&t.isValid()||ne(t).isValid())?ge({to:this,from:t}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()},ze.fromNow=function(t){return this.from(ne(),t)},ze.to=function(t,n){return this.isValid()&&(J(t)&&t.isValid()||ne(t).isValid())?ge({from:this,to:t}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()},ze.toNow=function(t){return this.to(ne(),t)},ze.get=function(t){return ot(this[t=ht(t)])?this[t]():this},ze.invalidAt=function(){return B(this).overflow},ze.isAfter=function(t,n){var e=J(t)?t:ne(t);return!(!this.isValid()||!e.isValid())&&("millisecond"===(n=ht(n)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(n).valueOf())},ze.isBefore=function(t,n){var e=J(t)?t:ne(t);return!(!this.isValid()||!e.isValid())&&("millisecond"===(n=ht(n)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(n).valueOf()<e.valueOf())},ze.isBetween=function(t,n,e,r){var i=J(t)?t:ne(t),o=J(n)?n:ne(n);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,e):!this.isBefore(i,e))&&(")"===r[1]?this.isBefore(o,e):!this.isAfter(o,e))},ze.isSame=function(t,n){var e,r=J(t)?t:ne(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(n=ht(n)||"millisecond")?this.valueOf()===r.valueOf():(e=r.valueOf(),this.clone().startOf(n).valueOf()<=e&&e<=this.clone().endOf(n).valueOf()))},ze.isSameOrAfter=function(t,n){return this.isSame(t,n)||this.isAfter(t,n)},ze.isSameOrBefore=function(t,n){return this.isSame(t,n)||this.isBefore(t,n)},ze.isValid=function(){return R(this)},ze.lang=Ye,ze.locale=Se,ze.localeData=Ce,ze.max=re,ze.min=ee,ze.parsingFlags=function(){return z({},B(this))},ze.set=function(t,n){if("object"==typeof t)for(var e=function(t){var n=[];for(var e in t)n.push({unit:e,priority:dt[e]});return n.sort((function(t,n){return t.priority-n.priority})),n}(t=ct(t)),r=0;r<e.length;r++)this[e[r].unit](t[e[r].unit]);else if(ot(this[t=ht(t)]))return this[t](n);return this},ze.startOf=function(t){var n;if(void 0===(t=ht(t))||"millisecond"===t||!this.isValid())return this;var e=this._isUTC?Ae:Te;switch(t){case"year":n=e(this.year(),0,1);break;case"quarter":n=e(this.year(),this.month()-this.month()%3,1);break;case"month":n=e(this.year(),this.month(),1);break;case"week":n=e(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=e(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=Ne(n+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":n=this._d.valueOf(),n-=Ne(n,6e4);break;case"second":n=this._d.valueOf(),n-=Ne(n,1e3)}return this._d.setTime(n),I.updateOffset(this,!0),this},ze.subtract=xe,ze.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},ze.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},ze.toDate=function(){return new Date(this.valueOf())},ze.toISOString=function(t){if(!this.isValid())return null;var n=!0!==t,e=n?this.clone().utc():this;return e.year()<0||e.year()>9999?Mt(e,n?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ot(Date.prototype.toISOString)?n?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Mt(e,"Z")):Mt(e,n?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ze.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",n="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z");var e="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(e+r+"-MM-DD[T]HH:mm:ss.SSS"+n+'[")]')},ze.toJSON=function(){return this.isValid()?this.toISOString():null},ze.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ze.unix=function(){return Math.floor(this.valueOf()/1e3)},ze.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ze.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ze.year=Zt,ze.isLeapYear=function(){return qt(this.year())},ze.weekYear=function(t){return Ie.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ze.isoWeekYear=function(t){return Ie.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},ze.quarter=ze.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},ze.month=an,ze.daysInMonth=function(){return Kt(this.year(),this.month())},ze.week=ze.weeks=function(t){var n=this.localeData().week(this);return null==t?n:this.add(7*(t-n),"d")},ze.isoWeek=ze.isoWeeks=function(t){var n=vn(this,1,4).week;return null==t?n:this.add(7*(t-n),"d")},ze.weeksInYear=function(){var t=this.localeData()._week;return pn(this.year(),t.dow,t.doy)},ze.isoWeeksInYear=function(){return pn(this.year(),1,4)},ze.date=Le,ze.day=ze.days=function(t){if(!this.isValid())return null!=t?this:NaN;var n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,n){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-n,"d")):n},ze.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var n=(this.day()+7-this.localeData()._week.dow)%7;return null==t?n:this.add(t-n,"d")},ze.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var n=function(t,n){return"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?n:n-7)}return this.day()||7},ze.dayOfYear=function(t){var n=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?n:this.add(t-n,"d")},ze.hour=ze.hours=Tn,ze.minute=ze.minutes=Oe,ze.second=ze.seconds=je,ze.millisecond=ze.milliseconds=He,ze.utcOffset=function(t,n,e){var r,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=ce(Wt,t)))return this}else Math.abs(t)<16&&!e&&(t*=60);return!this._isUTC&&n&&(r=fe(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?we(this,ge(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,I.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:fe(this)},ze.utc=function(t){return this.utcOffset(0,t)},ze.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(fe(this),"m")),this},ze.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=ce(Ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},ze.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ne(t).utcOffset():0,(this.utcOffset()-t)%60==0)},ze.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ze.isLocal=function(){return!!this.isValid()&&!this._isUTC},ze.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ze.isUtc=ve,ze.isUTC=ve,ze.zoneAbbr=function(){return this._isUTC?"UTC":""},ze.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ze.dates=nt("dates accessor is deprecated. Use date instead.",Le),ze.months=nt("months accessor is deprecated. Use month instead",an),ze.years=nt("years accessor is deprecated. Use year instead",Zt),ze.zone=nt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,n){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,n),this):-this.utcOffset()})),ze.isDSTShifted=nt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!O(this._isDSTShifted))return this._isDSTShifted;var t={};if(q(t,this),(t=Kn(t))._a){var n=t._isUTC?P(t._a):ne(t._a);this._isDSTShifted=this.isValid()&&K(t._a,n.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var Be=st.prototype;function Re(t,n,e,r){var i=jn(),o=P().set(r,n);return i[e](o,t)}function Ge(t,n,e){if(W(t)&&(n=t,t=void 0),t=t||"",null!=n)return Re(t,n,e,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Re(t,r,e,"month");return i}function $e(t,n,e,r){"boolean"==typeof t?(W(n)&&(e=n,n=void 0),n=n||""):(e=n=t,t=!1,W(n)&&(e=n,n=void 0),n=n||"");var i,o=jn(),a=t?o._week.dow:0;if(null!=e)return Re(n,(e+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=Re(n,(i+a)%7,r,"day");return s}Be.calendar=function(t,n,e){var r=this._calendar[t]||this._calendar.sameElse;return ot(r)?r.call(n,e):r},Be.longDateFormat=function(t){var n=this._longDateFormat[t],e=this._longDateFormat[t.toUpperCase()];return n||!e?n:(this._longDateFormat[t]=e.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},Be.invalidDate=function(){return this._invalidDate},Be.ordinal=function(t){return this._ordinal.replace("%d",t)},Be.preparse=Pe,Be.postformat=Pe,Be.relativeTime=function(t,n,e,r){var i=this._relativeTime[e];return ot(i)?i(t,n,e,r):i.replace(/%d/i,t)},Be.pastFuture=function(t,n){var e=this._relativeTime[t>0?"future":"past"];return ot(e)?e(n):e.replace(/%s/i,n)},Be.set=function(t){var n,e;for(e in t)ot(n=t[e])?this[e]=n:this["_"+e]=n;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Be.months=function(t,n){return t?F(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||tn).test(n)?"format":"standalone"][t.month()]:F(this._months)?this._months:this._months.standalone},Be.monthsShort=function(t,n){return t?F(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[tn.test(n)?"format":"standalone"][t.month()]:F(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Be.monthsParse=function(t,n,e){var r,i,o;if(this._monthsParseExact)return rn.call(this,t,n,e);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=P([2e3,r]),e&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),e||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),e&&"MMMM"===n&&this._longMonthsParse[r].test(t))return r;if(e&&"MMM"===n&&this._shortMonthsParse[r].test(t))return r;if(!e&&this._monthsParse[r].test(t))return r}},Be.monthsRegex=function(t){return this._monthsParseExact?(H(this,"_monthsRegex")||ln.call(this),t?this._monthsStrictRegex:this._monthsRegex):(H(this,"_monthsRegex")||(this._monthsRegex=un),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},Be.monthsShortRegex=function(t){return this._monthsParseExact?(H(this,"_monthsRegex")||ln.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(H(this,"_monthsShortRegex")||(this._monthsShortRegex=sn),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},Be.week=function(t){return vn(t,this._week.dow,this._week.doy).week},Be.firstDayOfYear=function(){return this._week.doy},Be.firstDayOfWeek=function(){return this._week.dow},Be.weekdays=function(t,n){var e=F(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(n)?"format":"standalone"];return!0===t?mn(e,this._week.dow):t?e[t.day()]:e},Be.weekdaysMin=function(t){return!0===t?mn(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},Be.weekdaysShort=function(t){return!0===t?mn(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},Be.weekdaysParse=function(t,n,e){var r,i,o;if(this._weekdaysParseExact)return Mn.call(this,t,n,e);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=P([2e3,1]).day(r),e&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),e&&"dddd"===n&&this._fullWeekdaysParse[r].test(t))return r;if(e&&"ddd"===n&&this._shortWeekdaysParse[r].test(t))return r;if(e&&"dd"===n&&this._minWeekdaysParse[r].test(t))return r;if(!e&&this._weekdaysParse[r].test(t))return r}},Be.weekdaysRegex=function(t){return this._weekdaysParseExact?(H(this,"_weekdaysRegex")||Dn.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(H(this,"_weekdaysRegex")||(this._weekdaysRegex=wn),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},Be.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(H(this,"_weekdaysRegex")||Dn.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(H(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=kn),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Be.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(H(this,"_weekdaysRegex")||Dn.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(H(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xn),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Be.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Be.meridiem=function(t,n,e){return t>11?e?"pm":"PM":e?"am":"AM"},On("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var n=t%10;return t+(1===X(t%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th")}}),I.lang=nt("moment.lang is deprecated. Use moment.locale instead.",On),I.langData=nt("moment.langData is deprecated. Use moment.localeData instead.",jn);var Ue=Math.abs;function qe(t,n,e,r){var i=ge(n,e);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Ve(t){return t<0?Math.floor(t):Math.ceil(t)}function Ze(t){return 4800*t/146097}function Je(t){return 146097*t/4800}function Qe(t){return function(){return this.as(t)}}var Xe=Qe("ms"),Ke=Qe("s"),tr=Qe("m"),nr=Qe("h"),er=Qe("d"),rr=Qe("w"),ir=Qe("M"),or=Qe("Q"),ar=Qe("y");function sr(t){return function(){return this.isValid()?this._data[t]:NaN}}var ur=sr("milliseconds"),lr=sr("seconds"),hr=sr("minutes"),cr=sr("hours"),dr=sr("days"),fr=sr("months"),vr=sr("years"),pr=Math.round,mr={ss:44,s:45,m:45,h:22,d:26,M:11};function gr(t,n,e,r,i){return i.relativeTime(n||1,!!e,t,r)}var br=Math.abs;function yr(t){return(t>0)-(t<0)||+t}function Mr(){if(!this.isValid())return this.localeData().invalidDate();var t,n,e=br(this._milliseconds)/1e3,r=br(this._days),i=br(this._months);t=Q(e/60),n=Q(t/60),e%=60,t%=60;var o=Q(i/12),a=i%=12,s=r,u=n,l=t,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var d=c<0?"-":"",f=yr(this._months)!==yr(c)?"-":"",v=yr(this._days)!==yr(c)?"-":"",p=yr(this._milliseconds)!==yr(c)?"-":"";return d+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?v+s+"D":"")+(u||l||h?"T":"")+(u?p+u+"H":"")+(l?p+l+"M":"")+(h?p+h+"S":"")}var wr=ae.prototype;wr.isValid=function(){return this._isValid},wr.abs=function(){var t=this._data;return this._milliseconds=Ue(this._milliseconds),this._days=Ue(this._days),this._months=Ue(this._months),t.milliseconds=Ue(t.milliseconds),t.seconds=Ue(t.seconds),t.minutes=Ue(t.minutes),t.hours=Ue(t.hours),t.months=Ue(t.months),t.years=Ue(t.years),this},wr.add=function(t,n){return qe(this,t,n,1)},wr.subtract=function(t,n){return qe(this,t,n,-1)},wr.as=function(t){if(!this.isValid())return NaN;var n,e,r=this._milliseconds;if("month"===(t=ht(t))||"quarter"===t||"year"===t)switch(e=this._months+Ze(n=this._days+r/864e5),t){case"month":return e;case"quarter":return e/3;case"year":return e/12}else switch(n=this._days+Math.round(Je(this._months)),t){case"week":return n/7+r/6048e5;case"day":return n+r/864e5;case"hour":return 24*n+r/36e5;case"minute":return 1440*n+r/6e4;case"second":return 86400*n+r/1e3;case"millisecond":return Math.floor(864e5*n)+r;default:throw new Error("Unknown unit "+t)}},wr.asMilliseconds=Xe,wr.asSeconds=Ke,wr.asMinutes=tr,wr.asHours=nr,wr.asDays=er,wr.asWeeks=rr,wr.asMonths=ir,wr.asQuarters=or,wr.asYears=ar,wr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*X(this._months/12):NaN},wr._bubble=function(){var t,n,e,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Ve(Je(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=Q(o/1e3),u.seconds=t%60,n=Q(t/60),u.minutes=n%60,e=Q(n/60),u.hours=e%24,a+=Q(e/24),s+=i=Q(Ze(a)),a-=Ve(Je(i)),r=Q(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},wr.clone=function(){return ge(this)},wr.get=function(t){return t=ht(t),this.isValid()?this[t+"s"]():NaN},wr.milliseconds=ur,wr.seconds=lr,wr.minutes=hr,wr.hours=cr,wr.days=dr,wr.weeks=function(){return Q(this.days()/7)},wr.months=fr,wr.years=vr,wr.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var n=this.localeData(),e=function(t,n,e){var r=ge(t).abs(),i=pr(r.as("s")),o=pr(r.as("m")),a=pr(r.as("h")),s=pr(r.as("d")),u=pr(r.as("M")),l=pr(r.as("y")),h=i<=mr.ss&&["s",i]||i<mr.s&&["ss",i]||o<=1&&["m"]||o<mr.m&&["mm",o]||a<=1&&["h"]||a<mr.h&&["hh",a]||s<=1&&["d"]||s<mr.d&&["dd",s]||u<=1&&["M"]||u<mr.M&&["MM",u]||l<=1&&["y"]||["yy",l];return h[2]=n,h[3]=+t>0,h[4]=e,gr.apply(null,h)}(this,!t,n);return t&&(e=n.pastFuture(+this,e)),n.postformat(e)},wr.toISOString=Mr,wr.toString=Mr,wr.toJSON=Mr,wr.locale=Se,wr.localeData=Ce,wr.toIsoString=nt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mr),wr.lang=Ye,yt("X",0,0,"unix"),yt("x",0,0,"valueOf"),Ht("x",Lt),Ht("X",/[+-]?\d+(\.\d{1,3})?/),Rt("X",(function(t,n,e){e._d=new Date(1e3*parseFloat(t,10))})),Rt("x",(function(t,n,e){e._d=new Date(X(t))})),
//! moment.js
I.version="2.24.0",A=ne,I.fn=ze,I.min=function(){var t=[].slice.call(arguments,0);return ie("isBefore",t)},I.max=function(){var t=[].slice.call(arguments,0);return ie("isAfter",t)},I.now=function(){return Date.now?Date.now():+new Date},I.utc=P,I.unix=function(t){return ne(1e3*t)},I.months=function(t,n){return Ge(t,n,"months")},I.isDate=j,I.locale=On,I.invalid=G,I.duration=ge,I.isMoment=J,I.weekdays=function(t,n,e){return $e(t,n,e,"weekdays")},I.parseZone=function(){return ne.apply(null,arguments).parseZone()},I.localeData=jn,I.isDuration=se,I.monthsShort=function(t,n){return Ge(t,n,"monthsShort")},I.weekdaysMin=function(t,n,e){return $e(t,n,e,"weekdaysMin")},I.defineLocale=Wn,I.updateLocale=function(t,n){if(null!=n){var e,r,i=An;null!=(r=Ln(t))&&(i=r._config),(e=new st(n=at(i,n))).parentLocale=_n[t],_n[t]=e,On(t)}else null!=_n[t]&&(null!=_n[t].parentLocale?_n[t]=_n[t].parentLocale:null!=_n[t]&&delete _n[t]);return _n[t]},I.locales=function(){return et(_n)},I.weekdaysShort=function(t,n,e){return $e(t,n,e,"weekdaysShort")},I.normalizeUnits=ht,I.relativeTimeRounding=function(t){return void 0===t?pr:"function"==typeof t&&(pr=t,!0)},I.relativeTimeThreshold=function(t,n){return void 0!==mr[t]&&(void 0===n?mr[t]:(mr[t]=n,"s"===t&&(mr.ss=n-1),!0))},I.calendarFormat=function(t,n){var e=t.diff(n,"days",!0);return e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},I.prototype=ze,I.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var kr=function(t,n){return function(t){
/*!
 * Chart.js v2.8.0
 * https://www.chartjs.org
 * (c) 2019 Chart.js Contributors
 * Released under the MIT License
 */
t.exports=function(t){t=t&&t.hasOwnProperty("default")?t.default:t;var n={rgb2hsl:e,rgb2hsv:i,rgb2hwb:o,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:u,rgb2lab:l,rgb2lch:function(t){return y(l(t))},hsl2rgb:h,hsl2hsv:function(t){var n=t[1]/100,e=t[2]/100;return 0===e?[0,0,0]:[t[0],2*(n*=(e*=2)<=1?e:2-e)/(e+n)*100,(e+n)/2*100]},hsl2hwb:function(t){return o(h(t))},hsl2cmyk:function(t){return a(h(t))},hsl2keyword:function(t){return s(h(t))},hsv2rgb:c,hsv2hsl:function(t){var n,e,r=t[1]/100,i=t[2]/100;return n=r*i,[t[0],100*(n=(n/=(e=(2-r)*i)<=1?e:2-e)||0),100*(e/=2)]},hsv2hwb:function(t){return o(c(t))},hsv2cmyk:function(t){return a(c(t))},hsv2keyword:function(t){return s(c(t))},hwb2rgb:d,hwb2hsl:function(t){return e(d(t))},hwb2hsv:function(t){return i(d(t))},hwb2cmyk:function(t){return a(d(t))},hwb2keyword:function(t){return s(d(t))},cmyk2rgb:f,cmyk2hsl:function(t){return e(f(t))},cmyk2hsv:function(t){return i(f(t))},cmyk2hwb:function(t){return o(f(t))},cmyk2keyword:function(t){return s(f(t))},keyword2rgb:k,keyword2hsl:function(t){return e(k(t))},keyword2hsv:function(t){return i(k(t))},keyword2hwb:function(t){return o(k(t))},keyword2cmyk:function(t){return a(k(t))},keyword2lab:function(t){return l(k(t))},keyword2xyz:function(t){return u(k(t))},xyz2rgb:v,xyz2lab:p,xyz2lch:function(t){return y(p(t))},lab2xyz:m,lab2rgb:M,lab2lch:y,lch2lab:w,lch2xyz:function(t){return m(w(t))},lch2rgb:function(t){return M(w(t))}};function e(t){var n,e,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s==a?n=0:r==s?n=(i-o)/u:i==s?n=2+(o-r)/u:o==s&&(n=4+(r-i)/u),(n=Math.min(60*n,360))<0&&(n+=360),e=(a+s)/2,[n,100*(s==a?0:e<=.5?u/(s+a):u/(2-s-a)),100*e]}function i(t){var n,e,r=t[0],i=t[1],o=t[2],a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return e=0==s?0:u/s*1e3/10,s==a?n=0:r==s?n=(i-o)/u:i==s?n=2+(o-r)/u:o==s&&(n=4+(r-i)/u),(n=Math.min(60*n,360))<0&&(n+=360),[n,e,s/255*1e3/10]}function o(t){var n=t[0],r=t[1],i=t[2];return[e(t)[0],1/255*Math.min(n,Math.min(r,i))*100,100*(i=1-1/255*Math.max(n,Math.max(r,i)))]}function a(t){var n,e=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-e-(n=Math.min(1-e,1-r,1-i)))/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-i-n)/(1-n)||0),100*n]}function s(t){return D[JSON.stringify(t)]}function u(t){var n=t[0]/255,e=t[1]/255,r=t[2]/255;return[100*(.4124*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.3576*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*n+.7152*e+.0722*r),100*(.0193*n+.1192*e+.9505*r)]}function l(t){var n=u(t),e=n[0],r=n[1],i=n[2];return r/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(e-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function h(t){var n,e,r,i,o,a=t[0]/360,s=t[1]/100,u=t[2]/100;if(0==s)return[o=255*u,o,o];n=2*u-(e=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,i[l]=255*(o=6*r<1?n+6*(e-n)*r:2*r<1?e:3*r<2?n+(e-n)*(2/3-r)*6:n);return i}function c(t){var n=t[0]/60,e=t[1]/100,r=t[2]/100,i=Math.floor(n)%6,o=n-Math.floor(n),a=255*r*(1-e),s=255*r*(1-e*o),u=255*r*(1-e*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}}function d(t){var n,e,i,o,a=t[0]/360,s=t[1]/100,u=t[2]/100,l=s+u;switch(l>1&&(s/=l,u/=l),i=6*a-(n=Math.floor(6*a)),0!=(1&n)&&(i=1-i),o=s+i*((e=1-u)-s),n){default:case 6:case 0:r=e,g=o,b=s;break;case 1:r=o,g=e,b=s;break;case 2:r=s,g=e,b=o;break;case 3:r=s,g=o,b=e;break;case 4:r=o,g=s,b=e;break;case 5:r=e,g=s,b=o}return[255*r,255*g,255*b]}function f(t){var n=t[1]/100,e=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,e*(1-r)+r))]}function v(t){var n,e,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return e=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,n=(n=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(e=Math.min(Math.max(0,e),1)),255*(r=Math.min(Math.max(0,r),1))]}function p(t){var n=t[0],e=t[1],r=t[2];return e/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116)-16,500*(n-e),200*(e-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function m(t){var n,e,r,i,o=t[0],a=t[1],s=t[2];return o<=8?i=(e=100*o/903.3)/100*7.787+16/116:(e=100*Math.pow((o+16)/116,3),i=Math.pow(e/100,1/3)),[n=n/95.047<=.008856?n=95.047*(a/500+i-16/116)/7.787:95.047*Math.pow(a/500+i,3),e,r=r/108.883<=.008859?r=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3)]}function y(t){var n,e=t[0],r=t[1],i=t[2];return(n=360*Math.atan2(i,r)/2/Math.PI)<0&&(n+=360),[e,Math.sqrt(r*r+i*i),n]}function M(t){return v(m(t))}function w(t){var n,e=t[1];return n=t[2]/360*2*Math.PI,[t[0],e*Math.cos(n),e*Math.sin(n)]}function k(t){return x[t]}var x={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},D={};for(var S in x)D[JSON.stringify(x[S])]=S;var Y=function(){return new _};for(var C in n){Y[C+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),n[t](e)}}(C);var N=/(\w+)2(\w+)/.exec(C),T=N[1],A=N[2];(Y[T]=Y[T]||{})[A]=Y[C]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var r=n[t](e);if("string"==typeof r||void 0===r)return r;for(var i=0;i<r.length;i++)r[i]=Math.round(r[i]);return r}}(C)}var _=function(){this.convs={}};_.prototype.routeSpace=function(t,n){var e=n[0];return void 0===e?this.getValues(t):("number"==typeof e&&(e=Array.prototype.slice.call(n)),this.setValues(t,e))},_.prototype.setValues=function(t,n){return this.space=t,this.convs={},this.convs[t]=n,this},_.prototype.getValues=function(t){var n=this.convs[t];if(!n){var e=this.space;n=Y[e][t](this.convs[e]),this.convs[t]=n}return n},["rgb","hsl","hsv","cmyk","keyword"].forEach((function(t){_.prototype[t]=function(n){return this.routeSpace(t,arguments)}}));var I=Y,F={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L={getRgba:O,getHsla:W,getRgb:function(t){var n=O(t);return n&&n.slice(0,3)},getHsl:function(t){var n=W(t);return n&&n.slice(0,3)},getHwb:j,getAlpha:function(t){var n=O(t);return n||(n=W(t))||(n=j(t))?n[3]:void 0},hexString:function(t,n){return n=void 0!==n&&3===t.length?n:t[3],"#"+B(t[0])+B(t[1])+B(t[2])+(n>=0&&n<1?B(Math.round(255*n)):"")},rgbString:function(t,n){return n<1||t[3]&&t[3]<1?E(t,n):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:E,percentString:function(t,n){return n<1||t[3]&&t[3]<1?H(t,n):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:H,hslString:function(t,n){return n<1||t[3]&&t[3]<1?z(t,n):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:z,hwbString:function(t,n){return void 0===n&&(n=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==n&&1!==n?", "+n:"")+")"},keyword:function(t){return R[t.slice(0,3)]}};function O(t){if(t){var n=[0,0,0],e=1,r=t.match(/^#([a-fA-F0-9]{3,4})$/i),i="";if(r){i=(r=r[1])[3];for(var o=0;o<n.length;o++)n[o]=parseInt(r[o]+r[o],16);i&&(e=Math.round(parseInt(i+i,16)/255*100)/100)}else if(r=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(i=r[2],r=r[1],o=0;o<n.length;o++)n[o]=parseInt(r.slice(2*o,2*o+2),16);i&&(e=Math.round(parseInt(i,16)/255*100)/100)}else if(r=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<n.length;o++)n[o]=parseInt(r[o+1]);e=parseFloat(r[4])}else if(r=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<n.length;o++)n[o]=Math.round(2.55*parseFloat(r[o+1]));e=parseFloat(r[4])}else if(r=t.match(/(\w+)/)){if("transparent"==r[1])return[0,0,0,0];if(!(n=F[r[1]]))return}for(o=0;o<n.length;o++)n[o]=P(n[o],0,255);return e=e||0==e?P(e,0,1):1,n[3]=e,n}}function W(t){if(t){var n=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(n){var e=parseFloat(n[4]);return[P(parseInt(n[1]),0,360),P(parseFloat(n[2]),0,100),P(parseFloat(n[3]),0,100),P(isNaN(e)?1:e,0,1)]}}}function j(t){if(t){var n=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(n){var e=parseFloat(n[4]);return[P(parseInt(n[1]),0,360),P(parseFloat(n[2]),0,100),P(parseFloat(n[3]),0,100),P(isNaN(e)?1:e,0,1)]}}}function E(t,n){return void 0===n&&(n=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+n+")"}function H(t,n){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(n||t[3]||1)+")"}function z(t,n){return void 0===n&&(n=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+n+")"}function P(t,n,e){return Math.min(Math.max(n,t),e)}function B(t){var n=t.toString(16).toUpperCase();return n.length<2?"0"+n:n}var R={};for(var G in F)R[F[G]]=G;var $=function(t){return t instanceof $?t:this instanceof $?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(n=L.getRgba(t))?this.setValues("rgb",n):(n=L.getHsla(t))?this.setValues("hsl",n):(n=L.getHwb(t))&&this.setValues("hwb",n):"object"==typeof t&&(void 0!==(n=t).r||void 0!==n.red?this.setValues("rgb",n):void 0!==n.l||void 0!==n.lightness?this.setValues("hsl",n):void 0!==n.v||void 0!==n.value?this.setValues("hsv",n):void 0!==n.w||void 0!==n.whiteness?this.setValues("hwb",n):void 0===n.c&&void 0===n.cyan||this.setValues("cmyk",n)))):new $(t);var n};$.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return L.hexString(this.values.rgb)},rgbString:function(){return L.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return L.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return L.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return L.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return L.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return L.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return L.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,n=[],e=0;e<t.length;e++){var r=t[e]/255;n[e]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(t){var n=this.luminosity(),e=t.luminosity();return n>e?(n+.05)/(e+.05):(e+.05)/(n+.05)},level:function(t){var n=this.contrast(t);return n>=7.1?"AAA":n>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],n=0;n<3;n++)t[n]=255-this.values.rgb[n];return this.setValues("rgb",t),this},lighten:function(t){var n=this.values.hsl;return n[2]+=n[2]*t,this.setValues("hsl",n),this},darken:function(t){var n=this.values.hsl;return n[2]-=n[2]*t,this.setValues("hsl",n),this},saturate:function(t){var n=this.values.hsl;return n[1]+=n[1]*t,this.setValues("hsl",n),this},desaturate:function(t){var n=this.values.hsl;return n[1]-=n[1]*t,this.setValues("hsl",n),this},whiten:function(t){var n=this.values.hwb;return n[1]+=n[1]*t,this.setValues("hwb",n),this},blacken:function(t){var n=this.values.hwb;return n[2]+=n[2]*t,this.setValues("hwb",n),this},greyscale:function(){var t=this.values.rgb,n=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[n,n,n]),this},clearer:function(t){var n=this.values.alpha;return this.setValues("alpha",n-n*t),this},opaquer:function(t){var n=this.values.alpha;return this.setValues("alpha",n+n*t),this},rotate:function(t){var n=this.values.hsl,e=(n[0]+t)%360;return n[0]=e<0?360+e:e,this.setValues("hsl",n),this},mix:function(t,n){var e=t,r=void 0===n?.5:n,i=2*r-1,o=this.alpha()-e.alpha(),a=((i*o==-1?i:(i+o)/(1+i*o))+1)/2,s=1-a;return this.rgb(a*this.red()+s*e.red(),a*this.green()+s*e.green(),a*this.blue()+s*e.blue()).alpha(this.alpha()*r+e.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var t,n,e=new $,r=this.values,i=e.values;for(var o in r)r.hasOwnProperty(o)&&("[object Array]"===(n={}.toString.call(t=r[o]))?i[o]=t.slice(0):"[object Number]"===n?i[o]=t:console.error("unexpected color value:",t));return e}},$.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},$.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},$.prototype.getValues=function(t){for(var n=this.values,e={},r=0;r<t.length;r++)e[t.charAt(r)]=n[t][r];return 1!==n.alpha&&(e.a=n.alpha),e},$.prototype.setValues=function(t,n){var e,r,i=this.values,o=this.spaces,a=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=n;else if(n.length)i[t]=n.slice(0,t.length),s=n[t.length];else if(void 0!==n[t.charAt(0)]){for(e=0;e<t.length;e++)i[t][e]=n[t.charAt(e)];s=n.a}else if(void 0!==n[o[t][0]]){var u=o[t];for(e=0;e<t.length;e++)i[t][e]=n[u[e]];s=n.alpha}if(i.alpha=Math.max(0,Math.min(1,void 0===s?i.alpha:s)),"alpha"===t)return!1;for(e=0;e<t.length;e++)r=Math.max(0,Math.min(a[t][e],i[t][e])),i[t][e]=Math.round(r);for(var l in o)l!==t&&(i[l]=I[t][l](i[t]));return!0},$.prototype.setSpace=function(t,n){var e=n[0];return void 0===e?this.getValues(t):("number"==typeof e&&(e=Array.prototype.slice.call(n)),this.setValues(t,e),this)},$.prototype.setChannel=function(t,n,e){var r=this.values[t];return void 0===e?r[n]:(e===r[n]||(r[n]=e,this.setValues(t,r)),this)},"undefined"!=typeof window&&(window.Color=$);var U,q=$,V={noop:function(){},uid:(U=0,function(){return U++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var n=Object.prototype.toString.call(t);return"[object"===n.substr(0,7)&&"Array]"===n.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,n){return void 0===t?n:t},valueAtIndexOrDefault:function(t,n,e){return V.valueOrDefault(V.isArray(t)?t[n]:t,e)},callback:function(t,n,e){if(t&&"function"==typeof t.call)return t.apply(e,n)},each:function(t,n,e,r){var i,o,a;if(V.isArray(t))if(o=t.length,r)for(i=o-1;i>=0;i--)n.call(e,t[i],i);else for(i=0;i<o;i++)n.call(e,t[i],i);else if(V.isObject(t))for(o=(a=Object.keys(t)).length,i=0;i<o;i++)n.call(e,t[a[i]],a[i])},arrayEquals:function(t,n){var e,r,i,o;if(!t||!n||t.length!==n.length)return!1;for(e=0,r=t.length;e<r;++e)if(o=n[e],(i=t[e])instanceof Array&&o instanceof Array){if(!V.arrayEquals(i,o))return!1}else if(i!==o)return!1;return!0},clone:function(t){if(V.isArray(t))return t.map(V.clone);if(V.isObject(t)){for(var n={},e=Object.keys(t),r=e.length,i=0;i<r;++i)n[e[i]]=V.clone(t[e[i]]);return n}return t},_merger:function(t,n,e,r){var i=n[t],o=e[t];V.isObject(i)&&V.isObject(o)?V.merge(i,o,r):n[t]=V.clone(o)},_mergerIf:function(t,n,e){var r=n[t],i=e[t];V.isObject(r)&&V.isObject(i)?V.mergeIf(r,i):n.hasOwnProperty(t)||(n[t]=V.clone(i))},merge:function(t,n,e){var r,i,o,a,s,u=V.isArray(n)?n:[n],l=u.length;if(!V.isObject(t))return t;for(r=(e=e||{}).merger||V._merger,i=0;i<l;++i)if(V.isObject(n=u[i]))for(s=0,a=(o=Object.keys(n)).length;s<a;++s)r(o[s],t,n,e);return t},mergeIf:function(t,n){return V.merge(t,n,{merger:V._mergerIf})},extend:function(t){for(var n=function(n,e){t[e]=n},e=1,r=arguments.length;e<r;++e)V.each(arguments[e],n);return t},inherits:function(t){var n=this,e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return n.apply(this,arguments)},r=function(){this.constructor=e};return r.prototype=n.prototype,e.prototype=new r,e.extend=V.inherits,t&&V.extend(e.prototype,t),e.__super__=n.prototype,e}},Z=V;V.callCallback=V.callback,V.indexOf=function(t,n,e){return Array.prototype.indexOf.call(t,n,e)},V.getValueOrDefault=V.valueOrDefault,V.getValueAtIndexOrDefault=V.valueAtIndexOrDefault;var J={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var n,e=0;return 0===t?0:1===t?1:(e||(e=.3),n=e/(2*Math.PI)*Math.asin(1),-1*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e))},easeOutElastic:function(t){var n,e=0;return 0===t?0:1===t?1:(e||(e=.3),n=e/(2*Math.PI)*Math.asin(1),1*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/e)+1)},easeInOutElastic:function(t){var n,e=0;return 0===t?0:2==(t/=.5)?1:(e||(e=.45),n=e/(2*Math.PI)*Math.asin(1),t<1?1*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)*-.5:1*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)*.5+1)},easeInBack:function(t){var n=1.70158;return t*t*((n+1)*t-n)},easeOutBack:function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1},easeInOutBack:function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},easeInBounce:function(t){return 1-J.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*J.easeInBounce(2*t):.5*J.easeOutBounce(2*t-1)+.5}},Q={effects:J};Z.easingEffects=J;var X=Math.PI,K=X/180,tt=2*X,nt=X/2,et=X/4,rt=2*X/3,it={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,n,e,r,i,o){if(o){var a=Math.min(o,i/2,r/2),s=n+a,u=e+a,l=n+r-a,h=e+i-a;t.moveTo(n,u),s<l&&u<h?(t.arc(s,u,a,-X,-nt),t.arc(l,u,a,-nt,0),t.arc(l,h,a,0,nt),t.arc(s,h,a,nt,X)):s<l?(t.moveTo(s,e),t.arc(l,u,a,-nt,nt),t.arc(s,u,a,nt,X+nt)):u<h?(t.arc(s,u,a,-X,0),t.arc(s,h,a,0,X)):t.arc(s,u,a,-X,X),t.closePath(),t.moveTo(n,e)}else t.rect(n,e,r,i)},drawPoint:function(t,n,e,r,i,o){var a,s,u,l,h,c=(o||0)*K;if(!n||"object"!=typeof n||"[object HTMLImageElement]"!==(a=n.toString())&&"[object HTMLCanvasElement]"!==a){if(!(isNaN(e)||e<=0)){switch(t.beginPath(),n){default:t.arc(r,i,e,0,tt),t.closePath();break;case"triangle":t.moveTo(r+Math.sin(c)*e,i-Math.cos(c)*e),c+=rt,t.lineTo(r+Math.sin(c)*e,i-Math.cos(c)*e),c+=rt,t.lineTo(r+Math.sin(c)*e,i-Math.cos(c)*e),t.closePath();break;case"rectRounded":l=e-(h=.516*e),s=Math.cos(c+et)*l,u=Math.sin(c+et)*l,t.arc(r-s,i-u,h,c-X,c-nt),t.arc(r+u,i-s,h,c-nt,c),t.arc(r+s,i+u,h,c,c+nt),t.arc(r-u,i+s,h,c+nt,c+X),t.closePath();break;case"rect":if(!o){l=Math.SQRT1_2*e,t.rect(r-l,i-l,2*l,2*l);break}c+=et;case"rectRot":s=Math.cos(c)*e,u=Math.sin(c)*e,t.moveTo(r-s,i-u),t.lineTo(r+u,i-s),t.lineTo(r+s,i+u),t.lineTo(r-u,i+s),t.closePath();break;case"crossRot":c+=et;case"cross":s=Math.cos(c)*e,u=Math.sin(c)*e,t.moveTo(r-s,i-u),t.lineTo(r+s,i+u),t.moveTo(r+u,i-s),t.lineTo(r-u,i+s);break;case"star":s=Math.cos(c)*e,u=Math.sin(c)*e,t.moveTo(r-s,i-u),t.lineTo(r+s,i+u),t.moveTo(r+u,i-s),t.lineTo(r-u,i+s),c+=et,s=Math.cos(c)*e,u=Math.sin(c)*e,t.moveTo(r-s,i-u),t.lineTo(r+s,i+u),t.moveTo(r+u,i-s),t.lineTo(r-u,i+s);break;case"line":s=Math.cos(c)*e,u=Math.sin(c)*e,t.moveTo(r-s,i-u),t.lineTo(r+s,i+u);break;case"dash":t.moveTo(r,i),t.lineTo(r+Math.cos(c)*e,i+Math.sin(c)*e)}t.fill(),t.stroke()}}else t.drawImage(n,r-n.width/2,i-n.height/2,n.width,n.height)},_isPointInArea:function(t,n){return t.x>n.left-1e-6&&t.x<n.right+1e-6&&t.y>n.top-1e-6&&t.y<n.bottom+1e-6},clipArea:function(t,n){t.save(),t.beginPath(),t.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,n,e,r){var i=e.steppedLine;if(i){if("middle"===i){var o=(n.x+e.x)/2;t.lineTo(o,r?e.y:n.y),t.lineTo(o,r?n.y:e.y)}else"after"===i&&!r||"after"!==i&&r?t.lineTo(n.x,e.y):t.lineTo(e.x,n.y);t.lineTo(e.x,e.y)}else e.tension?t.bezierCurveTo(r?n.controlPointPreviousX:n.controlPointNextX,r?n.controlPointPreviousY:n.controlPointNextY,r?e.controlPointNextX:e.controlPointPreviousX,r?e.controlPointNextY:e.controlPointPreviousY,e.x,e.y):t.lineTo(e.x,e.y)}},ot=it;Z.clear=it.clear,Z.drawRoundedRectangle=function(t){t.beginPath(),it.roundedRect.apply(it,arguments)};var at={_set:function(t,n){return Z.merge(this[t]||(this[t]={}),n)}};at._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var st=at,ut=Z.valueOrDefault,lt={toLineHeight:function(t,n){var e=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!e||"normal"===e[1])return 1.2*n;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100}return n*t},toPadding:function(t){var n,e,r,i;return Z.isObject(t)?(n=+t.top||0,e=+t.right||0,r=+t.bottom||0,i=+t.left||0):n=e=r=i=+t||0,{top:n,right:e,bottom:r,left:i,height:n+r,width:i+e}},_parseFont:function(t){var n=st.global,e=ut(t.fontSize,n.defaultFontSize),r={family:ut(t.fontFamily,n.defaultFontFamily),lineHeight:Z.options.toLineHeight(ut(t.lineHeight,n.defaultLineHeight),e),size:e,style:ut(t.fontStyle,n.defaultFontStyle),weight:null,string:""};return r.string=function(t){return!t||Z.isNullOrUndef(t.size)||Z.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r},resolve:function(t,n,e){var r,i,o;for(r=0,i=t.length;r<i;++r)if(void 0!==(o=t[r])&&(void 0!==n&&"function"==typeof o&&(o=o(n)),void 0!==e&&Z.isArray(o)&&(o=o[e]),void 0!==o))return o}},ht=Z,ct=ot,dt=lt;ht.easing=Q,ht.canvas=ct,ht.options=dt;var ft=function(t){ht.extend(this,t),this.initialize.apply(this,arguments)};ht.extend(ft.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=ht.clone(t._model)),t._start={},t},transition:function(t){var n=this,e=n._model,r=n._start,i=n._view;return e&&1!==t?(i||(i=n._view={}),r||(r=n._start={}),function(t,n,e,r){var i,o,a,s,u,l,h,c,d,f=Object.keys(e);for(i=0,o=f.length;i<o;++i)if(l=e[a=f[i]],n.hasOwnProperty(a)||(n[a]=l),(s=n[a])!==l&&"_"!==a[0]){if(t.hasOwnProperty(a)||(t[a]=s),(h=typeof l)==typeof(u=t[a]))if("string"===h){if((c=q(u)).valid&&(d=q(l)).valid){n[a]=d.mix(c,r).rgbString();continue}}else if(ht.isFinite(u)&&ht.isFinite(l)){n[a]=u+(l-u)*r;continue}n[a]=l}}(r,i,e,t),n):(n._view=e,n._start=null,n)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return ht.isNumber(this._model.x)&&ht.isNumber(this._model.y)}}),ft.extend=ht.inherits;var vt=ft,pt=vt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),mt=pt;Object.defineProperty(pt.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(pt.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),st._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:ht.noop,onComplete:ht.noop}});var gt={animations:[],request:null,addAnimation:function(t,n,e,r){var i,o,a=this.animations;for(n.chart=t,n.startTime=Date.now(),n.duration=e,r||(t.animating=!0),i=0,o=a.length;i<o;++i)if(a[i].chart===t)return void(a[i]=n);a.push(n),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var n=ht.findIndex(this.animations,(function(n){return n.chart===t}));-1!==n&&(this.animations.splice(n,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=ht.requestAnimFrame.call(window,(function(){t.request=null,t.startDigest()})))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var t,n,e,r,i=this.animations,o=0;o<i.length;)n=(t=i[o]).chart,e=t.numSteps,r=Math.floor((Date.now()-t.startTime)/t.duration*e)+1,t.currentStep=Math.min(r,e),ht.callback(t.render,[n,t],n),ht.callback(t.onAnimationProgress,[t],n),t.currentStep>=e?(ht.callback(t.onAnimationComplete,[t],n),n.animating=!1,i.splice(o,1)):++o}},bt=ht.options.resolve,yt=["push","pop","shift","splice","unshift"];function Mt(t,n){var e=t._chartjs;if(e){var r=e.listeners,i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length>0||(yt.forEach((function(n){delete t[n]})),delete t._chartjs)}}var wt=function(t,n){this.initialize(t,n)};ht.extend(wt.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,n){this.chart=t,this.index=n,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,n=t.getMeta(),e=t.getDataset();null!==n.xAxisID&&n.xAxisID in t.chart.scales||(n.xAxisID=e.xAxisID||t.chart.options.scales.xAxes[0].id),null!==n.yAxisID&&n.yAxisID in t.chart.scales||(n.yAxisID=e.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&Mt(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var n=this.dataElementType;return n&&new n({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,n,e=this.getMeta(),r=this.getDataset().data||[],i=e.data;for(t=0,n=r.length;t<n;++t)i[t]=i[t]||this.createMetaData(t);e.dataset=e.dataset||this.createMetaDataset()},addElementAndReset:function(t){var n=this.createMetaData(t);this.getMeta().data.splice(t,0,n),this.updateElement(n,t,!0)},buildOrUpdateElements:function(){var t,n,e=this,r=e.getDataset(),i=r.data||(r.data=[]);e._data!==i&&(e._data&&Mt(e._data,e),i&&Object.isExtensible(i)&&(n=e,(t=i)._chartjs?t._chartjs.listeners.push(n):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),yt.forEach((function(n){var e="onData"+n.charAt(0).toUpperCase()+n.slice(1),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:function(){var n=Array.prototype.slice.call(arguments),i=r.apply(this,n);return ht.each(t._chartjs.listeners,(function(t){"function"==typeof t[e]&&t[e].apply(t,n)})),i}})})))),e._data=i),e.resyncElements()},update:ht.noop,transition:function(t){for(var n=this.getMeta(),e=n.data||[],r=e.length,i=0;i<r;++i)e[i].transition(t);n.dataset&&n.dataset.transition(t)},draw:function(){var t=this.getMeta(),n=t.data||[],e=n.length,r=0;for(t.dataset&&t.dataset.draw();r<e;++r)n[r].draw()},removeHoverStyle:function(t){ht.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],e=t._index,r=t.custom||{},i=t._model,o=ht.getHoverColor;t.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth},i.backgroundColor=bt([r.hoverBackgroundColor,n.hoverBackgroundColor,o(i.backgroundColor)],void 0,e),i.borderColor=bt([r.hoverBorderColor,n.hoverBorderColor,o(i.borderColor)],void 0,e),i.borderWidth=bt([r.hoverBorderWidth,n.hoverBorderWidth,i.borderWidth],void 0,e)},resyncElements:function(){var t=this.getMeta(),n=this.getDataset().data,e=t.data.length,r=n.length;r<e?t.data.splice(r,e-r):r>e&&this.insertElements(e,r-e)},insertElements:function(t,n){for(var e=0;e<n;++e)this.addElementAndReset(t+e)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,n){this.getMeta().data.splice(t,n),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),wt.extend=ht.inherits;var kt=wt;st._set("global",{elements:{arc:{backgroundColor:st.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var xt=vt.extend({inLabelRange:function(t){var n=this._view;return!!n&&Math.pow(t-n.x,2)<Math.pow(n.radius+n.hoverRadius,2)},inRange:function(t,n){var e=this._view;if(e){for(var r=ht.getAngleFromPoint(e,{x:t,y:n}),i=r.angle,o=r.distance,a=e.startAngle,s=e.endAngle;s<a;)s+=2*Math.PI;for(;i>s;)i-=2*Math.PI;for(;i<a;)i+=2*Math.PI;return i>=a&&i<=s&&o>=e.innerRadius&&o<=e.outerRadius}return!1},getCenterPoint:function(){var t=this._view,n=(t.startAngle+t.endAngle)/2,e=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,n=t.startAngle+(t.endAngle-t.startAngle)/2,e=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}},draw:function(){var t,n=this._chart.ctx,e=this._view,r=e.startAngle,i=e.endAngle,o="inner"===e.borderAlign?.33:0;n.save(),n.beginPath(),n.arc(e.x,e.y,Math.max(e.outerRadius-o,0),r,i),n.arc(e.x,e.y,e.innerRadius,i,r,!0),n.closePath(),n.fillStyle=e.backgroundColor,n.fill(),e.borderWidth&&("inner"===e.borderAlign?(n.beginPath(),n.arc(e.x,e.y,e.outerRadius,r-(t=o/e.outerRadius),i+t),e.innerRadius>o?n.arc(e.x,e.y,e.innerRadius-o,i+(t=o/e.innerRadius),r-t,!0):n.arc(e.x,e.y,o,i+Math.PI/2,r-Math.PI/2),n.closePath(),n.clip(),n.beginPath(),n.arc(e.x,e.y,e.outerRadius,r,i),n.arc(e.x,e.y,e.innerRadius,i,r,!0),n.closePath(),n.lineWidth=2*e.borderWidth,n.lineJoin="round"):(n.lineWidth=e.borderWidth,n.lineJoin="bevel"),n.strokeStyle=e.borderColor,n.stroke()),n.restore()}}),Dt=ht.valueOrDefault,St=st.global.defaultColor;st._set("global",{elements:{line:{tension:.4,backgroundColor:St,borderWidth:3,borderColor:St,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Yt=vt.extend({draw:function(){var t,n,e,r,i=this._view,o=this._chart.ctx,a=i.spanGaps,s=this._children.slice(),u=st.global,l=u.elements.line,h=-1;for(this._loop&&s.length&&s.push(s[0]),o.save(),o.lineCap=i.borderCapStyle||l.borderCapStyle,o.setLineDash&&o.setLineDash(i.borderDash||l.borderDash),o.lineDashOffset=Dt(i.borderDashOffset,l.borderDashOffset),o.lineJoin=i.borderJoinStyle||l.borderJoinStyle,o.lineWidth=Dt(i.borderWidth,l.borderWidth),o.strokeStyle=i.borderColor||u.defaultColor,o.beginPath(),h=-1,t=0;t<s.length;++t)n=s[t],e=ht.previousItem(s,t),r=n._view,0===t?r.skip||(o.moveTo(r.x,r.y),h=t):(e=-1===h?e:s[h],r.skip||(h!==t-1&&!a||-1===h?o.moveTo(r.x,r.y):ht.canvas.lineTo(o,e._view,n._view),h=t));o.stroke(),o.restore()}}),Ct=ht.valueOrDefault,Nt=st.global.defaultColor;function Tt(t){var n=this._view;return!!n&&Math.abs(t-n.x)<n.radius+n.hitRadius}st._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Nt,borderColor:Nt,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var At=vt.extend({inRange:function(t,n){var e=this._view;return!!e&&Math.pow(t-e.x,2)+Math.pow(n-e.y,2)<Math.pow(e.hitRadius+e.radius,2)},inLabelRange:Tt,inXRange:Tt,inYRange:function(t){var n=this._view;return!!n&&Math.abs(t-n.y)<n.radius+n.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var n=this._view,e=this._chart.ctx,r=n.pointStyle,i=n.rotation,o=n.radius,a=n.x,s=n.y,u=st.global,l=u.defaultColor;n.skip||(void 0===t||ht.canvas._isPointInArea(n,t))&&(e.strokeStyle=n.borderColor||l,e.lineWidth=Ct(n.borderWidth,u.elements.point.borderWidth),e.fillStyle=n.backgroundColor||l,ht.canvas.drawPoint(e,r,o,a,s,i))}}),_t=st.global.defaultColor;function It(t){return t&&void 0!==t.width}function Ft(t){var n,e,r,i,o;return It(t)?(n=t.x-(o=t.width/2),e=t.x+o,r=Math.min(t.y,t.base),i=Math.max(t.y,t.base)):(o=t.height/2,n=Math.min(t.x,t.base),e=Math.max(t.x,t.base),r=t.y-o,i=t.y+o),{left:n,top:r,right:e,bottom:i}}function Lt(t,n,e){return t===n?e:t===e?n:t}function Ot(t,n,e){var r=null===n,i=null===e,o=!(!t||r&&i)&&Ft(t);return o&&(r||n>=o.left&&n<=o.right)&&(i||e>=o.top&&e<=o.bottom)}st._set("global",{elements:{rectangle:{backgroundColor:_t,borderColor:_t,borderSkipped:"bottom",borderWidth:0}}});var Wt=vt.extend({draw:function(){var t=this._chart.ctx,n=this._view,e=function(t){var n=Ft(t),e=n.right-n.left,r=n.bottom-n.top,i=function(t,n,e){var r,i,o,a,s=t.borderWidth,u=function(t){var n=t.borderSkipped,e={};return n?(t.horizontal?t.base>t.x&&(n=Lt(n,"left","right")):t.base<t.y&&(n=Lt(n,"bottom","top")),e[n]=!0,e):e}(t);return ht.isObject(s)?(r=+s.top||0,i=+s.right||0,o=+s.bottom||0,a=+s.left||0):r=i=o=a=+s||0,{t:u.top||r<0?0:r>e?e:r,r:u.right||i<0?0:i>n?n:i,b:u.bottom||o<0?0:o>e?e:o,l:u.left||a<0?0:a>n?n:a}}(t,e/2,r/2);return{outer:{x:n.left,y:n.top,w:e,h:r},inner:{x:n.left+i.l,y:n.top+i.t,w:e-i.l-i.r,h:r-i.t-i.b}}}(n),r=e.outer,i=e.inner;t.fillStyle=n.backgroundColor,t.fillRect(r.x,r.y,r.w,r.h),r.w===i.w&&r.h===i.h||(t.save(),t.beginPath(),t.rect(r.x,r.y,r.w,r.h),t.clip(),t.fillStyle=n.borderColor,t.rect(i.x,i.y,i.w,i.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,n){return Ot(this._view,t,n)},inLabelRange:function(t,n){var e=this._view;return It(e)?Ot(e,t,null):Ot(e,null,n)},inXRange:function(t){return Ot(this._view,t,null)},inYRange:function(t){return Ot(this._view,null,t)},getCenterPoint:function(){var t,n,e=this._view;return It(e)?(t=e.x,n=(e.y+e.base)/2):(t=(e.x+e.base)/2,n=e.y),{x:t,y:n}},getArea:function(){var t=this._view;return It(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),jt={},Et=Yt,Ht=At,zt=Wt;jt.Arc=xt,jt.Line=Et,jt.Point=Ht,jt.Rectangle=zt;var Pt=ht.options.resolve;st._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var Bt=kt.extend({dataElementType:jt.Rectangle,initialize:function(){var t,n=this;kt.prototype.initialize.apply(n,arguments),(t=n.getMeta()).stack=n.getDataset().stack,t.bar=!0},update:function(t){var n,e,r=this.getMeta().data;for(this._ruler=this.getRuler(),n=0,e=r.length;n<e;++n)this.updateElement(r[n],n,t)},updateElement:function(t,n,e){var r=this,i=r.getMeta(),o=r.getDataset(),a=r._resolveElementOptions(t,n);t._xScale=r.getScaleForId(i.xAxisID),t._yScale=r.getScaleForId(i.yAxisID),t._datasetIndex=r.index,t._index=n,t._model={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderSkipped:a.borderSkipped,borderWidth:a.borderWidth,datasetLabel:o.label,label:r.chart.data.labels[n]},r._updateElementGeometry(t,n,e),t.pivot()},_updateElementGeometry:function(t,n,e){var r=this,i=t._model,o=r._getValueScale(),a=o.getBasePixel(),s=o.isHorizontal(),u=r._ruler||r.getRuler(),l=r.calculateBarValuePixels(r.index,n),h=r.calculateBarIndexPixels(r.index,n,u);i.horizontal=s,i.base=e?a:l.base,i.x=s?e?a:l.head:h.center,i.y=s?h.center:e?a:l.head,i.height=s?h.size:void 0,i.width=s?void 0:h.size},_getStacks:function(t){var n,e,r=this.chart,i=this._getIndexScale().options.stacked,o=void 0===t?r.data.datasets.length:t+1,a=[];for(n=0;n<o;++n)(e=r.getDatasetMeta(n)).bar&&r.isDatasetVisible(n)&&(!1===i||!0===i&&-1===a.indexOf(e.stack)||void 0===i&&(void 0===e.stack||-1===a.indexOf(e.stack)))&&a.push(e.stack);return a},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,n){var e=this._getStacks(t),r=void 0!==n?e.indexOf(n):-1;return-1===r?e.length-1:r},getRuler:function(){var t,n,e=this._getIndexScale(),r=this.getStackCount(),i=this.index,o=e.isHorizontal(),a=o?e.left:e.top,s=a+(o?e.width:e.height),u=[];for(t=0,n=this.getMeta().data.length;t<n;++t)u.push(e.getPixelForValue(null,t,i));return{min:ht.isNullOrUndef(e.options.barThickness)?function(t,n){var e,r,i,o,a=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(i=1,o=n.length;i<o;++i)a=Math.min(a,Math.abs(n[i]-n[i-1]));for(i=0,o=s.length;i<o;++i)r=t.getPixelForTick(i),a=i>0?Math.min(a,r-e):a,e=r;return a}(e,u):-1,pixels:u,start:a,end:s,stackCount:r,scale:e}},calculateBarValuePixels:function(t,n){var e,r,i,o,a,s,u=this.chart,l=this.getMeta(),h=this._getValueScale(),c=h.isHorizontal(),d=u.data.datasets,f=+h.getRightValue(d[t].data[n]),v=h.options.minBarLength,p=h.options.stacked,m=l.stack,g=0;if(p||void 0===p&&void 0!==m)for(e=0;e<t;++e)(r=u.getDatasetMeta(e)).bar&&r.stack===m&&r.controller._getValueScaleId()===h.id&&u.isDatasetVisible(e)&&(i=+h.getRightValue(d[e].data[n]),(f<0&&i<0||f>=0&&i>0)&&(g+=i));return o=h.getPixelForValue(g),s=(a=h.getPixelForValue(g+f))-o,void 0!==v&&Math.abs(s)<v&&(s=v,a=f>=0&&!c||f<0&&c?o-v:o+v),{size:s,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(t,n,e){var r=e.scale.options,i="flex"===r.barThickness?function(t,n,e){var r,i=n.pixels,o=i[t],a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null,u=e.categoryPercentage;return null===a&&(a=o-(null===s?n.end-n.start:s-o)),null===s&&(s=o+o-a),r=o-(o-Math.min(a,s))/2*u,{chunk:Math.abs(s-a)/2*u/n.stackCount,ratio:e.barPercentage,start:r}}(n,e,r):function(t,n,e){var r,i,o=e.barThickness,a=n.stackCount,s=n.pixels[t];return ht.isNullOrUndef(o)?(r=n.min*e.categoryPercentage,i=e.barPercentage):(r=o*a,i=1),{chunk:r/a,ratio:i,start:s-r/2}}(n,e,r),o=this.getStackIndex(t,this.getMeta().stack),a=i.start+i.chunk*o+i.chunk/2,s=Math.min(ht.valueOrDefault(r.maxBarThickness,1/0),i.chunk*i.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}},draw:function(){var t=this.chart,n=this._getValueScale(),e=this.getMeta().data,r=this.getDataset(),i=e.length,o=0;for(ht.canvas.clipArea(t.ctx,t.chartArea);o<i;++o)isNaN(n.getRightValue(r.data[o]))||e[o].draw();ht.canvas.unclipArea(t.ctx)},_resolveElementOptions:function(t,n){var e,r,i,o=this.chart,a=o.data.datasets[this.index],s=t.custom||{},u=o.options.elements.rectangle,l={},h={chart:o,dataIndex:n,dataset:a,datasetIndex:this.index},c=["backgroundColor","borderColor","borderSkipped","borderWidth"];for(e=0,r=c.length;e<r;++e)l[i=c[e]]=Pt([s[i],a[i],u[i]],h,n);return l}}),Rt=ht.valueOrDefault,Gt=ht.options.resolve;st._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,n){return(n.datasets[t.datasetIndex].label||"")+": ("+t.xLabel+", "+t.yLabel+", "+n.datasets[t.datasetIndex].data[t.index].r+")"}}}});var $t=kt.extend({dataElementType:jt.Point,update:function(t){var n=this,e=n.getMeta();ht.each(e.data,(function(e,r){n.updateElement(e,r,t)}))},updateElement:function(t,n,e){var r=this,i=r.getMeta(),o=t.custom||{},a=r.getScaleForId(i.xAxisID),s=r.getScaleForId(i.yAxisID),u=r._resolveElementOptions(t,n),l=r.getDataset().data[n],h=r.index,c=e?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof l?l:NaN,n,h),d=e?s.getBasePixel():s.getPixelForValue(l,n,h);t._xScale=a,t._yScale=s,t._options=u,t._datasetIndex=h,t._index=n,t._model={backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,hitRadius:u.hitRadius,pointStyle:u.pointStyle,rotation:u.rotation,radius:e?0:u.radius,skip:o.skip||isNaN(c)||isNaN(d),x:c,y:d},t.pivot()},setHoverStyle:function(t){var n=t._model,e=t._options,r=ht.getHoverColor;t.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth,radius:n.radius},n.backgroundColor=Rt(e.hoverBackgroundColor,r(e.backgroundColor)),n.borderColor=Rt(e.hoverBorderColor,r(e.borderColor)),n.borderWidth=Rt(e.hoverBorderWidth,e.borderWidth),n.radius=e.radius+e.hoverRadius},_resolveElementOptions:function(t,n){var e,r,i,o=this.chart,a=o.data.datasets[this.index],s=t.custom||{},u=o.options.elements.point,l=a.data[n],h={},c={chart:o,dataIndex:n,dataset:a,datasetIndex:this.index},d=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(e=0,r=d.length;e<r;++e)h[i=d[e]]=Gt([s[i],a[i],u[i]],c,n);return h.radius=Gt([s.radius,l?l.r:void 0,a.radius,u.radius],c,n),h}}),Ut=ht.options.resolve,qt=ht.valueOrDefault;st._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var n=[];n.push('<ul class="'+t.id+'-legend">');var e=t.data,r=e.datasets,i=e.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)n.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),i[o]&&n.push(i[o]),n.push("</li>");return n.push("</ul>"),n.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map((function(e,r){var i=t.getDatasetMeta(0),o=n.datasets[0],a=i.data[r],s=a&&a.custom||{},u=t.options.elements.arc;return{text:e,fillStyle:Ut([s.backgroundColor,o.backgroundColor,u.backgroundColor],void 0,r),strokeStyle:Ut([s.borderColor,o.borderColor,u.borderColor],void 0,r),lineWidth:Ut([s.borderWidth,o.borderWidth,u.borderWidth],void 0,r),hidden:isNaN(o.data[r])||i.data[r].hidden,index:r}})):[]}},onClick:function(t,n){var e,r,i,o=n.index,a=this.chart;for(e=0,r=(a.data.datasets||[]).length;e<r;++e)(i=a.getDatasetMeta(e)).data[o]&&(i.data[o].hidden=!i.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,n){var e=n.labels[t.index],r=": "+n.datasets[t.datasetIndex].data[t.index];return ht.isArray(e)?(e=e.slice())[0]+=r:e+=r,e}}}});var Vt=kt.extend({dataElementType:jt.Arc,linkScales:ht.noop,getRingIndex:function(t){for(var n=0,e=0;e<t;++e)this.chart.isDatasetVisible(e)&&++n;return n},update:function(t){var n,e,r=this,i=r.chart,o=i.chartArea,a=i.options,s=o.right-o.left,u=o.bottom-o.top,l=Math.min(s,u),h={x:0,y:0},c=r.getMeta(),d=c.data,f=a.cutoutPercentage,v=a.circumference,p=r._getRingWeight(r.index);if(v<2*Math.PI){var m=a.rotation%(2*Math.PI),g=(m+=2*Math.PI*(m>=Math.PI?-1:m<-Math.PI?1:0))+v,b={x:Math.cos(m),y:Math.sin(m)},y={x:Math.cos(g),y:Math.sin(g)},M=m<=0&&g>=0||m<=2*Math.PI&&2*Math.PI<=g,w=m<=.5*Math.PI&&.5*Math.PI<=g||m<=2.5*Math.PI&&2.5*Math.PI<=g,k=m<=-Math.PI&&-Math.PI<=g||m<=Math.PI&&Math.PI<=g,x=m<=.5*-Math.PI&&.5*-Math.PI<=g||m<=1.5*Math.PI&&1.5*Math.PI<=g,D=f/100,S={x:k?-1:Math.min(b.x*(b.x<0?1:D),y.x*(y.x<0?1:D)),y:x?-1:Math.min(b.y*(b.y<0?1:D),y.y*(y.y<0?1:D))},Y={x:M?1:Math.max(b.x*(b.x>0?1:D),y.x*(y.x>0?1:D)),y:w?1:Math.max(b.y*(b.y>0?1:D),y.y*(y.y>0?1:D))},C={width:.5*(Y.x-S.x),height:.5*(Y.y-S.y)};l=Math.min(s/C.width,u/C.height),h={x:-.5*(Y.x+S.x),y:-.5*(Y.y+S.y)}}for(n=0,e=d.length;n<e;++n)d[n]._options=r._resolveElementOptions(d[n],n);for(i.borderWidth=r.getMaxBorderWidth(),i.outerRadius=Math.max((l-i.borderWidth)/2,0),i.innerRadius=Math.max(f?i.outerRadius/100*f:0,0),i.radiusLength=(i.outerRadius-i.innerRadius)/(r._getVisibleDatasetWeightTotal()||1),i.offsetX=h.x*i.outerRadius,i.offsetY=h.y*i.outerRadius,c.total=r.calculateTotal(),r.outerRadius=i.outerRadius-i.radiusLength*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-i.radiusLength*p,0),n=0,e=d.length;n<e;++n)r.updateElement(d[n],n,t)},updateElement:function(t,n,e){var r=this,i=r.chart,o=i.chartArea,a=i.options,s=a.animation,u=(o.left+o.right)/2,l=(o.top+o.bottom)/2,h=a.rotation,c=a.rotation,d=r.getDataset(),f=e&&s.animateRotate||t.hidden?0:r.calculateCircumference(d.data[n])*(a.circumference/(2*Math.PI)),v=t._options||{};ht.extend(t,{_datasetIndex:r.index,_index:n,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:u+i.offsetX,y:l+i.offsetY,startAngle:h,endAngle:c,circumference:f,outerRadius:e&&s.animateScale?0:r.outerRadius,innerRadius:e&&s.animateScale?0:r.innerRadius,label:ht.valueAtIndexOrDefault(d.label,n,i.data.labels[n])}});var p=t._model;e&&s.animateRotate||(p.startAngle=0===n?a.rotation:r.getMeta().data[n-1]._model.endAngle,p.endAngle=p.startAngle+p.circumference),t.pivot()},calculateTotal:function(){var t,n=this.getDataset(),e=this.getMeta(),r=0;return ht.each(e.data,(function(e,i){t=n.data[i],isNaN(t)||e.hidden||(r+=Math.abs(t))})),r},calculateCircumference:function(t){var n=this.getMeta().total;return n>0&&!isNaN(t)?2*Math.PI*(Math.abs(t)/n):0},getMaxBorderWidth:function(t){var n,e,r,i,o,a,s,u,l=0,h=this.chart;if(!t)for(n=0,e=h.data.datasets.length;n<e;++n)if(h.isDatasetVisible(n)){t=(r=h.getDatasetMeta(n)).data,n!==this.index&&(o=r.controller);break}if(!t)return 0;for(n=0,e=t.length;n<e;++n)i=t[n],"inner"!==(a=o?o._resolveElementOptions(i,n):i._options).borderAlign&&(l=(u=a.hoverBorderWidth)>(l=(s=a.borderWidth)>l?s:l)?u:l);return l},setHoverStyle:function(t){var n=t._model,e=t._options,r=ht.getHoverColor;t.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth},n.backgroundColor=qt(e.hoverBackgroundColor,r(e.backgroundColor)),n.borderColor=qt(e.hoverBorderColor,r(e.borderColor)),n.borderWidth=qt(e.hoverBorderWidth,e.borderWidth)},_resolveElementOptions:function(t,n){var e,r,i,o=this.chart,a=this.getDataset(),s=t.custom||{},u=o.options.elements.arc,l={},h={chart:o,dataIndex:n,dataset:a,datasetIndex:this.index},c=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(e=0,r=c.length;e<r;++e)l[i=c[e]]=Ut([s[i],a[i],u[i]],h,n);return l},_getRingWeightOffset:function(t){for(var n=0,e=0;e<t;++e)this.chart.isDatasetVisible(e)&&(n+=this._getRingWeight(e));return n},_getRingWeight:function(t){return Math.max(qt(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});st._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var Zt=Bt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Jt=ht.valueOrDefault,Qt=ht.options.resolve,Xt=ht.canvas._isPointInArea;function Kt(t,n){return Jt(t.showLine,n.showLines)}st._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var tn=kt.extend({datasetElementType:jt.Line,dataElementType:jt.Point,update:function(t){var n,e,r=this,i=r.getMeta(),o=i.dataset,a=i.data||[],s=r.getScaleForId(i.yAxisID),u=r.getDataset(),l=Kt(u,r.chart.options);for(l&&(void 0!==u.tension&&void 0===u.lineTension&&(u.lineTension=u.tension),o._scale=s,o._datasetIndex=r.index,o._children=a,o._model=r._resolveLineOptions(o),o.pivot()),n=0,e=a.length;n<e;++n)r.updateElement(a[n],n,t);for(l&&0!==o._model.tension&&r.updateBezierControlPoints(),n=0,e=a.length;n<e;++n)a[n].pivot()},updateElement:function(t,n,e){var r,i,o=this,a=o.getMeta(),s=t.custom||{},u=o.getDataset(),l=o.index,h=u.data[n],c=o.getScaleForId(a.yAxisID),d=o.getScaleForId(a.xAxisID),f=a.dataset._model,v=o._resolvePointOptions(t,n);r=d.getPixelForValue("object"==typeof h?h:NaN,n,l),i=e?c.getBasePixel():o.calculatePointY(h,n,l),t._xScale=d,t._yScale=c,t._options=v,t._datasetIndex=l,t._index=n,t._model={x:r,y:i,skip:s.skip||isNaN(r)||isNaN(i),radius:v.radius,pointStyle:v.pointStyle,rotation:v.rotation,backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,tension:Jt(s.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:v.hitRadius}},_resolvePointOptions:function(t,n){var e,r,i,o=this.chart,a=o.data.datasets[this.index],s=t.custom||{},u=o.options.elements.point,l={},h={chart:o,dataIndex:n,dataset:a,datasetIndex:this.index},c={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},d=Object.keys(c);for(e=0,r=d.length;e<r;++e)l[i=d[e]]=Qt([s[i],a[c[i]],a[i],u[i]],h,n);return l},_resolveLineOptions:function(t){var n,e,r,i=this.chart,o=i.data.datasets[this.index],a=t.custom||{},s=i.options,u=s.elements.line,l={},h=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","cubicInterpolationMode"];for(n=0,e=h.length;n<e;++n)l[r=h[n]]=Qt([a[r],o[r],u[r]]);return l.spanGaps=Jt(o.spanGaps,s.spanGaps),l.tension=Jt(o.lineTension,u.tension),l.steppedLine=Qt([a.steppedLine,o.steppedLine,u.stepped]),l},calculatePointY:function(t,n,e){var r,i,o,a=this.chart,s=this.getMeta(),u=this.getScaleForId(s.yAxisID),l=0,h=0;if(u.options.stacked){for(r=0;r<e;r++)if(i=a.data.datasets[r],"line"===(o=a.getDatasetMeta(r)).type&&o.yAxisID===u.id&&a.isDatasetVisible(r)){var c=Number(u.getRightValue(i.data[n]));c<0?h+=c||0:l+=c||0}var d=Number(u.getRightValue(t));return u.getPixelForValue(d<0?h+d:l+d)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){var t,n,e,r,i=this.chart,o=this.getMeta(),a=o.dataset._model,s=i.chartArea,u=o.data||[];function l(t,n,e){return Math.max(Math.min(t,e),n)}if(a.spanGaps&&(u=u.filter((function(t){return!t._model.skip}))),"monotone"===a.cubicInterpolationMode)ht.splineCurveMonotone(u);else for(t=0,n=u.length;t<n;++t)e=u[t]._model,r=ht.splineCurve(ht.previousItem(u,t)._model,e,ht.nextItem(u,t)._model,a.tension),e.controlPointPreviousX=r.previous.x,e.controlPointPreviousY=r.previous.y,e.controlPointNextX=r.next.x,e.controlPointNextY=r.next.y;if(i.options.elements.line.capBezierPoints)for(t=0,n=u.length;t<n;++t)Xt(e=u[t]._model,s)&&(t>0&&Xt(u[t-1]._model,s)&&(e.controlPointPreviousX=l(e.controlPointPreviousX,s.left,s.right),e.controlPointPreviousY=l(e.controlPointPreviousY,s.top,s.bottom)),t<u.length-1&&Xt(u[t+1]._model,s)&&(e.controlPointNextX=l(e.controlPointNextX,s.left,s.right),e.controlPointNextY=l(e.controlPointNextY,s.top,s.bottom)))},draw:function(){var t,n=this.chart,e=this.getMeta(),r=e.data||[],i=n.chartArea,o=r.length,a=0;for(Kt(this.getDataset(),n.options)&&(ht.canvas.clipArea(n.ctx,{left:i.left,right:i.right,top:i.top-(t=(e.dataset._model.borderWidth||0)/2),bottom:i.bottom+t}),e.dataset.draw(),ht.canvas.unclipArea(n.ctx));a<o;++a)r[a].draw(i)},setHoverStyle:function(t){var n=t._model,e=t._options,r=ht.getHoverColor;t.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth,radius:n.radius},n.backgroundColor=Jt(e.hoverBackgroundColor,r(e.backgroundColor)),n.borderColor=Jt(e.hoverBorderColor,r(e.borderColor)),n.borderWidth=Jt(e.hoverBorderWidth,e.borderWidth),n.radius=Jt(e.hoverRadius,e.radius)}}),nn=ht.options.resolve;st._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var n=[];n.push('<ul class="'+t.id+'-legend">');var e=t.data,r=e.datasets,i=e.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)n.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),i[o]&&n.push(i[o]),n.push("</li>");return n.push("</ul>"),n.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map((function(e,r){var i=t.getDatasetMeta(0),o=n.datasets[0],a=i.data[r].custom||{},s=t.options.elements.arc;return{text:e,fillStyle:nn([a.backgroundColor,o.backgroundColor,s.backgroundColor],void 0,r),strokeStyle:nn([a.borderColor,o.borderColor,s.borderColor],void 0,r),lineWidth:nn([a.borderWidth,o.borderWidth,s.borderWidth],void 0,r),hidden:isNaN(o.data[r])||i.data[r].hidden,index:r}})):[]}},onClick:function(t,n){var e,r,i,o=n.index,a=this.chart;for(e=0,r=(a.data.datasets||[]).length;e<r;++e)(i=a.getDatasetMeta(e)).data[o].hidden=!i.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,n){return n.labels[t.index]+": "+t.yLabel}}}});var en=kt.extend({dataElementType:jt.Arc,linkScales:ht.noop,update:function(t){var n,e,r,i=this,o=i.getDataset(),a=i.getMeta(),s=i.chart.options.startAngle||0,u=i._starts=[],l=i._angles=[],h=a.data;for(i._updateRadius(),a.count=i.countVisibleElements(),n=0,e=o.data.length;n<e;n++)u[n]=s,r=i._computeAngle(n),l[n]=r,s+=r;for(n=0,e=h.length;n<e;++n)h[n]._options=i._resolveElementOptions(h[n],n),i.updateElement(h[n],n,t)},_updateRadius:function(){var t=this,n=t.chart,e=n.chartArea,r=n.options,i=Math.min(e.right-e.left,e.bottom-e.top);n.outerRadius=Math.max(i/2,0),n.innerRadius=Math.max(r.cutoutPercentage?n.outerRadius/100*r.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),t.outerRadius=n.outerRadius-n.radiusLength*t.index,t.innerRadius=t.outerRadius-n.radiusLength},updateElement:function(t,n,e){var r=this,i=r.chart,o=r.getDataset(),a=i.options,s=a.animation,u=i.scale,l=i.data.labels,h=u.xCenter,c=u.yCenter,d=a.startAngle,f=t.hidden?0:u.getDistanceFromCenterForValue(o.data[n]),v=r._starts[n],p=v+(t.hidden?0:r._angles[n]),m=s.animateScale?0:u.getDistanceFromCenterForValue(o.data[n]),g=t._options||{};ht.extend(t,{_datasetIndex:r.index,_index:n,_scale:u,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:h,y:c,innerRadius:0,outerRadius:e?m:f,startAngle:e&&s.animateRotate?d:v,endAngle:e&&s.animateRotate?d:p,label:ht.valueAtIndexOrDefault(l,n,l[n])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),n=this.getMeta(),e=0;return ht.each(n.data,(function(n,r){isNaN(t.data[r])||n.hidden||e++})),e},setHoverStyle:function(t){var n=t._model,e=t._options,r=ht.getHoverColor,i=ht.valueOrDefault;t.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth},n.backgroundColor=i(e.hoverBackgroundColor,r(e.backgroundColor)),n.borderColor=i(e.hoverBorderColor,r(e.borderColor)),n.borderWidth=i(e.hoverBorderWidth,e.borderWidth)},_resolveElementOptions:function(t,n){var e,r,i,o=this.chart,a=this.getDataset(),s=t.custom||{},u=o.options.elements.arc,l={},h={chart:o,dataIndex:n,dataset:a,datasetIndex:this.index},c=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(e=0,r=c.length;e<r;++e)l[i=c[e]]=nn([s[i],a[i],u[i]],h,n);return l},_computeAngle:function(t){var n=this,e=this.getMeta().count,r=n.getDataset(),i=n.getMeta();return isNaN(r.data[t])||i.data[t].hidden?0:nn([n.chart.options.elements.arc.angle,2*Math.PI/e],{chart:n.chart,dataIndex:t,dataset:r,datasetIndex:n.index},t)}});st._set("pie",ht.clone(st.doughnut)),st._set("pie",{cutoutPercentage:0});var rn=Vt,on=ht.valueOrDefault,an=ht.options.resolve;st._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var sn=kt.extend({datasetElementType:jt.Line,dataElementType:jt.Point,linkScales:ht.noop,update:function(t){var n,e,r=this,i=r.getMeta(),o=i.dataset,a=i.data||[],s=r.chart.scale,u=r.getDataset();for(void 0!==u.tension&&void 0===u.lineTension&&(u.lineTension=u.tension),o._scale=s,o._datasetIndex=r.index,o._children=a,o._loop=!0,o._model=r._resolveLineOptions(o),o.pivot(),n=0,e=a.length;n<e;++n)r.updateElement(a[n],n,t);for(r.updateBezierControlPoints(),n=0,e=a.length;n<e;++n)a[n].pivot()},updateElement:function(t,n,e){var r=this,i=t.custom||{},o=r.getDataset(),a=r.chart.scale,s=a.getPointPositionForValue(n,o.data[n]),u=r._resolvePointOptions(t,n),l=r.getMeta().dataset._model,h=e?a.xCenter:s.x,c=e?a.yCenter:s.y;t._scale=a,t._options=u,t._datasetIndex=r.index,t._index=n,t._model={x:h,y:c,skip:i.skip||isNaN(h)||isNaN(c),radius:u.radius,pointStyle:u.pointStyle,rotation:u.rotation,backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,tension:on(i.tension,l?l.tension:0),hitRadius:u.hitRadius}},_resolvePointOptions:function(t,n){var e,r,i,o=this.chart,a=o.data.datasets[this.index],s=t.custom||{},u=o.options.elements.point,l={},h={chart:o,dataIndex:n,dataset:a,datasetIndex:this.index},c={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},d=Object.keys(c);for(e=0,r=d.length;e<r;++e)l[i=d[e]]=an([s[i],a[c[i]],a[i],u[i]],h,n);return l},_resolveLineOptions:function(t){var n,e,r,i=this.chart,o=i.data.datasets[this.index],a=t.custom||{},s=i.options.elements.line,u={},l=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"];for(n=0,e=l.length;n<e;++n)u[r=l[n]]=an([a[r],o[r],s[r]]);return u.tension=on(o.lineTension,s.tension),u},updateBezierControlPoints:function(){var t,n,e,r,i=this.getMeta(),o=this.chart.chartArea,a=i.data||[];function s(t,n,e){return Math.max(Math.min(t,e),n)}for(t=0,n=a.length;t<n;++t)e=a[t]._model,r=ht.splineCurve(ht.previousItem(a,t,!0)._model,e,ht.nextItem(a,t,!0)._model,e.tension),e.controlPointPreviousX=s(r.previous.x,o.left,o.right),e.controlPointPreviousY=s(r.previous.y,o.top,o.bottom),e.controlPointNextX=s(r.next.x,o.left,o.right),e.controlPointNextY=s(r.next.y,o.top,o.bottom)},setHoverStyle:function(t){var n=t._model,e=t._options,r=ht.getHoverColor;t.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth,radius:n.radius},n.backgroundColor=on(e.hoverBackgroundColor,r(e.backgroundColor)),n.borderColor=on(e.hoverBorderColor,r(e.borderColor)),n.borderWidth=on(e.hoverBorderWidth,e.borderWidth),n.radius=on(e.hoverRadius,e.radius)}});st._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}});var un={bar:Bt,bubble:$t,doughnut:Vt,horizontalBar:Zt,line:tn,polarArea:en,pie:rn,radar:sn,scatter:tn};function ln(t,n){return t.native?{x:t.x,y:t.y}:ht.getRelativePosition(t,n)}function hn(t,n){var e,r,i,o,a;for(r=0,o=t.data.datasets.length;r<o;++r)if(t.isDatasetVisible(r))for(i=0,a=(e=t.getDatasetMeta(r)).data.length;i<a;++i){var s=e.data[i];s._view.skip||n(s)}}function cn(t,n){var e=[];return hn(t,(function(t){t.inRange(n.x,n.y)&&e.push(t)})),e}function dn(t,n,e,r){var i=Number.POSITIVE_INFINITY,o=[];return hn(t,(function(t){if(!e||t.inRange(n.x,n.y)){var a=t.getCenterPoint(),s=r(n,a);s<i?(o=[t],i=s):s===i&&o.push(t)}})),o}function fn(t){var n=-1!==t.indexOf("x"),e=-1!==t.indexOf("y");return function(t,r){var i=n?Math.abs(t.x-r.x):0,o=e?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function vn(t,n,e){var r=ln(n,t);e.axis=e.axis||"x";var i=fn(e.axis),o=e.intersect?cn(t,r):dn(t,r,!1,i),a=[];return o.length?(t.data.datasets.forEach((function(n,e){if(t.isDatasetVisible(e)){var r=t.getDatasetMeta(e).data[o[0]._index];r&&!r._view.skip&&a.push(r)}})),a):[]}var pn={modes:{single:function(t,n){var e=ln(n,t),r=[];return hn(t,(function(t){if(t.inRange(e.x,e.y))return r.push(t),r})),r.slice(0,1)},label:vn,index:vn,dataset:function(t,n,e){var r=ln(n,t);e.axis=e.axis||"xy";var i=fn(e.axis),o=e.intersect?cn(t,r):dn(t,r,!1,i);return o.length>0&&(o=t.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(t,n){return vn(t,n,{intersect:!1})},point:function(t,n){return cn(t,ln(n,t))},nearest:function(t,n,e){var r=ln(n,t);e.axis=e.axis||"xy";var i=fn(e.axis);return dn(t,r,e.intersect,i)},x:function(t,n,e){var r=ln(n,t),i=[],o=!1;return hn(t,(function(t){t.inXRange(r.x)&&i.push(t),t.inRange(r.x,r.y)&&(o=!0)})),e.intersect&&!o&&(i=[]),i},y:function(t,n,e){var r=ln(n,t),i=[],o=!1;return hn(t,(function(t){t.inYRange(r.y)&&i.push(t),t.inRange(r.x,r.y)&&(o=!0)})),e.intersect&&!o&&(i=[]),i}}};function mn(t,n){return ht.where(t,(function(t){return t.position===n}))}function gn(t,n){t.forEach((function(t,n){return t._tmpIndex_=n,t})),t.sort((function(t,e){var r=n?e:t,i=n?t:e;return r.weight===i.weight?r._tmpIndex_-i._tmpIndex_:r.weight-i.weight})),t.forEach((function(t){delete t._tmpIndex_}))}function bn(t,n){ht.each(t,(function(t){n[t.position]+=t.isHorizontal()?t.height:t.width}))}st._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var yn,Mn={defaults:{},addBox:function(t,n){t.boxes||(t.boxes=[]),n.fullWidth=n.fullWidth||!1,n.position=n.position||"top",n.weight=n.weight||0,t.boxes.push(n)},removeBox:function(t,n){var e=t.boxes?t.boxes.indexOf(n):-1;-1!==e&&t.boxes.splice(e,1)},configure:function(t,n,e){for(var r,i=["fullWidth","position","weight"],o=i.length,a=0;a<o;++a)e.hasOwnProperty(r=i[a])&&(n[r]=e[r])},update:function(t,n,e){if(t){var r=ht.options.toPadding((t.options.layout||{}).padding),i=r.left,o=r.right,a=r.top,s=r.bottom,u=mn(t.boxes,"left"),l=mn(t.boxes,"right"),h=mn(t.boxes,"top"),c=mn(t.boxes,"bottom"),d=mn(t.boxes,"chartArea");gn(u,!0),gn(l,!1),gn(h,!0),gn(c,!1);var f,v=u.concat(l),p=h.concat(c),m=v.concat(p),g=n-i-o,b=e-a-s,y=(n-g/2)/v.length,M=g,w=b,k={top:a,left:i,bottom:s,right:o},x=[];ht.each(m,(function(t){var n,e=t.isHorizontal();e?(n=t.update(t.fullWidth?g:M,b/2),w-=n.height):(n=t.update(y,w),M-=n.width),x.push({horizontal:e,width:n.width,box:t})})),f=function(t){var n=0,e=0,r=0,i=0;return ht.each(t,(function(t){if(t.getPadding){var o=t.getPadding();n=Math.max(n,o.top),e=Math.max(e,o.left),r=Math.max(r,o.bottom),i=Math.max(i,o.right)}})),{top:n,left:e,bottom:r,right:i}}(m),ht.each(v,A),bn(v,k),ht.each(p,A),bn(p,k),ht.each(v,(function(t){var n=ht.findNextWhere(x,(function(n){return n.box===t}));n&&t.update(n.width,w,{left:0,right:0,top:k.top,bottom:k.bottom})})),bn(m,k={top:a,left:i,bottom:s,right:o});var D=Math.max(f.left-k.left,0);k.left+=D,k.right+=Math.max(f.right-k.right,0);var S=Math.max(f.top-k.top,0);k.top+=S,k.bottom+=Math.max(f.bottom-k.bottom,0);var Y=e-k.top-k.bottom,C=n-k.left-k.right;C===M&&Y===w||(ht.each(v,(function(t){t.height=Y})),ht.each(p,(function(t){t.fullWidth||(t.width=C)})),w=Y,M=C);var N=i+D,T=a+S;ht.each(u.concat(h),_),N+=M,T+=w,ht.each(l,_),ht.each(c,_),t.chartArea={left:k.left,top:k.top,right:k.left+M,bottom:k.top+w},ht.each(d,(function(n){n.left=t.chartArea.left,n.top=t.chartArea.top,n.right=t.chartArea.right,n.bottom=t.chartArea.bottom,n.update(M,w)}))}function A(t){var n=ht.findNextWhere(x,(function(n){return n.box===t}));if(n)if(n.horizontal){var e={left:Math.max(k.left,f.left),right:Math.max(k.right,f.right),top:0,bottom:0};t.update(t.fullWidth?g:M,b/2,e)}else t.update(n.width,w)}function _(t){t.isHorizontal()?(t.left=t.fullWidth?i:k.left,t.right=t.fullWidth?n-o:k.left+M,t.top=T,t.bottom=T+t.height,T=t.bottom):(t.left=N,t.right=N+t.width,t.top=k.top,t.bottom=k.top+w,N=t.right)}}},wn=(yn=Object.freeze({default:"/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n"}))&&yn.default||yn,kn=["animationstart","webkitAnimationStart"],xn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Dn(t,n){var e=ht.getStyle(t,n),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}var Sn=!!function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,n)}catch(e){}return t}()&&{passive:!0};function Yn(t,n,e){t.addEventListener(n,e,Sn)}function Cn(t,n,e){t.removeEventListener(n,e,Sn)}function Nn(t,n,e,r,i){return{type:t,chart:n,native:i||null,x:void 0!==e?e:null,y:void 0!==r?r:null}}function Tn(t){var n=document.createElement("div");return n.className=t||"",n}var An={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){this._loaded||(this._loaded=!0,this.disableCSSInjection||function(t,n){var e=t._style||document.createElement("style");t._style||(t._style=e,n="/* Chart.js */\n"+n,e.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(e)),e.appendChild(document.createTextNode(n))}(this,wn))},acquireContext:function(t,n){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var e=t&&t.getContext&&t.getContext("2d");return this._ensureLoaded(),e&&e.canvas===t?(function(t,n){var e=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t.$chartjs={initial:{height:r,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",null===i||""===i){var o=Dn(t,"width");void 0!==o&&(t.width=o)}if(null===r||""===r)if(""===t.style.height)t.height=t.width/(n.options.aspectRatio||2);else{var a=Dn(t,"height");void 0!==o&&(t.height=a)}}(t,n),e):null},releaseContext:function(t){var n=t.canvas;if(n.$chartjs){var e=n.$chartjs.initial;["height","width"].forEach((function(t){var r=e[t];ht.isNullOrUndef(r)?n.removeAttribute(t):n.setAttribute(t,r)})),ht.each(e.style||{},(function(t,e){n.style[e]=t})),n.width=n.width,delete n.$chartjs}},addEventListener:function(t,n,e){var r=t.canvas;if("resize"!==n){var i=e.$chartjs||(e.$chartjs={});Yn(r,n,(i.proxies||(i.proxies={}))[t.id+"_"+n]=function(n){e(function(t,n){var e=xn[t.type]||t.type,r=ht.getRelativePosition(t,n);return Nn(e,n,r.x,r.y,t)}(n,t))})}else!function(t,n,e){var r,i,o,a,s=t.$chartjs||(t.$chartjs={}),u=s.resizer=function(t){var n=Tn("chartjs-size-monitor"),e=Tn("chartjs-size-monitor-expand"),r=Tn("chartjs-size-monitor-shrink");e.appendChild(Tn()),r.appendChild(Tn()),n.appendChild(e),n.appendChild(r),n._reset=function(){e.scrollLeft=1e6,e.scrollTop=1e6,r.scrollLeft=1e6,r.scrollTop=1e6};var i=function(){n._reset(),t()};return Yn(e,"scroll",i.bind(e,"expand")),Yn(r,"scroll",i.bind(r,"shrink")),n}((r=function(){if(s.resizer){var r=e.options.maintainAspectRatio&&t.parentNode,i=r?r.clientWidth:0;n(Nn("resize",e)),r&&r.clientWidth<i&&e.canvas&&n(Nn("resize",e))}},o=!1,a=[],function(){a=Array.prototype.slice.call(arguments),i=i||this,o||(o=!0,ht.requestAnimFrame.call(window,(function(){o=!1,r.apply(i,a)})))}));!function(t,n){var e=t.$chartjs||(t.$chartjs={}),r=e.renderProxy=function(t){"chartjs-render-animation"===t.animationName&&n()};ht.each(kn,(function(n){Yn(t,n,r)})),e.reflow=!!t.offsetParent,t.classList.add("chartjs-render-monitor")}(t,(function(){if(s.resizer){var n=t.parentNode;n&&n!==u.parentNode&&n.insertBefore(u,n.firstChild),u._reset()}}))}(r,e,t)},removeEventListener:function(t,n,e){var r,i,o,a=t.canvas;if("resize"!==n){var s=((e.$chartjs||{}).proxies||{})[t.id+"_"+n];s&&Cn(a,n,s)}else o=(i=(r=a).$chartjs||{}).resizer,delete i.resizer,function(t){var n=t.$chartjs||{},e=n.renderProxy;e&&(ht.each(kn,(function(n){Cn(t,n,e)})),delete n.renderProxy),t.classList.remove("chartjs-render-monitor")}(r),o&&o.parentNode&&o.parentNode.removeChild(o)}};ht.addEvent=Yn,ht.removeEvent=Cn;var _n=ht.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},An._enabled?An:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}});st._set("global",{plugins:{}});var In={_plugins:[],_cacheId:0,register:function(t){var n=this._plugins;[].concat(t).forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),this._cacheId++},unregister:function(t){var n=this._plugins;[].concat(t).forEach((function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,n,e){var r,i,o,a,s,u=this.descriptors(t),l=u.length;for(r=0;r<l;++r)if("function"==typeof(s=(o=(i=u[r]).plugin)[n])&&((a=[t].concat(e||[])).push(i.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(t){var n=t.$plugins||(t.$plugins={});if(n.id===this._cacheId)return n.descriptors;var e=[],r=[],i=t&&t.config||{},o=i.options&&i.options.plugins||{};return this._plugins.concat(i.plugins||[]).forEach((function(t){if(-1===e.indexOf(t)){var n=t.id,i=o[n];!1!==i&&(!0===i&&(i=ht.clone(st.global.plugins[n])),e.push(t),r.push({plugin:t,options:i||{}}))}})),n.descriptors=r,n.id=this._cacheId,r},_invalidate:function(t){delete t.$plugins}},Fn={constructors:{},defaults:{},registerScaleType:function(t,n,e){this.constructors[t]=n,this.defaults[t]=ht.clone(e)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?ht.merge({},[st.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,n){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=ht.extend(this.defaults[t],n))},addScalesToLayout:function(t){ht.each(t.scales,(function(n){n.fullWidth=n.options.fullWidth,n.position=n.options.position,n.weight=n.options.weight,Mn.addBox(t,n)}))}},Ln=ht.valueOrDefault;st._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:ht.noop,title:function(t,n){var e="",r=n.labels,i=r?r.length:0;if(t.length>0){var o=t[0];o.label?e=o.label:o.xLabel?e=o.xLabel:i>0&&o.index<i&&(e=r[o.index])}return e},afterTitle:ht.noop,beforeBody:ht.noop,beforeLabel:ht.noop,label:function(t,n){var e=n.datasets[t.datasetIndex].label||"";return e&&(e+=": "),ht.isNullOrUndef(t.value)?e+=t.yLabel:e+=t.value,e},labelColor:function(t,n){var e=n.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:e.borderColor,backgroundColor:e.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:ht.noop,afterBody:ht.noop,beforeFooter:ht.noop,footer:ht.noop,afterFooter:ht.noop}}});var On={average:function(t){if(!t.length)return!1;var n,e,r=0,i=0,o=0;for(n=0,e=t.length;n<e;++n){var a=t[n];if(a&&a.hasValue()){var s=a.tooltipPosition();r+=s.x,i+=s.y,++o}}return{x:r/o,y:i/o}},nearest:function(t,n){var e,r,i,o=n.x,a=n.y,s=Number.POSITIVE_INFINITY;for(e=0,r=t.length;e<r;++e){var u=t[e];if(u&&u.hasValue()){var l=u.getCenterPoint(),h=ht.distanceBetweenPoints(n,l);h<s&&(s=h,i=u)}}if(i){var c=i.tooltipPosition();o=c.x,a=c.y}return{x:o,y:a}}};function Wn(t,n){return n&&(ht.isArray(n)?Array.prototype.push.apply(t,n):t.push(n)),t}function jn(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function En(t){var n=st.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Ln(t.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:Ln(t.bodyFontStyle,n.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Ln(t.bodyFontSize,n.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Ln(t.titleFontFamily,n.defaultFontFamily),_titleFontStyle:Ln(t.titleFontStyle,n.defaultFontStyle),titleFontSize:Ln(t.titleFontSize,n.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Ln(t.footerFontFamily,n.defaultFontFamily),_footerFontStyle:Ln(t.footerFontStyle,n.defaultFontStyle),footerFontSize:Ln(t.footerFontSize,n.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Hn(t,n){return"center"===n?t.x+t.width/2:"right"===n?t.x+t.width-t.xPadding:t.x+t.xPadding}function zn(t){return Wn([],jn(t))}var Pn=vt.extend({initialize:function(){this._model=En(this._options),this._lastActive=[]},getTitle:function(){var t=this,n=t._options,e=n.callbacks,r=e.beforeTitle.apply(t,arguments),i=e.title.apply(t,arguments),o=e.afterTitle.apply(t,arguments),a=[];return a=Wn(a,jn(r)),a=Wn(a,jn(i)),Wn(a,jn(o))},getBeforeBody:function(){return zn(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,n){var e=this,r=e._options.callbacks,i=[];return ht.each(t,(function(t){var o={before:[],lines:[],after:[]};Wn(o.before,jn(r.beforeLabel.call(e,t,n))),Wn(o.lines,r.label.call(e,t,n)),Wn(o.after,jn(r.afterLabel.call(e,t,n))),i.push(o)})),i},getAfterBody:function(){return zn(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,n=t._options.callbacks,e=n.beforeFooter.apply(t,arguments),r=n.footer.apply(t,arguments),i=n.afterFooter.apply(t,arguments),o=[];return o=Wn(o,jn(e)),o=Wn(o,jn(r)),Wn(o,jn(i))},update:function(t){var n,e,r,i,o,a,s,u,l,h,c=this,d=c._options,f=c._model,v=c._model=En(d),p=c._active,m=c._data,g={xAlign:f.xAlign,yAlign:f.yAlign},b={x:f.x,y:f.y},y={width:f.width,height:f.height},M={x:f.caretX,y:f.caretY};if(p.length){v.opacity=1;var w=[],k=[];M=On[d.position].call(c,p,c._eventPosition);var x=[];for(n=0,e=p.length;n<e;++n)x.push((i=void 0,o=void 0,void 0,void 0,u=void 0,l=void 0,h=void 0,i=(r=p[n])._xScale,o=r._yScale||r._scale,a=r._index,l=(u=r._chart.getDatasetMeta(s=r._datasetIndex).controller)._getIndexScale(),h=u._getValueScale(),{xLabel:i?i.getLabelForIndex(a,s):"",yLabel:o?o.getLabelForIndex(a,s):"",label:l?""+l.getLabelForIndex(a,s):"",value:h?""+h.getLabelForIndex(a,s):"",index:a,datasetIndex:s,x:r._model.x,y:r._model.y}));d.filter&&(x=x.filter((function(t){return d.filter(t,m)}))),d.itemSort&&(x=x.sort((function(t,n){return d.itemSort(t,n,m)}))),ht.each(x,(function(t){w.push(d.callbacks.labelColor.call(c,t,c._chart)),k.push(d.callbacks.labelTextColor.call(c,t,c._chart))})),v.title=c.getTitle(x,m),v.beforeBody=c.getBeforeBody(x,m),v.body=c.getBody(x,m),v.afterBody=c.getAfterBody(x,m),v.footer=c.getFooter(x,m),v.x=M.x,v.y=M.y,v.caretPadding=d.caretPadding,v.labelColors=w,v.labelTextColors=k,v.dataPoints=x,y=function(t,n){var e=t._chart.ctx,r=2*n.yPadding,i=0,o=n.body,a=o.reduce((function(t,n){return t+n.before.length+n.lines.length+n.after.length}),0),s=n.title.length,u=n.footer.length,l=n.titleFontSize,h=n.bodyFontSize,c=n.footerFontSize;r+=s*l,r+=s?(s-1)*n.titleSpacing:0,r+=s?n.titleMarginBottom:0,r+=(a+=n.beforeBody.length+n.afterBody.length)*h,r+=a?(a-1)*n.bodySpacing:0,r+=u?n.footerMarginTop:0,r+=u*c,r+=u?(u-1)*n.footerSpacing:0;var d=0,f=function(t){i=Math.max(i,e.measureText(t).width+d)};return e.font=ht.fontString(l,n._titleFontStyle,n._titleFontFamily),ht.each(n.title,f),e.font=ht.fontString(h,n._bodyFontStyle,n._bodyFontFamily),ht.each(n.beforeBody.concat(n.afterBody),f),d=n.displayColors?h+2:0,ht.each(o,(function(t){ht.each(t.before,f),ht.each(t.lines,f),ht.each(t.after,f)})),d=0,e.font=ht.fontString(c,n._footerFontStyle,n._footerFontFamily),ht.each(n.footer,f),{width:i+=2*n.xPadding,height:r}}(this,v),b=function(t,n,e,r){var i=t.x,o=t.y,a=t.caretPadding,s=e.xAlign,u=e.yAlign,l=t.caretSize+a,h=t.cornerRadius+a;return"right"===s?i-=n.width:"center"===s&&((i-=n.width/2)+n.width>r.width&&(i=r.width-n.width),i<0&&(i=0)),"top"===u?o+=l:o-="bottom"===u?n.height+l:n.height/2,"center"===u?"left"===s?i+=l:"right"===s&&(i-=l):"left"===s?i-=h:"right"===s&&(i+=h),{x:i,y:o}}(v,y,g=function(t,n){var e,r,i,o,a,s=t._model,u=t._chart,l=t._chart.chartArea,h="center",c="center";s.y<n.height?c="top":s.y>u.height-n.height&&(c="bottom");var d=(l.left+l.right)/2,f=(l.top+l.bottom)/2;"center"===c?(e=function(t){return t<=d},r=function(t){return t>d}):(e=function(t){return t<=n.width/2},r=function(t){return t>=u.width-n.width/2}),i=function(t){return t+n.width+s.caretSize+s.caretPadding>u.width},o=function(t){return t-n.width-s.caretSize-s.caretPadding<0},a=function(t){return t<=f?"top":"bottom"},e(s.x)?(h="left",i(s.x)&&(h="center",c=a(s.y))):r(s.x)&&(h="right",o(s.x)&&(h="center",c=a(s.y)));var v=t._options;return{xAlign:v.xAlign?v.xAlign:h,yAlign:v.yAlign?v.yAlign:c}}(this,y),c._chart)}else v.opacity=0;return v.xAlign=g.xAlign,v.yAlign=g.yAlign,v.x=b.x,v.y=b.y,v.width=y.width,v.height=y.height,v.caretX=M.x,v.caretY=M.y,c._model=v,t&&d.custom&&d.custom.call(c,v),c},drawCaret:function(t,n){var e=this._chart.ctx,r=this.getCaretPosition(t,n,this._view);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)},getCaretPosition:function(t,n,e){var r,i,o,a,s,u,l=e.caretSize,h=e.cornerRadius,c=e.xAlign,d=e.yAlign,f=t.x,v=t.y,p=n.width,m=n.height;if("center"===d)s=v+m/2,"left"===c?(i=(r=f)-l,o=r,a=s+l,u=s-l):(i=(r=f+p)+l,o=r,a=s-l,u=s+l);else if("left"===c?(r=(i=f+h+l)-l,o=i+l):"right"===c?(r=(i=f+p-h-l)-l,o=i+l):(r=(i=e.caretX)-l,o=i+l),"top"===d)s=(a=v)-l,u=a;else{s=(a=v+m)+l,u=a;var g=o;o=r,r=g}return{x1:r,x2:i,x3:o,y1:a,y2:s,y3:u}},drawTitle:function(t,n,e){var r=n.title;if(r.length){t.x=Hn(n,n._titleAlign),e.textAlign=n._titleAlign,e.textBaseline="top";var i,o,a=n.titleFontSize,s=n.titleSpacing;for(e.fillStyle=n.titleFontColor,e.font=ht.fontString(a,n._titleFontStyle,n._titleFontFamily),i=0,o=r.length;i<o;++i)e.fillText(r[i],t.x,t.y),t.y+=a+s,i+1===r.length&&(t.y+=n.titleMarginBottom-s)}},drawBody:function(t,n,e){var r,i=n.bodyFontSize,o=n.bodySpacing,a=n._bodyAlign,s=n.body,u=n.displayColors,l=n.labelColors,h=0,c=u?Hn(n,"left"):0;e.textAlign=a,e.textBaseline="top",e.font=ht.fontString(i,n._bodyFontStyle,n._bodyFontFamily),t.x=Hn(n,a);var d=function(n){e.fillText(n,t.x+h,t.y),t.y+=i+o};e.fillStyle=n.bodyFontColor,ht.each(n.beforeBody,d),h=u&&"right"!==a?"center"===a?i/2+1:i+2:0,ht.each(s,(function(o,a){e.fillStyle=r=n.labelTextColors[a],ht.each(o.before,d),ht.each(o.lines,(function(o){u&&(e.fillStyle=n.legendColorBackground,e.fillRect(c,t.y,i,i),e.lineWidth=1,e.strokeStyle=l[a].borderColor,e.strokeRect(c,t.y,i,i),e.fillStyle=l[a].backgroundColor,e.fillRect(c+1,t.y+1,i-2,i-2),e.fillStyle=r),d(o)})),ht.each(o.after,d)})),h=0,ht.each(n.afterBody,d),t.y-=o},drawFooter:function(t,n,e){var r=n.footer;r.length&&(t.x=Hn(n,n._footerAlign),t.y+=n.footerMarginTop,e.textAlign=n._footerAlign,e.textBaseline="top",e.fillStyle=n.footerFontColor,e.font=ht.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),ht.each(r,(function(r){e.fillText(r,t.x,t.y),t.y+=n.footerFontSize+n.footerSpacing})))},drawBackground:function(t,n,e,r){e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth;var i=n.xAlign,o=n.yAlign,a=t.x,s=t.y,u=r.width,l=r.height,h=n.cornerRadius;e.beginPath(),e.moveTo(a+h,s),"top"===o&&this.drawCaret(t,r),e.lineTo(a+u-h,s),e.quadraticCurveTo(a+u,s,a+u,s+h),"center"===o&&"right"===i&&this.drawCaret(t,r),e.lineTo(a+u,s+l-h),e.quadraticCurveTo(a+u,s+l,a+u-h,s+l),"bottom"===o&&this.drawCaret(t,r),e.lineTo(a+h,s+l),e.quadraticCurveTo(a,s+l,a,s+l-h),"center"===o&&"left"===i&&this.drawCaret(t,r),e.lineTo(a,s+h),e.quadraticCurveTo(a,s,a+h,s),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()},draw:function(){var t=this._chart.ctx,n=this._view;if(0!==n.opacity){var e={width:n.width,height:n.height},r={x:n.x,y:n.y},i=Math.abs(n.opacity<.001)?0:n.opacity;this._options.enabled&&(n.title.length||n.beforeBody.length||n.body.length||n.afterBody.length||n.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(r,n,t,e),r.y+=n.yPadding,this.drawTitle(r,n,t),this.drawBody(r,n,t),this.drawFooter(r,n,t),t.restore())}},handleEvent:function(t){var n,e=this,r=e._options;return e._lastActive=e._lastActive||[],e._active="mouseout"===t.type?[]:e._chart.getElementsAtEventForMode(t,r.mode,r),(n=!ht.arrayEquals(e._active,e._lastActive))&&(e._lastActive=e._active,(r.enabled||r.custom)&&(e._eventPosition={x:t.x,y:t.y},e.update(!0),e.pivot())),n}});Pn.positioners=On;var Bn=ht.valueOrDefault;function Rn(){return ht.merge({},[].slice.call(arguments),{merger:function(t,n,e,r){if("xAxes"===t||"yAxes"===t){var i,o,a,s=e[t].length;for(n[t]||(n[t]=[]),i=0;i<s;++i)o=Bn((a=e[t][i]).type,"xAxes"===t?"category":"linear"),i>=n[t].length&&n[t].push({}),ht.merge(n[t][i],!n[t][i].type||a.type&&a.type!==n[t][i].type?[Fn.getScaleDefaults(o),a]:a)}else ht._merger(t,n,e,r)}})}function Gn(){return ht.merge({},[].slice.call(arguments),{merger:function(t,n,e,r){var i=n[t]||{},o=e[t];"scales"===t?n[t]=Rn(i,o):"scale"===t?n[t]=ht.merge(i,[Fn.getScaleDefaults(o.type),o]):ht._merger(t,n,e,r)}})}function $n(t){var n=t.options;ht.each(t.scales,(function(n){Mn.removeBox(t,n)})),n=Gn(st.global,st[t.config.type],n),t.options=t.config.options=n,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=n.tooltips,t.tooltip.initialize()}function Un(t){return"top"===t||"bottom"===t}st._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var qn=function(t,n){return this.construct(t,n),this};ht.extend(qn.prototype,{construct:function(t,n){var e=this;n=function(t){var n=(t=t||{}).data=t.data||{};return n.datasets=n.datasets||[],n.labels=n.labels||[],t.options=Gn(st.global,st[t.type],t.options||{}),t}(n);var r=_n.acquireContext(t,n),i=r&&r.canvas,o=i&&i.height,a=i&&i.width;e.id=ht.uid(),e.ctx=r,e.canvas=i,e.config=n,e.width=a,e.height=o,e.aspectRatio=o?a/o:null,e.options=n.options,e._bufferedRender=!1,e.chart=e,e.controller=e,qn.instances[e.id]=e,Object.defineProperty(e,"data",{get:function(){return e.config.data},set:function(t){e.config.data=t}}),r&&i?(e.initialize(),e.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return In.notify(t,"beforeInit"),ht.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),In.notify(t,"afterInit"),t},clear:function(){return ht.canvas.clear(this),this},stop:function(){return gt.cancelAnimation(this),this},resize:function(t){var n=this,e=n.options,r=n.canvas,i=e.maintainAspectRatio&&n.aspectRatio||null,o=Math.max(0,Math.floor(ht.getMaximumWidth(r))),a=Math.max(0,Math.floor(i?o/i:ht.getMaximumHeight(r)));if((n.width!==o||n.height!==a)&&(r.width=n.width=o,r.height=n.height=a,r.style.width=o+"px",r.style.height=a+"px",ht.retinaScale(n,e.devicePixelRatio),!t)){var s={width:o,height:a};In.notify(n,"resize",[s]),e.onResize&&e.onResize(n,s),n.stop(),n.update({duration:e.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,n=t.scales||{},e=t.scale;ht.each(n.xAxes,(function(t,n){t.id=t.id||"x-axis-"+n})),ht.each(n.yAxes,(function(t,n){t.id=t.id||"y-axis-"+n})),e&&(e.id=e.id||"scale")},buildOrUpdateScales:function(){var t=this,n=t.options,e=t.scales||{},r=[],i=Object.keys(e).reduce((function(t,n){return t[n]=!1,t}),{});n.scales&&(r=r.concat((n.scales.xAxes||[]).map((function(t){return{options:t,dtype:"category",dposition:"bottom"}})),(n.scales.yAxes||[]).map((function(t){return{options:t,dtype:"linear",dposition:"left"}})))),n.scale&&r.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),ht.each(r,(function(n){var r=n.options,o=r.id,a=Bn(r.type,n.dtype);Un(r.position)!==Un(n.dposition)&&(r.position=n.dposition),i[o]=!0;var s=null;if(o in e&&e[o].type===a)(s=e[o]).options=r,s.ctx=t.ctx,s.chart=t;else{var u=Fn.getScaleConstructor(a);if(!u)return;s=new u({id:o,type:a,options:r,ctx:t.ctx,chart:t}),e[s.id]=s}s.mergeTicksOptions(),n.isDefault&&(t.scale=s)})),ht.each(i,(function(t,n){t||delete e[n]})),t.scales=e,Fn.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,n=[];return ht.each(t.data.datasets,(function(e,r){var i=t.getDatasetMeta(r),o=e.type||t.config.type;if(i.type&&i.type!==o&&(t.destroyDatasetMeta(r),i=t.getDatasetMeta(r)),i.type=o,i.controller)i.controller.updateIndex(r),i.controller.linkScales();else{var a=un[i.type];if(void 0===a)throw new Error('"'+i.type+'" is not a chart type.');i.controller=new a(t,r),n.push(i.controller)}}),t),n},resetElements:function(){var t=this;ht.each(t.data.datasets,(function(n,e){t.getDatasetMeta(e).controller.reset()}),t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var n=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),$n(n),In._invalidate(n),!1!==In.notify(n,"beforeUpdate")){n.tooltip._data=n.data;var e=n.buildOrUpdateControllers();ht.each(n.data.datasets,(function(t,e){n.getDatasetMeta(e).controller.buildOrUpdateElements()}),n),n.updateLayout(),n.options.animation&&n.options.animation.duration&&ht.each(e,(function(t){t.reset()})),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],In.notify(n,"afterUpdate"),n._bufferedRender?n._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:n.render(t)}},updateLayout:function(){!1!==In.notify(this,"beforeLayout")&&(Mn.update(this,this.width,this.height),In.notify(this,"afterScaleUpdate"),In.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==In.notify(this,"beforeDatasetsUpdate")){for(var t=0,n=this.data.datasets.length;t<n;++t)this.updateDataset(t);In.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var n=this.getDatasetMeta(t),e={meta:n,index:t};!1!==In.notify(this,"beforeDatasetUpdate",[e])&&(n.controller.update(),In.notify(this,"afterDatasetUpdate",[e]))},render:function(t){var n=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var e=n.options.animation,r=Bn(t.duration,e&&e.duration),i=t.lazy;if(!1!==In.notify(n,"beforeRender")){var o=function(t){In.notify(n,"afterRender"),ht.callback(e&&e.onComplete,[t],n)};if(e&&r){var a=new mt({numSteps:r/16.66,easing:t.easing||e.easing,render:function(t,n){var e=n.currentStep,r=e/n.numSteps;t.draw((0,ht.easing.effects[n.easing])(r),r,e)},onAnimationProgress:e.onProgress,onAnimationComplete:o});gt.addAnimation(n,a,r,i)}else n.draw(),o(new mt({numSteps:0,chart:n}));return n}},draw:function(t){var n=this;n.clear(),ht.isNullOrUndef(t)&&(t=1),n.transition(t),n.width<=0||n.height<=0||!1!==In.notify(n,"beforeDraw",[t])&&(ht.each(n.boxes,(function(t){t.draw(n.chartArea)}),n),n.drawDatasets(t),n._drawTooltip(t),In.notify(n,"afterDraw",[t]))},transition:function(t){for(var n=0,e=(this.data.datasets||[]).length;n<e;++n)this.isDatasetVisible(n)&&this.getDatasetMeta(n).controller.transition(t);this.tooltip.transition(t)},drawDatasets:function(t){var n=this;if(!1!==In.notify(n,"beforeDatasetsDraw",[t])){for(var e=(n.data.datasets||[]).length-1;e>=0;--e)n.isDatasetVisible(e)&&n.drawDataset(e,t);In.notify(n,"afterDatasetsDraw",[t])}},drawDataset:function(t,n){var e=this.getDatasetMeta(t),r={meta:e,index:t,easingValue:n};!1!==In.notify(this,"beforeDatasetDraw",[r])&&(e.controller.draw(n),In.notify(this,"afterDatasetDraw",[r]))},_drawTooltip:function(t){var n=this.tooltip,e={tooltip:n,easingValue:t};!1!==In.notify(this,"beforeTooltipDraw",[e])&&(n.draw(),In.notify(this,"afterTooltipDraw",[e]))},getElementAtEvent:function(t){return pn.modes.single(this,t)},getElementsAtEvent:function(t){return pn.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return pn.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,n,e){var r=pn.modes[n];return"function"==typeof r?r(this,t,e):[]},getDatasetAtEvent:function(t){return pn.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var n=this.data.datasets[t];n._meta||(n._meta={});var e=n._meta[this.id];return e||(e=n._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),e},getVisibleDatasetCount:function(){for(var t=0,n=0,e=this.data.datasets.length;n<e;++n)this.isDatasetVisible(n)&&t++;return t},isDatasetVisible:function(t){var n=this.getDatasetMeta(t);return"boolean"==typeof n.hidden?!n.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var n=this.id,e=this.data.datasets[t],r=e._meta&&e._meta[n];r&&(r.controller.destroy(),delete e._meta[n])},destroy:function(){var t,n,e=this,r=e.canvas;for(e.stop(),t=0,n=e.data.datasets.length;t<n;++t)e.destroyDatasetMeta(t);r&&(e.unbindEvents(),ht.canvas.clear(e),_n.releaseContext(e.ctx),e.canvas=null,e.ctx=null),In.notify(e,"destroy"),delete qn.instances[e.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Pn({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,n=t._listeners={},e=function(){t.eventHandler.apply(t,arguments)};ht.each(t.options.events,(function(r){_n.addEventListener(t,r,e),n[r]=e})),t.options.responsive&&(e=function(){t.resize()},_n.addEventListener(t,"resize",e),n.resize=e)},unbindEvents:function(){var t=this,n=t._listeners;n&&(delete t._listeners,ht.each(n,(function(n,e){_n.removeEventListener(t,e,n)})))},updateHoverStyle:function(t,n,e){var r,i,o,a=e?"setHoverStyle":"removeHoverStyle";for(i=0,o=t.length;i<o;++i)(r=t[i])&&this.getDatasetMeta(r._datasetIndex).controller[a](r)},eventHandler:function(t){var n=this,e=n.tooltip;if(!1!==In.notify(n,"beforeEvent",[t])){n._bufferedRender=!0,n._bufferedRequest=null;var r=n.handleEvent(t);e&&(r=e._start?e.handleEvent(t):r|e.handleEvent(t)),In.notify(n,"afterEvent",[t]);var i=n._bufferedRequest;return i?n.render(i):r&&!n.animating&&(n.stop(),n.render({duration:n.options.hover.animationDuration,lazy:!0})),n._bufferedRender=!1,n._bufferedRequest=null,n}},handleEvent:function(t){var n,e=this,r=e.options||{},i=r.hover;return e.lastActive=e.lastActive||[],e.active="mouseout"===t.type?[]:e.getElementsAtEventForMode(t,i.mode,i),ht.callback(r.onHover||r.hover.onHover,[t.native,e.active],e),"mouseup"!==t.type&&"click"!==t.type||r.onClick&&r.onClick.call(e,t.native,e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,i.mode,!1),e.active.length&&i.mode&&e.updateHoverStyle(e.active,i.mode,!0),n=!ht.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,n}}),qn.instances={};var Vn=qn;function Zn(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Jn(t){this.options=t||{}}qn.Controller=qn,qn.types={},ht.configMerge=Gn,ht.scaleMerge=Rn,ht.extend(Jn.prototype,{formats:Zn,parse:Zn,format:Zn,add:Zn,diff:Zn,startOf:Zn,endOf:Zn,_create:function(t){return t}}),Jn.override=function(t){ht.extend(Jn.prototype,t)};var Qn={_date:Jn},Xn={formatters:{values:function(t){return ht.isArray(t)?t:""+t},linear:function(t,n,e){var r=e.length>3?e[2]-e[1]:e[1]-e[0];Math.abs(r)>1&&t!==Math.floor(t)&&(r=t-Math.floor(t));var i=ht.log10(Math.abs(r)),o="";if(0!==t)if(Math.max(Math.abs(e[0]),Math.abs(e[e.length-1]))<1e-4){var a=ht.log10(Math.abs(t));o=t.toExponential(Math.floor(a)-Math.floor(i))}else{var s=-1*Math.floor(i);s=Math.max(Math.min(s,20),0),o=t.toFixed(s)}else o="0";return o},logarithmic:function(t,n,e){var r=t/Math.pow(10,Math.floor(ht.log10(t)));return 0===t?"0":1===r||2===r||5===r||0===n||n===e.length-1?t.toExponential():""}}},Kn=ht.valueOrDefault,te=ht.valueAtIndexOrDefault;function ne(t){var n,e,r=[];for(n=0,e=t.length;n<e;++n)r.push(t[n].label);return r}function ee(t,n,e){return ht.isArray(n)?ht.longestText(t,e,n):t.measureText(n).width}st._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Xn.formatters.values,minor:{},major:{}}});var re=vt.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var n in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==n&&"minor"!==n&&(void 0===t.minor[n]&&(t.minor[n]=t[n]),void 0===t.major[n]&&(t.major[n]=t[n]))},beforeUpdate:function(){ht.callback(this.options.beforeUpdate,[this])},update:function(t,n,e){var r,i,o,a,s,u,l=this;for(l.beforeUpdate(),l.maxWidth=t,l.maxHeight=n,l.margins=ht.extend({left:0,right:0,top:0,bottom:0},e),l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),s=l.buildTicks()||[],s=l.afterBuildTicks(s)||s,l.beforeTickToLabelConversion(),o=l.convertTicksToLabels(s)||l.ticks,l.afterTickToLabelConversion(),l.ticks=o,r=0,i=o.length;r<i;++r)a=o[r],(u=s[r])?u.label=a:s.push(u={label:a,major:!1});return l._ticks=s,l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l.afterUpdate(),l.minSize},afterUpdate:function(){ht.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){ht.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){ht.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){ht.callback(this.options.beforeDataLimits,[this])},determineDataLimits:ht.noop,afterDataLimits:function(){ht.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){ht.callback(this.options.beforeBuildTicks,[this])},buildTicks:ht.noop,afterBuildTicks:function(t){var n=this;return ht.isArray(t)&&t.length?ht.callback(n.options.afterBuildTicks,[n,t]):(n.ticks=ht.callback(n.options.afterBuildTicks,[n,n.ticks])||n.ticks,t)},beforeTickToLabelConversion:function(){ht.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){ht.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){ht.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,n=t.ctx,e=t.options.ticks,r=ne(t._ticks),i=ht.options._parseFont(e);n.font=i.string;var o=e.minRotation||0;if(r.length&&t.options.display&&t.isHorizontal())for(var a,s=ht.longestText(n,i.string,r,t.longestTextCache),u=s,l=t.getPixelForTick(1)-t.getPixelForTick(0)-6;u>l&&o<e.maxRotation;){var h=ht.toRadians(o);if(a=Math.cos(h),Math.sin(h)*s>t.maxHeight){o--;break}o++,u=a*s}t.labelRotation=o},afterCalculateTickRotation:function(){ht.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){ht.callback(this.options.beforeFit,[this])},fit:function(){var t=this,n=t.minSize={width:0,height:0},e=ne(t._ticks),r=t.options,i=r.ticks,o=r.scaleLabel,a=r.gridLines,s=t._isVisible(),u=r.position,l=t.isHorizontal(),h=ht.options._parseFont,c=h(i),d=r.gridLines.tickMarkLength;if(n.width=l?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:s&&a.drawTicks?d:0,n.height=l?s&&a.drawTicks?d:0:t.maxHeight,o.display&&s){var f=h(o),v=ht.options.toPadding(o.padding),p=f.lineHeight+v.height;l?n.height+=p:n.width+=p}if(i.display&&s){var m=ht.longestText(t.ctx,c.string,e,t.longestTextCache),g=ht.numberOfLabelLines(e),b=.5*c.size,y=t.options.ticks.padding;if(t._maxLabelLines=g,t.longestLabelWidth=m,l){var M=ht.toRadians(t.labelRotation),w=Math.cos(M),k=Math.sin(M);n.height=Math.min(t.maxHeight,n.height+(k*m+c.lineHeight*g+b)+y),t.ctx.font=c.string;var x,D,S=ee(t.ctx,e[0],c.string),Y=ee(t.ctx,e[e.length-1],c.string),C=t.getPixelForTick(0)-t.left,N=t.right-t.getPixelForTick(e.length-1);0!==t.labelRotation?(x="bottom"===u?w*S:w*b,D="bottom"===u?w*b:w*Y):(x=S/2,D=Y/2),t.paddingLeft=Math.max(x-C,0)+3,t.paddingRight=Math.max(D-N,0)+3}else i.mirror?m=0:m+=y+b,n.width=Math.min(t.maxWidth,n.width+m),t.paddingTop=c.size/2,t.paddingBottom=c.size/2}t.handleMargins(),t.width=n.width,t.height=n.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){ht.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(ht.isNullOrUndef(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:ht.noop,getPixelForValue:ht.noop,getValueForPixel:ht.noop,getPixelForTick:function(t){var n=this,e=n.options.offset;if(n.isHorizontal()){var r=(n.width-(n.paddingLeft+n.paddingRight))/Math.max(n._ticks.length-(e?0:1),1),i=r*t+n.paddingLeft;return e&&(i+=r/2),n.left+i+(n.isFullWidth()?n.margins.left:0)}return n.top+t*((n.height-(n.paddingTop+n.paddingBottom))/(n._ticks.length-1))},getPixelForDecimal:function(t){var n=this;return n.isHorizontal()?n.left+((n.width-(n.paddingLeft+n.paddingRight))*t+n.paddingLeft)+(n.isFullWidth()?n.margins.left:0):n.top+t*n.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,n=this.max;return this.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(t){var n,e,r=this,i=r.isHorizontal(),o=t.length,a=!1,s=r.options.ticks.minor.maxTicksLimit,u=r._tickSize()*(o-1),l=i?r.width-(r.paddingLeft+r.paddingRight):r.height-(r.paddingTop+r.PaddingBottom),h=[];for(u>l&&(a=1+Math.floor(u/l)),o>s&&(a=Math.max(a,1+Math.floor(o/s))),n=0;n<o;n++)e=t[n],a>1&&n%a>0&&delete e.label,h.push(e);return h},_tickSize:function(){var t=this,n=t.isHorizontal(),e=t.options.ticks.minor,r=ht.toRadians(t.labelRotation),i=Math.abs(Math.cos(r)),o=Math.abs(Math.sin(r)),a=e.autoSkipPadding||0,s=t.longestLabelWidth+a||0,u=ht.options._parseFont(e),l=t._maxLabelLines*u.lineHeight+a||0;return n?l*i>s*o?s/i:l/o:l*o<s*i?l/i:s/o},_isVisible:function(){var t,n,e,r=this.chart,i=this.options.display;if("auto"!==i)return!!i;for(t=0,n=r.data.datasets.length;t<n;++t)if(r.isDatasetVisible(t)&&((e=r.getDatasetMeta(t)).xAxisID===this.id||e.yAxisID===this.id))return!0;return!1},draw:function(t){var n=this,e=n.options;if(n._isVisible()){var r,i,o,a=n.chart,s=n.ctx,u=st.global.defaultFontColor,l=e.ticks.minor,h=e.ticks.major||l,c=e.gridLines,d=e.scaleLabel,f=e.position,v=0!==n.labelRotation,p=l.mirror,m=n.isHorizontal(),g=ht.options._parseFont,b=l.display&&l.autoSkip?n._autoSkip(n.getTicks()):n.getTicks(),y=Kn(l.fontColor,u),M=g(l),w=M.lineHeight,k=Kn(h.fontColor,u),x=g(h),D=l.padding,S=l.labelOffset,Y=c.drawTicks?c.tickMarkLength:0,C=Kn(d.fontColor,u),N=g(d),T=ht.options.toPadding(d.padding),A=ht.toRadians(n.labelRotation),_=[],I=c.drawBorder?te(c.lineWidth,0,0):0,F=ht._alignPixel;if("top"===f?(r=F(a,n.bottom,I),i=n.bottom-Y,o=r-I/2):"bottom"===f?(r=F(a,n.top,I),i=r+I/2,o=n.top+Y):"left"===f?(r=F(a,n.right,I),i=n.right-Y,o=r-I/2):(r=F(a,n.left,I),i=r+I/2,o=n.left+Y),ht.each(b,(function(r,s){if(!ht.isNullOrUndef(r.label)){var u,l,h,d,g,b,y,M,k,x,C,N,T,L,O,W,j=r.label;s===n.zeroLineIndex&&e.offset===c.offsetGridLines?(u=c.zeroLineWidth,l=c.zeroLineColor,h=c.zeroLineBorderDash||[],d=c.zeroLineBorderDashOffset||0):(u=te(c.lineWidth,s),l=te(c.color,s),h=c.borderDash||[],d=c.borderDashOffset||0);var E=ht.isArray(j)?j.length:1,H=function(t,n,e){var r=t.getPixelForTick(n);return e&&(1===t.getTicks().length?r-=t.isHorizontal()?Math.max(r-t.left,t.right-r):Math.max(r-t.top,t.bottom-r):r-=0===n?(t.getPixelForTick(1)-r)/2:(r-t.getPixelForTick(n-1))/2),r}(n,s,c.offsetGridLines);if(m){var z=Y+D;H<n.left-1e-7&&(l="rgba(0,0,0,0)"),g=y=k=C=F(a,H,u),b=i,M=o,T=n.getPixelForTick(s)+S,"top"===f?(x=F(a,t.top,I)+I/2,N=t.bottom,O=((v?1:.5)-E)*w,W=v?"left":"center",L=n.bottom-z):(x=t.top,N=F(a,t.bottom,I)-I/2,O=(v?0:.5)*w,W=v?"right":"center",L=n.top+z)}else{var P=(p?0:Y)+D;H<n.top-1e-7&&(l="rgba(0,0,0,0)"),g=i,y=o,b=M=x=N=F(a,H,u),L=n.getPixelForTick(s)+S,O=(1-E)*w/2,"left"===f?(k=F(a,t.left,I)+I/2,C=t.right,W=p?"left":"right",T=n.right-P):(k=t.left,C=F(a,t.right,I)-I/2,W=p?"right":"left",T=n.left+P)}_.push({tx1:g,ty1:b,tx2:y,ty2:M,x1:k,y1:x,x2:C,y2:N,labelX:T,labelY:L,glWidth:u,glColor:l,glBorderDash:h,glBorderDashOffset:d,rotation:-1*A,label:j,major:r.major,textOffset:O,textAlign:W})}})),ht.each(_,(function(t){var n=t.glWidth,e=t.glColor;if(c.display&&n&&e&&(s.save(),s.lineWidth=n,s.strokeStyle=e,s.setLineDash&&(s.setLineDash(t.glBorderDash),s.lineDashOffset=t.glBorderDashOffset),s.beginPath(),c.drawTicks&&(s.moveTo(t.tx1,t.ty1),s.lineTo(t.tx2,t.ty2)),c.drawOnChartArea&&(s.moveTo(t.x1,t.y1),s.lineTo(t.x2,t.y2)),s.stroke(),s.restore()),l.display){s.save(),s.translate(t.labelX,t.labelY),s.rotate(t.rotation),s.font=t.major?x.string:M.string,s.fillStyle=t.major?k:y,s.textBaseline="middle",s.textAlign=t.textAlign;var r=t.label,i=t.textOffset;if(ht.isArray(r))for(var o=0;o<r.length;++o)s.fillText(""+r[o],0,i),i+=w;else s.fillText(r,0,i);s.restore()}})),d.display){var L,O,W=0,j=N.lineHeight/2;if(m)L=n.left+(n.right-n.left)/2,O="bottom"===f?n.bottom-j-T.bottom:n.top+j+T.top;else{var E="left"===f;L=E?n.left+j+T.top:n.right-j-T.top,O=n.top+(n.bottom-n.top)/2,W=E?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(L,O),s.rotate(W),s.textAlign="center",s.textBaseline="middle",s.fillStyle=C,s.font=N.string,s.fillText(d.labelString,0,0),s.restore()}if(I){var H,z,P,B,R=I,G=te(c.lineWidth,b.length-1,0);m?(H=F(a,n.left,R)-R/2,z=F(a,n.right,G)+G/2,P=B=r):(P=F(a,n.top,R)-R/2,B=F(a,n.bottom,G)+G/2,H=z=r),s.lineWidth=I,s.strokeStyle=te(c.color,0),s.beginPath(),s.moveTo(H,P),s.lineTo(z,B),s.stroke()}}}}),ie=re.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,n=this,e=n.getLabels();n.minIndex=0,n.maxIndex=e.length-1,void 0!==n.options.ticks.min&&(t=e.indexOf(n.options.ticks.min),n.minIndex=-1!==t?t:n.minIndex),void 0!==n.options.ticks.max&&(t=e.indexOf(n.options.ticks.max),n.maxIndex=-1!==t?t:n.maxIndex),n.min=e[n.minIndex],n.max=e[n.maxIndex]},buildTicks:function(){var t=this,n=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===n.length-1?n:n.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,n){var e=this,r=e.chart;return r.getDatasetMeta(n).controller._getValueScaleId()===e.id?e.getRightValue(r.data.datasets[n].data[t]):e.ticks[t-e.minIndex]},getPixelForValue:function(t,n){var e,r=this,i=r.options.offset,o=Math.max(r.maxIndex+1-r.minIndex-(i?0:1),1);if(null!=t&&(e=r.isHorizontal()?t.x:t.y),void 0!==e||void 0!==t&&isNaN(n)){var a=r.getLabels().indexOf(t=e||t);n=-1!==a?a:n}if(r.isHorizontal()){var s=r.width/o,u=s*(n-r.minIndex);return i&&(u+=s/2),r.left+u}var l=r.height/o,h=l*(n-r.minIndex);return i&&(h+=l/2),r.top+h},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var n=this,e=n.options.offset,r=Math.max(n._ticks.length-(e?0:1),1),i=n.isHorizontal(),o=(i?n.width:n.height)/r;return t-=i?n.left:n.top,e&&(t-=o/2),(t<=0?0:Math.round(t/o))+n.minIndex},getBasePixel:function(){return this.bottom}});ie._defaults={position:"bottom"};var oe=ht.isNullOrUndef,ae=re.extend({getRightValue:function(t){return"string"==typeof t?+t:re.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,n=t.options.ticks;if(n.beginAtZero){var e=ht.sign(t.min),r=ht.sign(t.max);e<0&&r<0?t.max=0:e>0&&r>0&&(t.min=0)}var i=void 0!==n.min||void 0!==n.suggestedMin,o=void 0!==n.max||void 0!==n.suggestedMax;void 0!==n.min?t.min=n.min:void 0!==n.suggestedMin&&(t.min=null===t.min?n.suggestedMin:Math.min(t.min,n.suggestedMin)),void 0!==n.max?t.max=n.max:void 0!==n.suggestedMax&&(t.max=null===t.max?n.suggestedMax:Math.max(t.max,n.suggestedMax)),i!==o&&t.min>=t.max&&(i?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,n.beginAtZero||t.min--)},getTickLimit:function(){var t,n=this.options.ticks,e=n.stepSize,r=n.maxTicksLimit;return e?t=Math.ceil(this.max/e)-Math.floor(this.min/e)+1:(t=this._computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:ht.noop,buildTicks:function(){var t=this,n=t.options.ticks,e=t.getTickLimit(),r={maxTicks:e=Math.max(2,e),min:n.min,max:n.max,precision:n.precision,stepSize:ht.valueOrDefault(n.fixedStepSize,n.stepSize)},i=t.ticks=function(t,n){var e,r,i,o,a=[],s=t.stepSize,u=s||1,l=t.maxTicks-1,h=t.min,c=t.max,d=t.precision,f=n.min,v=n.max,p=ht.niceNum((v-f)/l/u)*u;if(p<1e-14&&oe(h)&&oe(c))return[f,v];(o=Math.ceil(v/p)-Math.floor(f/p))>l&&(p=ht.niceNum(o*p/l/u)*u),s||oe(d)?e=Math.pow(10,ht._decimalPlaces(p)):(e=Math.pow(10,d),p=Math.ceil(p*e)/e),r=Math.floor(f/p)*p,i=Math.ceil(v/p)*p,s&&(!oe(h)&&ht.almostWhole(h/p,p/1e3)&&(r=h),!oe(c)&&ht.almostWhole(c/p,p/1e3)&&(i=c)),o=ht.almostEquals(o=(i-r)/p,Math.round(o),p/1e3)?Math.round(o):Math.ceil(o),r=Math.round(r*e)/e,i=Math.round(i*e)/e,a.push(oe(h)?r:h);for(var m=1;m<o;++m)a.push(Math.round((r+m*p)*e)/e);return a.push(oe(c)?i:c),a}(r,t);t.handleDirectionalChanges(),t.max=ht.max(i),t.min=ht.min(i),n.reverse?(i.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),re.prototype.convertTicksToLabels.call(t)}}),se={position:"left",ticks:{callback:Xn.formatters.linear}},ue=ae.extend({determineDataLimits:function(){var t=this,n=t.options,e=t.chart,r=e.data.datasets,i=t.isHorizontal();function o(n){return i?n.xAxisID===t.id:n.yAxisID===t.id}t.min=null,t.max=null;var a=n.stacked;if(void 0===a&&ht.each(r,(function(t,n){if(!a){var r=e.getDatasetMeta(n);e.isDatasetVisible(n)&&o(r)&&void 0!==r.stack&&(a=!0)}})),n.stacked||a){var s={};ht.each(r,(function(r,i){var a=e.getDatasetMeta(i),u=[a.type,void 0===n.stacked&&void 0===a.stack?i:"",a.stack].join(".");void 0===s[u]&&(s[u]={positiveValues:[],negativeValues:[]});var l=s[u].positiveValues,h=s[u].negativeValues;e.isDatasetVisible(i)&&o(a)&&ht.each(r.data,(function(e,r){var i=+t.getRightValue(e);isNaN(i)||a.data[r].hidden||(l[r]=l[r]||0,h[r]=h[r]||0,n.relativePoints?l[r]=100:i<0?h[r]+=i:l[r]+=i)}))})),ht.each(s,(function(n){var e=n.positiveValues.concat(n.negativeValues),r=ht.min(e),i=ht.max(e);t.min=null===t.min?r:Math.min(t.min,r),t.max=null===t.max?i:Math.max(t.max,i)}))}else ht.each(r,(function(n,r){var i=e.getDatasetMeta(r);e.isDatasetVisible(r)&&o(i)&&ht.each(n.data,(function(n,e){var r=+t.getRightValue(n);isNaN(r)||i.data[e].hidden||((null===t.min||r<t.min)&&(t.min=r),(null===t.max||r>t.max)&&(t.max=r))}))}));t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:1,this.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=ht.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,n){return+this.getRightValue(this.chart.data.datasets[n].data[t])},getPixelForValue:function(t){var n=this,e=n.start,r=+n.getRightValue(t),i=n.end-e;return n.isHorizontal()?n.left+n.width/i*(r-e):n.bottom-n.height/i*(r-e)},getValueForPixel:function(t){var n=this,e=n.isHorizontal();return n.start+(e?t-n.left:n.bottom-t)/(e?n.width:n.height)*(n.end-n.start)},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});ue._defaults=se;var le=ht.valueOrDefault,he={position:"left",ticks:{callback:Xn.formatters.logarithmic}};function ce(t,n){return ht.isFinite(t)&&t>=0?t:n}var de=re.extend({determineDataLimits:function(){var t=this,n=t.options,e=t.chart,r=e.data.datasets,i=t.isHorizontal();function o(n){return i?n.xAxisID===t.id:n.yAxisID===t.id}t.min=null,t.max=null,t.minNotZero=null;var a=n.stacked;if(void 0===a&&ht.each(r,(function(t,n){if(!a){var r=e.getDatasetMeta(n);e.isDatasetVisible(n)&&o(r)&&void 0!==r.stack&&(a=!0)}})),n.stacked||a){var s={};ht.each(r,(function(r,i){var a=e.getDatasetMeta(i),u=[a.type,void 0===n.stacked&&void 0===a.stack?i:"",a.stack].join(".");e.isDatasetVisible(i)&&o(a)&&(void 0===s[u]&&(s[u]=[]),ht.each(r.data,(function(n,e){var r=s[u],i=+t.getRightValue(n);isNaN(i)||a.data[e].hidden||i<0||(r[e]=r[e]||0,r[e]+=i)})))})),ht.each(s,(function(n){if(n.length>0){var e=ht.min(n),r=ht.max(n);t.min=null===t.min?e:Math.min(t.min,e),t.max=null===t.max?r:Math.max(t.max,r)}}))}else ht.each(r,(function(n,r){var i=e.getDatasetMeta(r);e.isDatasetVisible(r)&&o(i)&&ht.each(n.data,(function(n,e){var r=+t.getRightValue(n);isNaN(r)||i.data[e].hidden||r<0||((null===t.min||r<t.min)&&(t.min=r),(null===t.max||r>t.max)&&(t.max=r),0!==r&&(null===t.minNotZero||r<t.minNotZero)&&(t.minNotZero=r))}))}));this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,n=t.options.ticks;t.min=ce(n.min,t.min),t.max=ce(n.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(ht.log10(t.min))-1),t.max=Math.pow(10,Math.floor(ht.log10(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(ht.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(ht.log10(t.min))+1):10),null===t.minNotZero&&(t.minNotZero=t.min>0?t.min:t.max<1?Math.pow(10,Math.floor(ht.log10(t.max))):1)},buildTicks:function(){var t=this,n=t.options.ticks,e=!t.isHorizontal(),r={min:ce(n.min),max:ce(n.max)},i=t.ticks=function(t,n){var e,r,i=[],o=le(t.min,Math.pow(10,Math.floor(ht.log10(n.min)))),a=Math.floor(ht.log10(n.max)),s=Math.ceil(n.max/Math.pow(10,a));0===o?(e=Math.floor(ht.log10(n.minNotZero)),r=Math.floor(n.minNotZero/Math.pow(10,e)),i.push(o),o=r*Math.pow(10,e)):(e=Math.floor(ht.log10(o)),r=Math.floor(o/Math.pow(10,e)));var u=e<0?Math.pow(10,Math.abs(e)):1;do{i.push(o),10==++r&&(r=1,u=++e>=0?1:u),o=Math.round(r*Math.pow(10,e)*u)/u}while(e<a||e===a&&r<s);var l=le(t.max,o);return i.push(l),i}(r,t);t.max=ht.max(i),t.min=ht.min(i),n.reverse?(e=!e,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),e&&i.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),re.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,n){return+this.getRightValue(this.chart.data.datasets[n].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var n=Math.floor(ht.log10(t));return Math.floor(t/Math.pow(10,n))*Math.pow(10,n)},getPixelForValue:function(t){var n,e,r,i,o,a=this,s=a.options.ticks,u=s.reverse,l=ht.log10,h=a._getFirstTickValue(a.minNotZero),c=0;return t=+a.getRightValue(t),u?(r=a.end,i=a.start,o=-1):(r=a.start,i=a.end,o=1),a.isHorizontal()?(n=a.width,e=u?a.right:a.left):(n=a.height,o*=-1,e=u?a.top:a.bottom),t!==r&&(0===r&&(n-=c=le(s.fontSize,st.global.defaultFontSize),r=h),0!==t&&(c+=n/(l(i)-l(r))*(l(t)-l(r))),e+=o*c),e},getValueForPixel:function(t){var n,e,r,i,o=this,a=o.options.ticks,s=a.reverse,u=ht.log10,l=o._getFirstTickValue(o.minNotZero);if(s?(e=o.end,r=o.start):(e=o.start,r=o.end),o.isHorizontal()?(n=o.width,i=s?o.right-t:t-o.left):(n=o.height,i=s?t-o.top:o.bottom-t),i!==e){if(0===e){var h=le(a.fontSize,st.global.defaultFontSize);i-=h,n-=h,e=l}i*=u(r)-u(e),i/=n,i=Math.pow(10,u(e)+i)}return i}});de._defaults=he;var fe=ht.valueOrDefault,ve=ht.valueAtIndexOrDefault,pe=ht.options.resolve,me={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Xn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function ge(t){var n=t.options;return n.angleLines.display||n.pointLabels.display?t.chart.data.labels.length:0}function be(t){var n=t.ticks;return n.display&&t.display?fe(n.fontSize,st.global.defaultFontSize)+2*n.backdropPaddingY:0}function ye(t,n,e,r,i){return t===r||t===i?{start:n-e/2,end:n+e/2}:t<r||t>i?{start:n-e,end:n}:{start:n,end:n+e}}function Me(t){return 0===t||180===t?"center":t<180?"left":"right"}function we(t,n,e,r){var i,o,a=e.y+r/2;if(ht.isArray(n))for(i=0,o=n.length;i<o;++i)t.fillText(n[i],e.x,a),a+=r;else t.fillText(n,e.x,a)}function ke(t,n,e){90===t||270===t?e.y-=n.h/2:(t>270||t<90)&&(e.y-=n.h)}function xe(t){return ht.isNumber(t)?t:0}var De=ae.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=be(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,n=t.chart,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;ht.each(n.data.datasets,(function(i,o){if(n.isDatasetVisible(o)){var a=n.getDatasetMeta(o);ht.each(i.data,(function(n,i){var o=+t.getRightValue(n);isNaN(o)||a.data[i].hidden||(e=Math.min(o,e),r=Math.max(o,r))}))}})),t.min=e===Number.POSITIVE_INFINITY?0:e,t.max=r===Number.NEGATIVE_INFINITY?0:r,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/be(this.options))},convertTicksToLabels:function(){var t=this;ae.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(t,n){return+this.getRightValue(this.chart.data.datasets[n].data[t])},fit:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var n,e,r,i=ht.options._parseFont(t.options.pointLabels),o={l:0,r:t.width,t:0,b:t.height-t.paddingTop},a={};t.ctx.font=i.string,t._pointLabelSizes=[];var s,u,l,h=ge(t);for(n=0;n<h;n++){r=t.getPointPosition(n,t.drawingArea+5),s=t.ctx,u=i.lineHeight,e=ht.isArray(l=t.pointLabels[n]||"")?{w:ht.longestText(s,s.font,l),h:l.length*u}:{w:s.measureText(l).width,h:u},t._pointLabelSizes[n]=e;var c=t.getIndexAngle(n),d=ht.toDegrees(c)%360,f=ye(d,r.x,e.w,0,180),v=ye(d,r.y,e.h,90,270);f.start<o.l&&(o.l=f.start,a.l=c),f.end>o.r&&(o.r=f.end,a.r=c),v.start<o.t&&(o.t=v.start,a.t=c),v.end>o.b&&(o.b=v.end,a.b=c)}t.setReductions(t.drawingArea,o,a)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(t,n,e){var r=this,i=n.l/Math.sin(e.l),o=Math.max(n.r-r.width,0)/Math.sin(e.r),a=-n.t/Math.cos(e.t),s=-Math.max(n.b-(r.height-r.paddingTop),0)/Math.cos(e.b);i=xe(i),o=xe(o),a=xe(a),s=xe(s),r.drawingArea=Math.min(Math.floor(t-(i+o)/2),Math.floor(t-(a+s)/2)),r.setCenterPoint(i,o,a,s)},setCenterPoint:function(t,n,e,r){var i=this,o=e+i.drawingArea,a=i.height-i.paddingTop-r-i.drawingArea;i.xCenter=Math.floor((t+i.drawingArea+(i.width-n-i.drawingArea))/2+i.left),i.yCenter=Math.floor((o+a)/2+i.top+i.paddingTop)},getIndexAngle:function(t){return t*(2*Math.PI/ge(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var n=this;if(null===t)return 0;var e=n.drawingArea/(n.max-n.min);return n.options.ticks.reverse?(n.max-t)*e:(t-n.min)*e},getPointPosition:function(t,n){var e=this.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(e)*n+this.xCenter,y:Math.sin(e)*n+this.yCenter}},getPointPositionForValue:function(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))},getBasePosition:function(){var t=this.min,n=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(){var t=this,n=t.options,e=n.gridLines,r=n.ticks;if(n.display){var i=t.ctx,o=this.getIndexAngle(0),a=ht.options._parseFont(r);(n.angleLines.display||n.pointLabels.display)&&function(t){var n=t.ctx,e=t.options,r=e.angleLines,i=e.gridLines,o=e.pointLabels,a=fe(r.lineWidth,i.lineWidth),s=fe(r.color,i.color),u=be(e);n.save(),n.lineWidth=a,n.strokeStyle=s,n.setLineDash&&(n.setLineDash(pe([r.borderDash,i.borderDash,[]])),n.lineDashOffset=pe([r.borderDashOffset,i.borderDashOffset,0]));var l=t.getDistanceFromCenterForValue(e.ticks.reverse?t.min:t.max),h=ht.options._parseFont(o);n.font=h.string,n.textBaseline="middle";for(var c=ge(t)-1;c>=0;c--){if(r.display&&a&&s){var d=t.getPointPosition(c,l);n.beginPath(),n.moveTo(t.xCenter,t.yCenter),n.lineTo(d.x,d.y),n.stroke()}if(o.display){var f=t.getPointPosition(c,l+(0===c?u/2:0)+5),v=ve(o.fontColor,c,st.global.defaultFontColor);n.fillStyle=v;var p=t.getIndexAngle(c),m=ht.toDegrees(p);n.textAlign=Me(m),ke(m,t._pointLabelSizes[c],f),we(n,t.pointLabels[c]||"",f,h.lineHeight)}}n.restore()}(t),ht.each(t.ticks,(function(n,s){if(s>0||r.reverse){var u=t.getDistanceFromCenterForValue(t.ticksAsNumbers[s]);if(e.display&&0!==s&&function(t,n,e,r){var i,o=t.ctx,a=n.circular,s=ge(t),u=ve(n.color,r-1),l=ve(n.lineWidth,r-1);if((a||s)&&u&&l){if(o.save(),o.strokeStyle=u,o.lineWidth=l,o.setLineDash&&(o.setLineDash(n.borderDash||[]),o.lineDashOffset=n.borderDashOffset||0),o.beginPath(),a)o.arc(t.xCenter,t.yCenter,e,0,2*Math.PI);else{i=t.getPointPosition(0,e),o.moveTo(i.x,i.y);for(var h=1;h<s;h++)i=t.getPointPosition(h,e),o.lineTo(i.x,i.y)}o.closePath(),o.stroke(),o.restore()}}(t,e,u,s),r.display){var l=fe(r.fontColor,st.global.defaultFontColor);if(i.font=a.string,i.save(),i.translate(t.xCenter,t.yCenter),i.rotate(o),r.showLabelBackdrop){var h=i.measureText(n).width;i.fillStyle=r.backdropColor,i.fillRect(-h/2-r.backdropPaddingX,-u-a.size/2-r.backdropPaddingY,h+2*r.backdropPaddingX,a.size+2*r.backdropPaddingY)}i.textAlign="center",i.textBaseline="middle",i.fillStyle=l,i.fillText(n,0,-u),i.restore()}}}))}}});De._defaults=me;var Se=ht.valueOrDefault,Ye=Number.MIN_SAFE_INTEGER||-9007199254740991,Ce=Number.MAX_SAFE_INTEGER||9007199254740991,Ne={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},Te=Object.keys(Ne);function Ae(t,n){return t-n}function _e(t){var n,e,r,i={},o=[];for(n=0,e=t.length;n<e;++n)i[r=t[n]]||(i[r]=!0,o.push(r));return o}function Ie(t,n,e,r){var i=function(t,n,e){for(var r,i,o,a=0,s=t.length-1;a>=0&&a<=s;){if(o=t[r=a+s>>1],!(i=t[r-1]||null))return{lo:null,hi:o};if(o[n]<e)a=r+1;else{if(!(i[n]>e))return{lo:i,hi:o};s=r-1}}return{lo:o,hi:null}}(t,n,e),o=i.lo?i.hi?i.lo:t[t.length-2]:t[0],a=i.lo?i.hi?i.hi:t[t.length-1]:t[1],s=a[n]-o[n];return o[r]+(a[r]-o[r])*(s?(e-o[n])/s:0)}function Fe(t,n){var e=t._adapter,r=t.options.time,i=r.parser,o=i||r.format,a=n;return"function"==typeof i&&(a=i(a)),ht.isFinite(a)||(a="string"==typeof o?e.parse(a,o):e.parse(a)),null!==a?+a:(i||"function"!=typeof o||(a=o(n),ht.isFinite(a)||(a=e.parse(a))),a)}function Le(t,n){if(ht.isNullOrUndef(n))return null;var e=t.options.time,r=Fe(t,t.getRightValue(n));return null===r||e.round&&(r=+t._adapter.startOf(r,e.round)),r}function Oe(t){for(var n=Te.indexOf(t)+1,e=Te.length;n<e;++n)if(Ne[Te[n]].common)return Te[n]}var We=re.extend({initialize:function(){this.mergeTicksOptions(),re.prototype.initialize.call(this)},update:function(){var t=this,n=t.options,e=n.time||(n.time={}),r=t._adapter=new Qn._date(n.adapters.date);return e.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),ht.mergeIf(e.displayFormats,r.formats()),re.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),re.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,n,e,r,i,o,a=this,s=a.chart,u=a._adapter,l=a.options.time,h=l.unit||"day",c=Ce,d=Ye,f=[],v=[],p=[],m=s.data.labels||[];for(t=0,e=m.length;t<e;++t)p.push(Le(a,m[t]));for(t=0,e=(s.data.datasets||[]).length;t<e;++t)if(s.isDatasetVisible(t))if(ht.isObject((i=s.data.datasets[t].data)[0]))for(v[t]=[],n=0,r=i.length;n<r;++n)o=Le(a,i[n]),f.push(o),v[t][n]=o;else{for(n=0,r=p.length;n<r;++n)f.push(p[n]);v[t]=p.slice(0)}else v[t]=[];p.length&&(p=_e(p).sort(Ae),c=Math.min(c,p[0]),d=Math.max(d,p[p.length-1])),f.length&&(f=_e(f).sort(Ae),c=Math.min(c,f[0]),d=Math.max(d,f[f.length-1])),c=Le(a,l.min)||c,d=Le(a,l.max)||d,c=c===Ce?+u.startOf(Date.now(),h):c,d=d===Ye?+u.endOf(Date.now(),h)+1:d,a.min=Math.min(c,d),a.max=Math.max(c+1,d),a._horizontal=a.isHorizontal(),a._table=[],a._timestamps={data:f,datasets:v,labels:p}},buildTicks:function(){var t,n,e,r=this,i=r.min,o=r.max,a=r.options,s=a.time,u=[],l=[];switch(a.ticks.source){case"data":u=r._timestamps.data;break;case"labels":u=r._timestamps.labels;break;case"auto":default:u=function(t,n,e,r){var i,o=t._adapter,a=t.options,s=a.time,u=s.unit||function(t,n,e,r){var i,o,a=Te.length;for(i=Te.indexOf(t);i<a-1;++i)if((o=Ne[Te[i]]).common&&Math.ceil((e-n)/((o.steps?o.steps[o.steps.length-1]:Ce)*o.size))<=r)return Te[i];return Te[a-1]}(s.minUnit,n,e,r),l=Oe(u),h=Se(s.stepSize,s.unitStepSize),c="week"===u&&s.isoWeekday,d=a.ticks.major.enabled,f=Ne[u],v=n,p=e,m=[];for(h||(h=function(t,n,e,r){var i,o,a,s=n-t,u=Ne[e],l=u.size,h=u.steps;if(!h)return Math.ceil(s/(r*l));for(i=0,o=h.length;i<o&&(a=h[i],!(Math.ceil(s/(l*a))<=r));++i);return a}(n,e,u,r)),c&&(v=+o.startOf(v,"isoWeek",c),p=+o.startOf(p,"isoWeek",c)),v=+o.startOf(v,c?"day":u),(p=+o.startOf(p,c?"day":u))<e&&(p=+o.add(p,1,u)),i=v,d&&l&&!c&&!s.round&&(i=+o.startOf(i,l),i=+o.add(i,~~((v-i)/(f.size*h))*h,u));i<p;i=+o.add(i,h,u))m.push(+i);return m.push(+i),m}(r,i,o,r.getLabelCapacity(i))}for("ticks"===a.bounds&&u.length&&(i=u[0],o=u[u.length-1]),i=Le(r,s.min)||i,o=Le(r,s.max)||o,t=0,n=u.length;t<n;++t)(e=u[t])>=i&&e<=o&&l.push(e);return r.min=i,r.max=o,r._unit=s.unit||function(t,n,e,r,i){var o,a;for(o=Te.length-1;o>=Te.indexOf(e);o--)if(Ne[a=Te[o]].common&&t._adapter.diff(i,r,a)>=n.length)return a;return Te[e?Te.indexOf(e):0]}(r,l,s.minUnit,r.min,r.max),r._majorUnit=Oe(r._unit),r._table=function(t,n,e,r){if("linear"===r||!t.length)return[{time:n,pos:0},{time:e,pos:1}];var i,o,a,s,u,l=[],h=[n];for(i=0,o=t.length;i<o;++i)(s=t[i])>n&&s<e&&h.push(s);for(h.push(e),i=0,o=h.length;i<o;++i)u=h[i+1],s=h[i],void 0!==(a=h[i-1])&&void 0!==u&&Math.round((u+a)/2)===s||l.push({time:s,pos:i/(o-1)});return l}(r._timestamps.data,i,o,a.distribution),r._offsets=function(t,n,e,r,i){var o,a,s=0,u=0;return i.offset&&n.length&&(i.time.min||(o=Ie(t,"time",n[0],"pos"),s=1===n.length?1-o:(Ie(t,"time",n[1],"pos")-o)/2),i.time.max||(a=Ie(t,"time",n[n.length-1],"pos"),u=1===n.length?a:(a-Ie(t,"time",n[n.length-2],"pos"))/2)),{start:s,end:u}}(r._table,l,0,0,a),a.ticks.reverse&&l.reverse(),function(t,n,e){var r,i,o,a,s=[];for(r=0,i=n.length;r<i;++r)o=n[r],a=!!e&&o===+t._adapter.startOf(o,e),s.push({value:o,major:a});return s}(r,l,r._majorUnit)},getLabelForIndex:function(t,n){var e=this,r=e._adapter,i=e.chart.data,o=e.options.time,a=i.labels&&t<i.labels.length?i.labels[t]:"",s=i.datasets[n].data[t];return ht.isObject(s)&&(a=e.getRightValue(s)),o.tooltipFormat?r.format(Fe(e,a),o.tooltipFormat):"string"==typeof a?a:r.format(Fe(e,a),o.displayFormats.datetime)},tickFormatFunction:function(t,n,e,r){var i=this._adapter,o=this.options,a=o.time.displayFormats,s=a[this._unit],u=this._majorUnit,l=a[u],h=+i.startOf(t,u),c=o.ticks.major,d=c.enabled&&u&&l&&t===h,f=i.format(t,r||(d?l:s)),v=d?c:o.ticks.minor,p=Se(v.callback,v.userCallback);return p?p(f,n,e):f},convertTicksToLabels:function(t){var n,e,r=[];for(n=0,e=t.length;n<e;++n)r.push(this.tickFormatFunction(t[n].value,n,t));return r},getPixelForOffset:function(t){var n=this,e=n.options.ticks.reverse,r=n._horizontal?n.width:n.height,i=n._horizontal?e?n.right:n.left:e?n.bottom:n.top,o=Ie(n._table,"time",t,"pos"),a=r*(n._offsets.start+o)/(n._offsets.start+1+n._offsets.end);return e?i-a:i+a},getPixelForValue:function(t,n,e){var r=null;if(void 0!==n&&void 0!==e&&(r=this._timestamps.datasets[e][n]),null===r&&(r=Le(this,t)),null!==r)return this.getPixelForOffset(r)},getPixelForTick:function(t){var n=this.getTicks();return t>=0&&t<n.length?this.getPixelForOffset(n[t].value):null},getValueForPixel:function(t){var n=this,e=n._horizontal?n.width:n.height,r=Ie(n._table,"pos",(e?(t-(n._horizontal?n.left:n.top))/e:0)*(n._offsets.start+1+n._offsets.start)-n._offsets.end,"time");return n._adapter._create(r)},getLabelWidth:function(t){var n=this.options.ticks,e=this.ctx.measureText(t).width,r=ht.toRadians(n.maxRotation),i=Math.cos(r),o=Math.sin(r);return e*i+Se(n.fontSize,st.global.defaultFontSize)*o},getLabelCapacity:function(t){var n=this,e=n.tickFormatFunction(t,0,[],n.options.time.displayFormats.millisecond),r=n.getLabelWidth(e),i=n.isHorizontal()?n.width:n.height,o=Math.floor(i/r);return o>0?o:1}});We._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var je={category:ie,linear:ue,logarithmic:de,radialLinear:De,time:We},Ee={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Qn._date.override("function"==typeof t?{_id:"moment",formats:function(){return Ee},parse:function(n,e){return"string"==typeof n&&"string"==typeof e?n=t(n,e):n instanceof t||(n=t(n)),n.isValid()?n.valueOf():null},format:function(n,e){return t(n).format(e)},add:function(n,e,r){return t(n).add(e,r).valueOf()},diff:function(n,e,r){return t.duration(t(n).diff(t(e))).as(r)},startOf:function(n,e,r){return n=t(n),"isoWeek"===e?n.isoWeekday(r).valueOf():n.startOf(e).valueOf()},endOf:function(n,e){return t(n).endOf(e).valueOf()},_create:function(n){return t(n)}}:{}),st._set("global",{plugins:{filler:{propagate:!0}}});var He={dataset:function(t){var n=t.fill,e=t.chart,r=e.getDatasetMeta(n),i=r&&e.isDatasetVisible(n)&&r.dataset._children||[],o=i.length||0;return o?function(t,n){return n<o&&i[n]._view||null}:null},boundary:function(t){var n=t.boundary,e=n?n.x:null,r=n?n.y:null;return function(t){return{x:null===e?t.x:e,y:null===r?t.y:r}}}};function ze(t,n,e){var r,i=t._model||{},o=i.fill;if(void 0===o&&(o=!!i.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(r=parseFloat(o,10),isFinite(r)&&Math.floor(r)===r)return"-"!==o[0]&&"+"!==o[0]||(r=n+r),!(r===n||r<0||r>=e)&&r;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function Pe(t){var n,e=t.el._model||{},r=t.el._scale||{},i=t.fill,o=null;if(isFinite(i))return null;if("start"===i?o=void 0===e.scaleBottom?r.bottom:e.scaleBottom:"end"===i?o=void 0===e.scaleTop?r.top:e.scaleTop:void 0!==e.scaleZero?o=e.scaleZero:r.getBasePosition?o=r.getBasePosition():r.getBasePixel&&(o=r.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if(ht.isFinite(o))return{x:(n=r.isHorizontal())?o:null,y:n?null:o}}return null}function Be(t,n,e){var r,i=t[n].fill,o=[n];if(!e)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!isFinite(i))return i;if(!(r=t[i]))return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function Re(t){var n=t.fill,e="dataset";return!1===n?null:(isFinite(n)||(e="boundary"),He[e](t))}function Ge(t){return t&&!t.skip}function $e(t,n,e,r,i){var o;if(r&&i){for(t.moveTo(n[0].x,n[0].y),o=1;o<r;++o)ht.canvas.lineTo(t,n[o-1],n[o]);for(t.lineTo(e[i-1].x,e[i-1].y),o=i-1;o>0;--o)ht.canvas.lineTo(t,e[o],e[o-1],!0)}}var Ue={id:"filler",afterDatasetsUpdate:function(t,n){var e,r,i,o,a=(t.data.datasets||[]).length,s=n.propagate,u=[];for(r=0;r<a;++r)o=null,(i=(e=t.getDatasetMeta(r)).dataset)&&i._model&&i instanceof jt.Line&&(o={visible:t.isDatasetVisible(r),fill:ze(i,r,a),chart:t,el:i}),e.$filler=o,u.push(o);for(r=0;r<a;++r)(o=u[r])&&(o.fill=Be(u,r,s),o.boundary=Pe(o),o.mapper=Re(o))},beforeDatasetDraw:function(t,n){var e=n.meta.$filler;if(e){var r=t.ctx,i=e.el,o=i._view,a=i._children||[],s=e.mapper,u=o.backgroundColor||st.global.defaultColor;s&&u&&a.length&&(ht.canvas.clipArea(r,t.chartArea),function(t,n,e,r,i,o){var a,s,u,l,h,c,d,f=n.length,v=r.spanGaps,p=[],m=[],g=0,b=0;for(t.beginPath(),a=0,s=f+!!o;a<s;++a)h=e(l=n[u=a%f]._view,u,r),c=Ge(l),d=Ge(h),c&&d?(g=p.push(l),b=m.push(h)):g&&b&&(v?(c&&p.push(l),d&&m.push(h)):($e(t,p,m,g,b),g=b=0,p=[],m=[]));$e(t,p,m,g,b),t.closePath(),t.fillStyle=i,t.fill()}(r,a,s,o,u,i._loop),ht.canvas.unclipArea(r))}}},qe=ht.noop,Ve=ht.valueOrDefault;function Ze(t,n){return t.usePointStyle&&t.boxWidth>n?n:t.boxWidth}st._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,n){var e=n.datasetIndex,r=this.chart,i=r.getDatasetMeta(e);i.hidden=null===i.hidden?!r.data.datasets[e].hidden:null,r.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var n=t.data;return ht.isArray(n.datasets)?n.datasets.map((function(n,e){return{text:n.label,fillStyle:ht.isArray(n.backgroundColor)?n.backgroundColor[0]:n.backgroundColor,hidden:!t.isDatasetVisible(e),lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:n.borderWidth,strokeStyle:n.borderColor,pointStyle:n.pointStyle,datasetIndex:e}}),this):[]}}},legendCallback:function(t){var n=[];n.push('<ul class="'+t.id+'-legend">');for(var e=0;e<t.data.datasets.length;e++)n.push('<li><span style="background-color:'+t.data.datasets[e].backgroundColor+'"></span>'),t.data.datasets[e].label&&n.push(t.data.datasets[e].label),n.push("</li>");return n.push("</ul>"),n.join("")}});var Je=vt.extend({initialize:function(t){ht.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:qe,update:function(t,n,e){var r=this;return r.beforeUpdate(),r.maxWidth=t,r.maxHeight=n,r.margins=e,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:qe,beforeSetDimensions:qe,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:qe,beforeBuildLabels:qe,buildLabels:function(){var t=this,n=t.options.labels||{},e=ht.callback(n.generateLabels,[t.chart],t)||[];n.filter&&(e=e.filter((function(e){return n.filter(e,t.chart.data)}))),t.options.reverse&&e.reverse(),t.legendItems=e},afterBuildLabels:qe,beforeFit:qe,fit:function(){var t=this,n=t.options,e=n.labels,r=n.display,i=t.ctx,o=ht.options._parseFont(e),a=o.size,s=t.legendHitBoxes=[],u=t.minSize,l=t.isHorizontal();if(l?(u.width=t.maxWidth,u.height=r?10:0):(u.width=r?10:0,u.height=t.maxHeight),r)if(i.font=o.string,l){var h=t.lineWidths=[0],c=0;i.textAlign="left",i.textBaseline="top",ht.each(t.legendItems,(function(t,n){var r=Ze(e,a)+a/2+i.measureText(t.text).width;(0===n||h[h.length-1]+r+e.padding>u.width)&&(c+=a+e.padding,h[h.length-(n>0?0:1)]=e.padding),s[n]={left:0,top:0,width:r,height:a},h[h.length-1]+=r+e.padding})),u.height+=c}else{var d=e.padding,f=t.columnWidths=[],v=e.padding,p=0,m=0,g=a+d;ht.each(t.legendItems,(function(t,n){var r=Ze(e,a)+a/2+i.measureText(t.text).width;n>0&&m+g>u.height-d&&(v+=p+e.padding,f.push(p),p=0,m=0),p=Math.max(p,r),m+=g,s[n]={left:0,top:0,width:r,height:a}})),v+=p,f.push(p),u.width+=v}t.width=u.width,t.height=u.height},afterFit:qe,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,n=t.options,e=n.labels,r=st.global,i=r.defaultColor,o=r.elements.line,a=t.width,s=t.lineWidths;if(n.display){var u,l=t.ctx,h=Ve(e.fontColor,r.defaultFontColor),c=ht.options._parseFont(e),d=c.size;l.textAlign="left",l.textBaseline="middle",l.lineWidth=.5,l.strokeStyle=h,l.fillStyle=h,l.font=c.string;var f=Ze(e,d),v=t.legendHitBoxes,p=t.isHorizontal();u=p?{x:t.left+(a-s[0])/2+e.padding,y:t.top+e.padding,line:0}:{x:t.left+e.padding,y:t.top+e.padding,line:0};var m=d+e.padding;ht.each(t.legendItems,(function(r,h){var c=l.measureText(r.text).width,g=f+d/2+c,b=u.x,y=u.y;p?h>0&&b+g+e.padding>t.left+t.minSize.width&&(y=u.y+=m,u.line++,b=u.x=t.left+(a-s[u.line])/2+e.padding):h>0&&y+m>t.top+t.minSize.height&&(b=u.x=b+t.columnWidths[u.line]+e.padding,y=u.y=t.top+e.padding,u.line++),function(t,e,r){if(!(isNaN(f)||f<=0)){l.save();var a=Ve(r.lineWidth,o.borderWidth);if(l.fillStyle=Ve(r.fillStyle,i),l.lineCap=Ve(r.lineCap,o.borderCapStyle),l.lineDashOffset=Ve(r.lineDashOffset,o.borderDashOffset),l.lineJoin=Ve(r.lineJoin,o.borderJoinStyle),l.lineWidth=a,l.strokeStyle=Ve(r.strokeStyle,i),l.setLineDash&&l.setLineDash(Ve(r.lineDash,o.borderDash)),n.labels&&n.labels.usePointStyle){var s=f*Math.SQRT2/2;ht.canvas.drawPoint(l,r.pointStyle,s,t+f/2,e+d/2)}else 0!==a&&l.strokeRect(t,e,f,d),l.fillRect(t,e,f,d);l.restore()}}(b,y,r),v[h].left=b,v[h].top=y,function(t,n,e,r){var i=d/2,o=f+i+t,a=n+i;l.fillText(e.text,o,a),e.hidden&&(l.beginPath(),l.lineWidth=2,l.moveTo(o,a),l.lineTo(o+r,a),l.stroke())}(b,y,r,c),p?u.x+=g+e.padding:u.y+=m}))}},_getLegendItemAt:function(t,n){var e,r,i,o=this;if(t>=o.left&&t<=o.right&&n>=o.top&&n<=o.bottom)for(i=o.legendHitBoxes,e=0;e<i.length;++e)if(t>=(r=i[e]).left&&t<=r.left+r.width&&n>=r.top&&n<=r.top+r.height)return o.legendItems[e];return null},handleEvent:function(t){var n,e=this,r=e.options,i="mouseup"===t.type?"click":t.type;if("mousemove"===i){if(!r.onHover&&!r.onLeave)return}else{if("click"!==i)return;if(!r.onClick)return}n=e._getLegendItemAt(t.x,t.y),"click"===i?n&&r.onClick&&r.onClick.call(e,t.native,n):(r.onLeave&&n!==e._hoveredItem&&(e._hoveredItem&&r.onLeave.call(e,t.native,e._hoveredItem),e._hoveredItem=n),r.onHover&&n&&r.onHover.call(e,t.native,n))}});function Qe(t,n){var e=new Je({ctx:t.ctx,options:n,chart:t});Mn.configure(t,e,n),Mn.addBox(t,e),t.legend=e}var Xe={id:"legend",_element:Je,beforeInit:function(t){var n=t.options.legend;n&&Qe(t,n)},beforeUpdate:function(t){var n=t.options.legend,e=t.legend;n?(ht.mergeIf(n,st.global.legend),e?(Mn.configure(t,e,n),e.options=n):Qe(t,n)):e&&(Mn.removeBox(t,e),delete t.legend)},afterEvent:function(t,n){var e=t.legend;e&&e.handleEvent(n)}},Ke=ht.noop;st._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var tr=vt.extend({initialize:function(t){ht.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:Ke,update:function(t,n,e){var r=this;return r.beforeUpdate(),r.maxWidth=t,r.maxHeight=n,r.margins=e,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:Ke,beforeSetDimensions:Ke,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Ke,beforeBuildLabels:Ke,buildLabels:Ke,afterBuildLabels:Ke,beforeFit:Ke,fit:function(){var t=this,n=t.options,e=n.display,r=t.minSize,i=ht.isArray(n.text)?n.text.length:1,o=ht.options._parseFont(n),a=e?i*o.lineHeight+2*n.padding:0;t.isHorizontal()?(r.width=t.maxWidth,r.height=a):(r.width=a,r.height=t.maxHeight),t.width=r.width,t.height=r.height},afterFit:Ke,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,n=t.ctx,e=t.options;if(e.display){var r,i,o,a=ht.options._parseFont(e),s=a.lineHeight,u=s/2+e.padding,l=0,h=t.top,c=t.left,d=t.bottom,f=t.right;n.fillStyle=ht.valueOrDefault(e.fontColor,st.global.defaultFontColor),n.font=a.string,t.isHorizontal()?(i=c+(f-c)/2,o=h+u,r=f-c):(i="left"===e.position?c+u:f-u,o=h+(d-h)/2,r=d-h,l=Math.PI*("left"===e.position?-.5:.5)),n.save(),n.translate(i,o),n.rotate(l),n.textAlign="center",n.textBaseline="middle";var v=e.text;if(ht.isArray(v))for(var p=0,m=0;m<v.length;++m)n.fillText(v[m],0,p,r),p+=s;else n.fillText(v,0,0,r);n.restore()}}});function nr(t,n){var e=new tr({ctx:t.ctx,options:n,chart:t});Mn.configure(t,e,n),Mn.addBox(t,e),t.titleBlock=e}var er={},rr=Ue,ir=Xe,or={id:"title",_element:tr,beforeInit:function(t){var n=t.options.title;n&&nr(t,n)},beforeUpdate:function(t){var n=t.options.title,e=t.titleBlock;n?(ht.mergeIf(n,st.global.title),e?(Mn.configure(t,e,n),e.options=n):nr(t,n)):e&&(Mn.removeBox(t,e),delete t.titleBlock)}};for(var ar in er.filler=rr,er.legend=ir,er.title=or,Vn.helpers=ht,function(){function t(t,n,e){var r;return"string"==typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*n.parentNode[e])):r=t,r}function n(t){return null!=t&&"none"!==t}function e(e,r,i){var o=document.defaultView,a=ht._getParentNode(e),s=o.getComputedStyle(e)[r],u=o.getComputedStyle(a)[r],l=n(s),h=n(u),c=Number.POSITIVE_INFINITY;return l||h?Math.min(l?t(s,e,i):c,h?t(u,a,i):c):"none"}ht.where=function(t,n){if(ht.isArray(t)&&Array.prototype.filter)return t.filter(n);var e=[];return ht.each(t,(function(t){n(t)&&e.push(t)})),e},ht.findIndex=Array.prototype.findIndex?function(t,n,e){return t.findIndex(n,e)}:function(t,n,e){e=void 0===e?t:e;for(var r=0,i=t.length;r<i;++r)if(n.call(e,t[r],r,t))return r;return-1},ht.findNextWhere=function(t,n,e){ht.isNullOrUndef(e)&&(e=-1);for(var r=e+1;r<t.length;r++){var i=t[r];if(n(i))return i}},ht.findPreviousWhere=function(t,n,e){ht.isNullOrUndef(e)&&(e=t.length);for(var r=e-1;r>=0;r--){var i=t[r];if(n(i))return i}},ht.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},ht.almostEquals=function(t,n,e){return Math.abs(t-n)<e},ht.almostWhole=function(t,n){var e=Math.round(t);return e-n<t&&e+n>t},ht.max=function(t){return t.reduce((function(t,n){return isNaN(n)?t:Math.max(t,n)}),Number.NEGATIVE_INFINITY)},ht.min=function(t){return t.reduce((function(t,n){return isNaN(n)?t:Math.min(t,n)}),Number.POSITIVE_INFINITY)},ht.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},ht.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var n=Math.log(t)*Math.LOG10E,e=Math.round(n);return t===Math.pow(10,e)?e:n},ht.toRadians=function(t){return t*(Math.PI/180)},ht.toDegrees=function(t){return t*(180/Math.PI)},ht._decimalPlaces=function(t){if(ht.isFinite(t)){for(var n=1,e=0;Math.round(t*n)/n!==t;)n*=10,e++;return e}},ht.getAngleFromPoint=function(t,n){var e=n.x-t.x,r=n.y-t.y,i=Math.sqrt(e*e+r*r),o=Math.atan2(r,e);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:i}},ht.distanceBetweenPoints=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},ht.aliasPixel=function(t){return t%2==0?0:.5},ht._alignPixel=function(t,n,e){var r=t.currentDevicePixelRatio,i=e/2;return Math.round((n-i)*r)/r+i},ht.splineCurve=function(t,n,e,r){var i=t.skip?n:t,o=n,a=e.skip?n:e,s=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),u=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),l=s/(s+u),h=u/(s+u),c=r*(l=isNaN(l)?0:l),d=r*(h=isNaN(h)?0:h);return{previous:{x:o.x-c*(a.x-i.x),y:o.y-c*(a.y-i.y)},next:{x:o.x+d*(a.x-i.x),y:o.y+d*(a.y-i.y)}}},ht.EPSILON=Number.EPSILON||1e-14,ht.splineCurveMonotone=function(t){var n,e,r,i,o,a,s,u,l,h=(t||[]).map((function(t){return{model:t._model,deltaK:0,mK:0}})),c=h.length;for(n=0;n<c;++n)if(!(r=h[n]).model.skip){if(e=n>0?h[n-1]:null,(i=n<c-1?h[n+1]:null)&&!i.model.skip){var d=i.model.x-r.model.x;r.deltaK=0!==d?(i.model.y-r.model.y)/d:0}r.mK=!e||e.model.skip?r.deltaK:!i||i.model.skip?e.deltaK:this.sign(e.deltaK)!==this.sign(r.deltaK)?0:(e.deltaK+r.deltaK)/2}for(n=0;n<c-1;++n)i=h[n+1],(r=h[n]).model.skip||i.model.skip||(ht.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=i.mK=0:(o=r.mK/r.deltaK,a=i.mK/r.deltaK,(u=Math.pow(o,2)+Math.pow(a,2))<=9||(s=3/Math.sqrt(u),r.mK=o*s*r.deltaK,i.mK=a*s*r.deltaK)));for(n=0;n<c;++n)(r=h[n]).model.skip||(i=n<c-1?h[n+1]:null,(e=n>0?h[n-1]:null)&&!e.model.skip&&(r.model.controlPointPreviousX=r.model.x-(l=(r.model.x-e.model.x)/3),r.model.controlPointPreviousY=r.model.y-l*r.mK),i&&!i.model.skip&&(r.model.controlPointNextX=r.model.x+(l=(i.model.x-r.model.x)/3),r.model.controlPointNextY=r.model.y+l*r.mK))},ht.nextItem=function(t,n,e){return e?n>=t.length-1?t[0]:t[n+1]:n>=t.length-1?t[t.length-1]:t[n+1]},ht.previousItem=function(t,n,e){return e?n<=0?t[t.length-1]:t[n-1]:n<=0?t[0]:t[n-1]},ht.niceNum=function(t,n){var e=Math.floor(ht.log10(t)),r=t/Math.pow(10,e);return(n?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,e)},ht.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},ht.getRelativePosition=function(t,n){var e,r,i=t.originalEvent||t,o=t.target||t.srcElement,a=o.getBoundingClientRect(),s=i.touches;s&&s.length>0?(e=s[0].clientX,r=s[0].clientY):(e=i.clientX,r=i.clientY);var u=parseFloat(ht.getStyle(o,"padding-left")),l=parseFloat(ht.getStyle(o,"padding-top")),h=parseFloat(ht.getStyle(o,"padding-right")),c=parseFloat(ht.getStyle(o,"padding-bottom")),d=a.bottom-a.top-l-c;return{x:e=Math.round((e-a.left-u)/(a.right-a.left-u-h)*o.width/n.currentDevicePixelRatio),y:r=Math.round((r-a.top-l)/d*o.height/n.currentDevicePixelRatio)}},ht.getConstraintWidth=function(t){return e(t,"max-width","clientWidth")},ht.getConstraintHeight=function(t){return e(t,"max-height","clientHeight")},ht._calculatePadding=function(t,n,e){return(n=ht.getStyle(t,n)).indexOf("%")>-1?e*parseInt(n,10)/100:parseInt(n,10)},ht._getParentNode=function(t){var n=t.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n},ht.getMaximumWidth=function(t){var n=ht._getParentNode(t);if(!n)return t.clientWidth;var e=n.clientWidth,r=e-ht._calculatePadding(n,"padding-left",e)-ht._calculatePadding(n,"padding-right",e),i=ht.getConstraintWidth(t);return isNaN(i)?r:Math.min(r,i)},ht.getMaximumHeight=function(t){var n=ht._getParentNode(t);if(!n)return t.clientHeight;var e=n.clientHeight,r=e-ht._calculatePadding(n,"padding-top",e)-ht._calculatePadding(n,"padding-bottom",e),i=ht.getConstraintHeight(t);return isNaN(i)?r:Math.min(r,i)},ht.getStyle=function(t,n){return t.currentStyle?t.currentStyle[n]:document.defaultView.getComputedStyle(t,null).getPropertyValue(n)},ht.retinaScale=function(t,n){var e=t.currentDevicePixelRatio=n||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==e){var r=t.canvas,i=t.height,o=t.width;r.height=i*e,r.width=o*e,t.ctx.scale(e,e),r.style.height||r.style.width||(r.style.height=i+"px",r.style.width=o+"px")}},ht.fontString=function(t,n,e){return n+" "+t+"px "+e},ht.longestText=function(t,n,e,r){var i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==n&&(i=r.data={},o=r.garbageCollect=[],r.font=n),t.font=n;var a=0;ht.each(e,(function(n){null!=n&&!0!==ht.isArray(n)?a=ht.measureText(t,i,o,a,n):ht.isArray(n)&&ht.each(n,(function(n){null==n||ht.isArray(n)||(a=ht.measureText(t,i,o,a,n))}))}));var s=o.length/2;if(s>e.length){for(var u=0;u<s;u++)delete i[o[u]];o.splice(0,s)}return a},ht.measureText=function(t,n,e,r,i){var o=n[i];return o||(o=n[i]=t.measureText(i).width,e.push(i)),o>r&&(r=o),r},ht.numberOfLabelLines=function(t){var n=1;return ht.each(t,(function(t){ht.isArray(t)&&t.length>n&&(n=t.length)})),n},ht.color=q?function(t){return t instanceof CanvasGradient&&(t=st.global.defaultColor),q(t)}:function(t){return console.error("Color.js not found!"),t},ht.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:ht.color(t).saturate(.5).darken(.1).rgbString()}}(),Vn._adapters=Qn,Vn.Animation=mt,Vn.animationService=gt,Vn.controllers=un,Vn.DatasetController=kt,Vn.defaults=st,Vn.Element=vt,Vn.elements=jt,Vn.Interaction=pn,Vn.layouts=Mn,Vn.platform=_n,Vn.plugins=In,Vn.Scale=re,Vn.scaleService=Fn,Vn.Ticks=Xn,Vn.Tooltip=Pn,Vn.helpers.each(je,(function(t,n){Vn.scaleService.registerScaleType(n,t,t._defaults)})),er)er.hasOwnProperty(ar)&&Vn.plugins.register(er[ar]);Vn.platform.initialize();var sr=Vn;return"undefined"!=typeof window&&(window.Chart=Vn),Vn.Chart=Vn,Vn.Legend=er.legend._element,Vn.Title=er.title._element,Vn.pluginService=Vn.plugins,Vn.PluginBase=Vn.Element.extend({}),Vn.canvasHelpers=Vn.helpers.canvas,Vn.layoutService=Vn.layouts,Vn.LinearScaleBase=ae,Vn.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(t){Vn[t]=function(n,e){return new Vn(n,Vn.helpers.merge(e||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}})),sr}(function(){try{return I}catch(t){}}())}(n={exports:{}}),n.exports}();const{Chart:xr}=kr.Chart,Dr=class{constructor(n){t(this,n),this.state=y.bookings.toString()}componentWillUpdate(){this.setupStatistics()}render(){return e("div",null,e("div",{class:"form-group"},e("select",{onInput:t=>this.state=t.target.value,class:"form-control"},e("option",{selected:"bookings"===this.state,value:"bookings"},"12 თვის ჯავშნები"),e("option",{selected:"amount"===this.state,value:"amount"},"12 თვის შემოსავალი"),e("option",{selected:"expenses"===this.state,value:"expenses"},"12 თვის ხარჯები"))),e("div",{style:{"background-color":"#fff",height:"300px"},class:"form-group"},this.statistics.amount.length?"":e("app-loader",null),e("canvas",{id:"stats",width:"100%",height:"300"})))}setupStatistics(){const t=(new Date).getMonth(),n=d.filter(n=>d.findIndex(t=>t==n)>t),e=d.filter(n=>d.findIndex(t=>t==n)<=t);this.currentChart&&this.currentChart.destroy();let r=document.getElementById("stats").getContext("2d");this.currentChart=new xr(r,{type:"bar",data:{labels:[...n,...e],datasets:[{label:"",data:this.statistics[this.state],backgroundColor:this.statistics.bookings.map(()=>this.state==y.expenses?"rgba(255, 99, 132, 0.5)":"rgba(54, 162, 235, 0.2)"),borderColor:this.statistics.bookings.map(()=>this.state==y.expenses?"rgba(255, 99, 132, 1)":"rgba(54, 162, 235, 1)"),borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,precision:0}}]}}})}},Sr=class{constructor(e){t(this,e),this.boardData={schedule:[],rooms:[],expenses:[],statistics:{bookings:[],amount:[],expenses:[]}},this.tabIndex=0,this.date=new Date,this.initialize=n(this,"initialize",7)}get selectedDate(){return h(this.date,"/")}showMessage(t){const n=t.detail;this.el.querySelector("app-toasty").show(n)}handleDateChange(){this.getBoardData()}getBoardData(t=null){this.boardData||(this.boardData={schedule:[],expenses:[],rooms:[],statistics:{bookings:[],amount:[],expenses:[]}}),this.date=t||this.date;var n=w.getUser();fetch(`${o().API_BASE_URL}/property/${n.properties}/bookings/${h(this.date)}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${w.getAccessToken()}`}}).then(t=>t.json()).then(t=>{this.boardData=Object.assign({},t),this.boardData.rooms.length||$("#rooms-editor-modal").modal("show")}).catch(t=>{console.log("error: ",t)})}componentDidLoad(){const t=w.getUser().sub;k.send("app","view board",t),this.initialize.emit(),this.getBoardData()}getTabButtonClass(t){return"pull-right "+(this.tabIndex===t?"active":"")}handleBookNow(t){this.showBooking(t.detail)}handleShowBooking(t){const n=t.detail.currentEvent;let e=t.detail.booking||f(t.detail.date||this.selectedDate,t.detail.room);return this.showBooking(e,n),!1}showBooking(t,n=null){return this.currentBooking=Object.assign({},t),$("#room-info-modal").modal("show"),n&&n.stopPropagation(),!1}componentWillLoad(){const t=f(this.selectedDate);this.currentBooking=Object.assign({},t)}render(){return[e("div",{class:"container-fluid"},e("div",{class:"row"},e("div",{class:"form-group"},e("div",{class:"flex-center"},e("st-datepicker",{locale:"ka",from:2019,to:(new Date).getFullYear()+1,onDateChange:t=>this.getBoardData(t),okLabel:"დადასტურება",cancelLabel:"გაუქმება"})))),e("div",{class:"row"},e("div",{class:"col-md-9"},e("ul",{class:"nav nav-tabs"},e("li",{onClick:()=>this.tabIndex=0,class:this.getTabButtonClass(0)},e("a",null,"განრიგი")),e("li",{onClick:()=>this.tabIndex=1,class:this.getTabButtonClass(1)},e("a",null,"დაფა"))),0===this.tabIndex?e("app-schedule-view",{schedule:this.boardData.schedule}):e("app-board",{rooms:this.boardData.rooms})),e("div",{class:"col-md-3"},e("app-report",null),e("app-foh-stats",{statistics:this.boardData.statistics}))),e("app-filter-modal",null),e("app-tables-modal",null),e("app-rooms-editor",{rooms:this.boardData.rooms.map(t=>t.room)}),e("app-expenses-editor",{date:this.selectedDate,expenses:this.boardData.expenses}),e("app-room-info",{booking:this.currentBooking}),e("app-toasty",null))]}get el(){return i(this)}};Sr.style=".app-home{padding:10px}.flex-center{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.nav.nav-tabs>li>a{padding:5px 7px;color:white;cursor:pointer}.nav.nav-tabs>li>a:hover{color:#555}button{background:#5851ff;color:white;margin:8px;border:none;font-size:13px;font-weight:700;text-transform:uppercase;padding:16px 20px;border-radius:2px;-webkit-box-shadow:0 8px 16px rgba(0,0,0,.1), 0 3px 6px rgba(0,0,0,.08);box-shadow:0 8px 16px rgba(0,0,0,.1), 0 3px 6px rgba(0,0,0,.08);outline:0;letter-spacing:.04em;-webkit-transition:all .15s ease;transition:all .15s ease;cursor:pointer}button:hover{-webkit-box-shadow:0 3px 6px rgba(0,0,0,.1), 0 1px 3px rgba(0,0,0,.1);box-shadow:0 3px 6px rgba(0,0,0,.1), 0 1px 3px rgba(0,0,0,.1);-webkit-transform:translateY(1px);transform:translateY(1px)}";const Yr=class{constructor(n){t(this,n)}render(){return e("div",{class:"loader"},e("span",null),e("span",null),e("span",null))}};Yr.style=".loader{width:70px;height:40px;border-radius:100%;position:relative;margin:0 auto}.loader span{display:inline-block;width:10px;height:10px;border-radius:100%;background-color:#3498db;margin:15px 5px}.loader span:nth-child(1){-webkit-animation:bounce 1s ease-in-out infinite;animation:bounce 1s ease-in-out infinite}.loader span:nth-child(2){-webkit-animation:bounce 1s ease-in-out 0.33s infinite;animation:bounce 1s ease-in-out 0.33s infinite}.loader span:nth-child(3){-webkit-animation:bounce 1s ease-in-out 0.66s infinite;animation:bounce 1s ease-in-out 0.66s infinite}@-webkit-keyframes bounce{0%,75%,100%{-webkit-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}25%{-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);-o-transform:translateY(-10px);transform:translateY(-10px)}}@keyframes bounce{0%,75%,100%{-webkit-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}25%{-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);-o-transform:translateY(-10px);transform:translateY(-10px)}}";const Cr=class{constructor(e){t(this,e),this.hasFailed=!1,this.loading=!1,this.onLogin=n(this,"onLogin",7)}componentDidLoad(){k.send("app","view login")}login(){this.hasFailed=!1,this.loading=!0,fetch(`${o().API_BASE_URL}/account/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({Username:this.username,Password:this.password})}).then(t=>{if(401===t.status)throw"invalid login attempt";return t.json()}).then(t=>{if(!t.access_token)throw"invalid login attempt";w.login(t.access_token),this.shouldChangePassword=!w.getUser().passwordChanged,this.loading=!1,this.shouldChangePassword||this.onLogin.emit()}).catch(t=>{console.log("error: ",t),this.hasFailed=!0,this.loading=!1,this.password=""})}render(){return this.shouldChangePassword?e("app-change-password",{currentPassword:this.password}):e("div",{class:"loginwrapper"},this.hasFailed?e("div",{class:"alert alert-danger"},e("strong",null," არასწორი მომხმარებელი / პაროლი. ")):"",e("div",{class:"loader-wrapper"},this.loading?e("app-loader",null):""),e("input",{type:"text",class:"form-control",placeholder:"მომხმარებელი",value:this.username,onInput:t=>this.username=t.target.value}),e("br",null),e("input",{type:"password",class:"form-control",placeholder:"პაროლი",onKeyDown:t=>13===t.keyCode?this.login():()=>{},value:this.password,onInput:t=>this.password=t.target.value}),e("br",null),e("a",{onClick:()=>this.login(),class:"btn btn-primary loginbutton"},"ავტორიზაცია"))}};Cr.style=".loginwrapper{width:270px;margin:0 auto;margin-top:150px}.loginbutton{width:100%;border-radius:15px !important}";const Nr=class{constructor(n){t(this,n),this.loaded=!1,this.loading=!1}async getReport(){this.loading=!0,this.loaded=!1,this.report=null;const t=`from=${document.querySelector("#reportStartDate input").value}&to=${document.querySelector("#reportEndDate input").value}`;try{const n=await fetch(`${o().API_BASE_URL}/property/${w.getUser().properties}/report?${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${w.getAccessToken()}`}});n.ok&&(this.report=await n.json())}catch(n){console.log("Failed to fetch reports: ",n)}this.loaded=!0,this.loading=!1}renderLoading(){return this.loading?e("app-loader",null):""}renderResult(){return this.loaded&&this.report?[e("div",null,e("label",null,"შემოსავალი: "),this.report.amount.toFixed(2)),e("div",null,e("label",null,"ხარჯი: "),this.report.expenses.toFixed(2)),e("div",null,e("label",null,"მოგება: "),this.report.profit.toFixed(2)),e("div",null,e("label",null,"ჯავშანი: "),this.report.bookings)]:""}render(){return e("div",{class:"report-wrapper clearfix",style:{"background-color":"#fff",padding:"8px 12px","margin-bottom":"15px"}},e("div",{class:"form-group"},e("app-date-selector",{label:"საწყისი თარიღი",value:h((new Date).setDate(1),"/"),elementId:"reportStartDate"})),e("div",{class:"form-group"},e("app-date-selector",{label:"ბოლო თარიღი",elementId:"reportEndDate"})),e("div",{class:"form-group"},this.renderLoading(),e("div",{class:"result-wrapper"},this.renderResult())),e("div",{class:"input-group pull-right"},e("a",{onClick:()=>this.getReport(),class:"btn btn-primary pull-right"}," რეპორტი")))}},Tr=class{constructor(e){t(this,e),this.canShow=!1,this.stateChanged=n(this,"stateChanged",7),this.showMessage=n(this,"showMessage",7)}bookingChange(){this.canShow=!1,setTimeout(()=>{this.canShow=!0},100)}cancelBooking(){this.showConfirm=!1,fetch(`${o().API_BASE_URL}/property/${w.getUser().properties}/bookings/${this.booking.id}/cancel`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${w.getAccessToken()}`},body:null}).then(()=>{$("#room-info-modal").modal("hide"),this.stateChanged.emit()}).catch(t=>{console.log("error: ",t),this.showMessage.emit("შეკვეთის გაუქმებისას დაფიქსირდა შეცდომა.")})}saveBooking(){const t=document.querySelector("#checkInDate input").value,n=document.querySelector("#checkOutDate input").value;this.booking.checkInTime=new Date(l(t)),this.booking.checkOutTime=new Date(l(n)),this.booking.checkInTime.setHours(12),this.booking.checkOutTime.setHours(14),fetch(`${o().API_BASE_URL}/property/${w.getUser().properties}/bookings`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${w.getAccessToken()}`},body:JSON.stringify(this.booking)}).then(()=>{$("#room-info-modal").modal("hide"),this.stateChanged.emit()}).catch(t=>{console.log("error: ",t),this.showMessage.emit("შეკვეთის შენახვა ვერ მოხერხდა. ოთახი არ არის თავისუფალი"),this.stateChanged.emit()})}getCancelButtonClass(){return`btn btn-danger ${this.booking.id===u?"hide":""}`}render(){return[e("div",{id:"room-info-modal",class:"modal fade",role:"dialog"},e("div",{class:"modal-dialog"},e("div",{class:"modal-content"},e("div",{class:"modal-header"},e("button",{type:"button",class:"close","data-dismiss":"modal"},"×"),e("h4",{class:"modal-title"},"ოთახი ",this.booking.roomName," - ",this.booking.seatsCount," ადგილი")),e("div",{class:"modal-body"},e("div",{class:"row"},e("form",{action:"",autocomplete:"off"},e("div",{class:"row reset-margin"},e("div",{class:"form-group col-xs-6"},e("label",null,"მომხმარებელი"),e("input",{type:"text",onInput:t=>this.booking.guestName=t.target.value,value:this.booking.guestName,class:"form-control"})),e("div",{class:"form-group col-xs-6"},e("label",null,"ტელეფონი"),e("input",{type:"text",onInput:t=>this.booking.phone=t.target.value,value:this.booking.phone,class:"form-control"}))),e("div",{class:"row reset-margin"},e("div",{class:"form-group col-xs-6"},e("label",null,"თანხა"),e("input",{type:"number",onInput:t=>this.booking.amount=t.target.value,value:this.booking.amount,class:"form-control"})),this.canShow?e("div",{class:"form-group col-xs-6"},e("label",null,"სტატუსი"),e("select",{onInput:t=>this.booking.status=parseInt(t.target.value),name:"status",id:"status",class:"form-control"},e("option",{selected:0===this.booking.status,value:"0"},"გადასახდელი"),e("option",{selected:1===this.booking.status,value:"1"},"გადახდილი"))):""),e("div",{class:"row reset-margin"},e("div",{class:"form-group col-xs-6"},e("app-date-selector",{label:"შემოსვლის დრო",horizontalPosition:"left",elementId:"checkInDate",value:h(this.booking.checkInTime,"/")})),e("div",{class:"form-group col-xs-6"},e("app-date-selector",{label:"გამოსვლის დრო",elementId:"checkOutDate",value:h(this.booking.checkOutTime,"/")}))),e("div",{class:"form-group col-sm-6"},e("label",{class:"checkbox-inline"},e("input",{type:"checkbox",checked:this.booking.checkedIn,onInput:t=>this.booking.checkedIn=t.target.checked}),"დაკავებული")),e("div",{class:"form-group col-sm-12"},e("label",null,"კომენტარი"),e("textarea",{cols:4,rows:5,class:"form-control",onInput:t=>this.booking.comment=t.target.value,value:this.booking.comment}))))),e("div",{class:"modal-footer"},e("button",{type:"button",onClick:()=>this.saveBooking(),class:"btn btn-primary","data-dismiss":"modal"},"შენახვა"),e("button",{type:"button",onClick:()=>this.showConfirm=!0,class:this.getCancelButtonClass()},"ჯავშნის გაუქმება"),e("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"დახურვა"))))),this.showConfirm&&e("app-confirm",{onApprove:()=>this.cancelBooking(),onClose:()=>this.showConfirm=!1})]}static get watchers(){return{booking:["bookingChange"]}}};Tr.style=".modal-footer .btn {\n        margin-top: 5px;\n    }\n    .modal-body .reset-margin {\n        margin-right: 0px;\n        margin-left: 0px;\n    }";const Ar=class{constructor(e){t(this,e),this.rooms=[],this.showMessage=n(this,"showMessage",7),this.stateChanged=n(this,"stateChanged",7)}componentWillLoad(){this.editor=new _r([],this.stateChanged,this.showMessage),this.editor.subscribe(()=>this.state=!this.state)}watchHandler(t){this.editor.setItems(t)}render(){return this.editor?this.editor.render():e("div",null)}static get watchers(){return{rooms:["watchHandler"]}}};class _r extends Y{constructor(t,n,e){super(),this.items=t,this.stateChanged=n,this.showMessage=e}createDefaultItem(){return{id:u,name:"",price:0,seatsCount:2,propertyId:w.getUser().properties,isActive:!0}}getPath(){return"/rooms"}getCreateNewTitle(){return"ოთახის შექმნა"}getWrapperId(){return"rooms-editor-modal"}renderTableHeader(){return e("tr",null,e("th",null,"ნომერი"),e("th",null,"ადგილი"),e("th",null,"ფასი"),e("th",{style:{"min-width":"65px"}}))}renderViewMode(t){return[e("td",null,t.name),e("td",null,t.seatsCount),e("td",null,t.price)]}renderEditMode(t){return[e("td",null,e("input",{type:"text",onInput:n=>t.name=n.target.value,class:"form-control",value:t.name})),e("td",null,e("input",{type:"number",onInput:n=>t.seatsCount=+n.target.value,class:"form-control",value:t.seatsCount})),e("td",null,e("input",{type:"number",onInput:n=>t.price=+n.target.value,class:"form-control",value:t.price}))]}}const Ir=class{constructor(n){t(this,n),this.loggedIn=w.isLoggedIn()&&w.getUser().passwordChanged}handleLogin(){this.loggedIn=w.isLoggedIn()}componentWillLoad(){fetch(`${o().API_BASE_URL}/account/ping`)}renderLayout(){return e("div",null,e(this.loggedIn?"app-home":"app-login",null))}render(){return e("div",null,this.loggedIn?e("nav",{class:"navbar navbar-default"},e("div",{class:"container-fluid"},e("a",{class:"navbar-brand",href:"/"},"HotelPro"),e("button",{class:"navbar-toggler navbar-toggler-right collapsed",type:"button","data-toggle":"collapse","data-target":"#navbar","aria-controls":"navbar","aria-expanded":"false"},e("i",{class:"material-icons"},"menu")),e("div",{id:"navbar",class:"navbar-collapse collapse"},e("ul",{class:"nav navbar-nav navbar-right"},this.loggedIn?e("li",null,e("a",{onClick:()=>$("#expenses-editor-modal").modal("show")},"ხარჯთაღრიცხვა")):"",this.loggedIn?e("li",null,e("a",{onClick:()=>$("#filter-modal").modal("show"),id:"filter-btn"},"ოთახის ძებნა")):"",this.loggedIn?e("li",null,e("a",{onClick:()=>$("#rooms-editor-modal").modal("show")},"ოთახები")):"",this.loggedIn?e("li",{onClick:()=>w.logout()},e("a",{href:"/"},"გასვლა ")):"")))):"",this.renderLayout())}};Ir.style="header{background:#5851ff;color:white;height:56px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-box-shadow:0 2px 5px 0 rgba(0, 0, 0, 0.26);box-shadow:0 2px 5px 0 rgba(0, 0, 0, 0.26)}.navbar-toggler{font-size:12px;font-weight:800;padding:13px;background:transparent;color:#fff;border:none;-webkit-box-shadow:none;box-shadow:none;cursor:pointer}.navbar-toggler:hover{-webkit-transform:translateY(0);transform:translateY(0);background:transparent;color:#fff;border:none;-webkit-box-shadow:none;box-shadow:none;cursor:pointer}.navbar-collapse{-ms-flex-preferred-size:100%;flex-basis:100%;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}#navbar{border-color:transparent}.navbar .container-fluid{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.navbar .container-fluid::before{display:none;clear:both}.navbar .container-fluid::after{display:none;clear:both}@media (min-width: 768px){.navbar-toggler{display:none}.navbar-collapse{-ms-flex-preferred-size:auto;flex-basis:auto}}h1{font-size:1.4rem;font-weight:500;color:#fff;padding:0 12px}a{cursor:pointer}";const Fr=class{constructor(e){t(this,e),this.showBooking=n(this,"showBooking",7)}render(){return e("div",{class:"container-fluid schedule-wrapper"},e("div",{class:"row schedule-row"},e("div",{class:"col-xs-2 col-sm-1 item"}),this.schedule&&this.schedule.length?this.schedule[0].dates.map(t=>e("div",{class:"col-xs-1 item-header"},e("span",null,p(t)," "),v(t))):""),this.schedule&&this.schedule.length?this.schedule.map(t=>e("div",{class:"row schedule-row"},e("div",{class:"col-xs-2 col-sm-1 item"},e("p",null,t.room.name," - ",t.room.seatsCount)),t.roomSchedule.map(n=>e("div",{onClick:()=>this.handleScheduleItemClick(t,n),class:"col-xs-1 item"},e("span",{class:this.getScheduleItemClassNames(n)}))))):"")}getScheduleItemClassNames(t){let n="";return t.bookingId&&(n+="red"),t.isCheckInDay&&(n+=" item-start"),t.isCheckOutDay&&(n+=" item-end"),n}handleScheduleItemClick(t,n){this.showBooking.emit({room:t.room,booking:n.bookingId?t.bookings[n.bookingId]:null,date:h(n.date,"/")})}};Fr.style="*{-webkit-box-sizing:border-box;box-sizing:border-box}.item{height:32px;border-top:1px solid #888;border-right:1px solid #888;position:relative;cursor:pointer}.item:hover,.item:focus,.item:active{border:2px solid #888}.item-header{height:32px;border:none;font-size:14px}@media screen and (max-width: 800px){.item-header{font-size:12px}.schedule-row p{font-size:12px}.item-header span{display:block}}@media screen and (max-width: 650px){.item-header{font-size:10px}.item-header span{display:block}}.item-header.col-xs-1{padding:0}.item.col-xs-1{padding:0}.item.col-xs-2{padding:0;border:none;text-align:right;padding-right:5px;font-size:14px}.item>span.red{display:block;height:50%;position:absolute;top:25%;left:0;width:calc(100% + 1px)}.item>.item-start{border-top-left-radius:50px;border-bottom-left-radius:50px}.item>.item-end{border-top-right-radius:50px;border-bottom-right-radius:50px}.item>p{line-height:32px}.row.schedule-row{margin-right:-45px;margin-left:-45px}.schedule-wrapper{margin-top:15px;margin-bottom:30px;color:#fff}";const Lr=class{constructor(n){t(this,n)}render(){return e("div",{id:"tables-modal",class:"modal fade",role:"dialog"},e("div",{class:"modal-dialog"},e("div",{class:"modal-content"},e("div",{class:"modal-header"},e("button",{type:"button",class:"close","data-dismiss":"modal"},"×"),e("h4",{class:"modal-title"},"ოთახების მართვა")),e("div",{class:"modal-body"},e("div",{class:"row"})),e("div",{class:"modal-footer"},e("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal"},"წაშლა")," ",e("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"დახურვა")))))}},Or=class{constructor(n){t(this,n)}show(t){this.message=t,setTimeout(()=>this.close(),4e3)}close(){this.message=""}render(){return this.message?e("div",{id:"app-toasty-wrapper"},e("div",{class:"toasty-message alert alert-danger"},e("i",{onClick:()=>this.close(),class:"material-icons close"},"x"),e("p",{class:"toasty-message-text"},this.message))):e("div",null)}};Or.style='app-toasty #app-toasty-wrapper{position:fixed;bottom:20px;right:20px;z-index:9999}app-toasty .toasty-message{cursor:pointer;margin:0 0 6px;padding:0;width:285px;height:65px;-webkit-box-shadow:0px 0px 5px 0px rgba(0, 0, 0, 0.25);box-shadow:0px 0px 5px 0px rgba(0, 0, 0, 0.25);position:relative;border-radius:3px;text-align:center}app-toasty .toasty-message-text{font-size:14px;font-family:"CircularBook";position:absolute;top:50%;left:0;right:0;-webkit-transform:translate(0, -50%);transform:translate(0, -50%)}app-toasty i.close{position:absolute;right:0;top:-6px;font-size:20px}';export{M as app_board,x as app_change_password,D as app_confirm,S as app_date_selector,C as app_expenses_editor,T as app_filter_modal,Dr as app_foh_stats,Sr as app_home,Yr as app_loader,Cr as app_login,Nr as app_report,Tr as app_room_info,Ar as app_rooms_editor,Ir as app_root,Fr as app_schedule_view,Lr as app_tables_modal,Or as app_toasty}